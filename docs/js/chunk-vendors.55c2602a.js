(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"00fd":function(e,t,n){var r=n("9e69"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;function u(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(u){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}e.exports=u},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"03dd":function(e,t,n){var r=n("eac5"),i=n("57a5"),o=Object.prototype,s=o.hasOwnProperty;function a(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=a},"04a0":function(e,t,n){(function(){var n={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var r="string"==typeof e.initial?{state:e.initial}:e.initial,i=e.terminal||e["final"],o=t||e.target||{},s=e.events||[],a=e.callbacks||{},u={},c={},f=function(e){var t=Array.isArray(e.from)?e.from:e.from?[e.from]:[n.WILDCARD];u[e.name]=u[e.name]||{};for(var r=0;r<t.length;r++)c[t[r]]=c[t[r]]||[],c[t[r]].push(e.name),u[e.name][t[r]]=e.to||t[r];e.to&&(c[e.to]=c[e.to]||[])};r&&(r.event=r.event||"startup",f({name:r.event,from:"none",to:r.state}));for(var l=0;l<s.length;l++)f(s[l]);for(var h in u)u.hasOwnProperty(h)&&(o[h]=n.buildEvent(h,u[h]));for(var h in a)a.hasOwnProperty(h)&&(o[h]=a[h]);return o.current="none",o.is=function(e){return Array.isArray(e)?e.indexOf(this.current)>=0:this.current===e},o.can=function(e){return!this.transition&&void 0!==u[e]&&(u[e].hasOwnProperty(this.current)||u[e].hasOwnProperty(n.WILDCARD))},o.cannot=function(e){return!this.can(e)},o.transitions=function(){return(c[this.current]||[]).concat(c[n.WILDCARD]||[])},o.isFinished=function(){return this.is(i)},o.error=e.error||function(e,t,n,r,i,o,s){throw s||o},o.states=function(){return Object.keys(c).sort()},r&&!r.defer&&o[r.event](),o},doCallback:function(e,t,r,i,o,s){if(t)try{return t.apply(e,[r,i,o].concat(s))}catch(a){return e.error(r,i,o,s,n.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",a)}},beforeAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e["onbeforeevent"],t,r,i,o)},afterAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e["onafterevent"]||e["onevent"],t,r,i,o)},leaveAnyState:function(e,t,r,i,o){return n.doCallback(e,e["onleavestate"],t,r,i,o)},enterAnyState:function(e,t,r,i,o){return n.doCallback(e,e["onenterstate"]||e["onstate"],t,r,i,o)},changeState:function(e,t,r,i,o){return n.doCallback(e,e["onchangestate"],t,r,i,o)},beforeThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onbefore"+t],t,r,i,o)},afterThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onafter"+t]||e["on"+t],t,r,i,o)},leaveThisState:function(e,t,r,i,o){return n.doCallback(e,e["onleave"+r],t,r,i,o)},enterThisState:function(e,t,r,i,o){return n.doCallback(e,e["onenter"+i]||e["on"+i],t,r,i,o)},beforeEvent:function(e,t,r,i,o){if(!1===n.beforeThisEvent(e,t,r,i,o)||!1===n.beforeAnyEvent(e,t,r,i,o))return!1},afterEvent:function(e,t,r,i,o){n.afterThisEvent(e,t,r,i,o),n.afterAnyEvent(e,t,r,i,o)},leaveState:function(e,t,r,i,o){var s=n.leaveThisState(e,t,r,i,o),a=n.leaveAnyState(e,t,r,i,o);return!1!==s&&!1!==a&&(n.ASYNC===s||n.ASYNC===a?n.ASYNC:void 0)},enterState:function(e,t,r,i,o){n.enterThisState(e,t,r,i,o),n.enterAnyState(e,t,r,i,o)},buildEvent:function(e,t){return function(){var r=this.current,i=t[r]||(t[n.WILDCARD]!=n.WILDCARD?t[n.WILDCARD]:r)||r,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,r,i,o,n.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,r,i,o,n.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===n.beforeEvent(this,e,r,i,o))return n.Result.CANCELLED;if(r===i)return n.afterEvent(this,e,r,i,o),n.Result.NOTRANSITION;var s=this;this.transition=function(){return s.transition=null,s.current=i,n.enterState(s,e,r,i,o),n.changeState(s,e,r,i,o),n.afterEvent(s,e,r,i,o),n.Result.SUCCEEDED},this.transition.cancel=function(){s.transition=null,n.afterEvent(s,e,r,i,o)};var a=n.leaveState(this,e,r,i,o);return!1===a?(this.transition=null,n.Result.CANCELLED):n.ASYNC===a?n.Result.PENDING:this.transition?this.transition():void 0}}};e.exports&&(t=e.exports=n),t.StateMachine=n})()},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},"0676":function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),u=n("5135"),c=n("0cfb"),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=a(t,!0),c)try{return f(e,t)}catch(n){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},"07c7":function(e,t){function n(){return!1}e.exports=n},"0bda":function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudbaseCache=void 0;var s=n("f10f"),a=n("8a32"),u=n("56b0"),c=function(e){function t(t){var n=e.call(this)||this;return n._root=t,t["tcbCacheObject"]||(t["tcbCacheObject"]={}),n}return r(t,e),t.prototype.setItem=function(e,t){this._root["tcbCacheObject"][e]=t},t.prototype.getItem=function(e){return this._root["tcbCacheObject"][e]},t.prototype.removeItem=function(e){delete this._root["tcbCacheObject"][e]},t.prototype.clear=function(){delete this._root["tcbCacheObject"]},t}(s.AbstractStorage);function f(e,t){switch(e){case"local":return t.localStorage?t.localStorage:(a.printWarn(u.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new c(t.root));case"none":return new c(t.root);case"session":return t.sessionStorage?t.sessionStorage:(a.printWarn(u.ERRORS.INVALID_PARAMS,"sessionStorage is not supported on current platform"),new c(t.root));default:return t.localStorage?t.localStorage:(a.printWarn(u.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new c(t.root))}}var l=function(){function t(e){this.keys={};var t=e.persistence,n=e.platformInfo,r=void 0===n?{}:n,i=e.keys,o=void 0===i?{}:i,s=e.alwaysLocalKeys,a=void 0===s?[]:s;this._platformInfo=r,this._alwaysLocalKeys=a,this._storage||(this._persistence=r.adapter.primaryStorage||t,this._storage=f(this._persistence,r.adapter),this.keys=o)}return Object.defineProperty(t.prototype,"mode",{get:function(){return this._storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"persistence",{get:function(){return this._persistence},enumerable:!1,configurable:!0}),t.prototype.updatePersistence=function(e){if("async"!==this.mode){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=f(e,this._platformInfo.adapter);for(var r in this.keys){var i=this.keys[r];if(!t||!this._alwaysLocalKeys.includes(r)){var o=this._storage.getItem(i);a.isUndefined(o)||a.isNull(o)||(n.setItem(i,o),this._storage.removeItem(i))}}this._storage=n}}else a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use updatePersistenceAsync insteed")},t.prototype.updatePersistenceAsync=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,s,u,c,l;return o(this,(function(o){switch(o.label){case 0:if(e===this._persistence)return[2];for(i in t="local"===this._persistence,this._persistence=e,n=f(e,this._platformInfo.adapter),r=[],this.keys)r.push(i);s=0,o.label=1;case 1:return s<r.length?(u=r[s],c=this.keys[u],t&&this._alwaysLocalKeys.includes(u)?[3,4]:[4,this._storage.getItem(c)]):[3,5];case 2:return l=o.sent(),a.isUndefined(l)||a.isNull(l)?[3,4]:(n.setItem(c,l),[4,this._storage.removeItem(c)]);case 3:o.sent(),o.label=4;case 4:return s++,[3,1];case 5:return this._storage=n,[2]}}))}))},t.prototype.setStore=function(e,t,n){if("async"!==this.mode){if(this._storage)try{var r={version:n||"localCachev1",content:t};this._storage.setItem(e,JSON.stringify(r))}catch(i){throw new Error(JSON.stringify({code:u.ERRORS.OPERATION_FAIL,msg:"["+u.getSdkName()+"]["+u.ERRORS.OPERATION_FAIL+"]setStore failed",info:i}))}}else a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed")},t.prototype.setStoreAsync=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:if(!this._storage)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),r={version:n||"localCachev1",content:t},[4,this._storage.setItem(e,JSON.stringify(r))];case 2:return i.sent(),[3,4];case 3:return i.sent(),[2];case 4:return[2]}}))}))},t.prototype.getStore=function(t,n){var r;if("async"!==this.mode){try{if("undefined"!==typeof e&&(null===(r=Object({NODE_ENV:"production",BASE_URL:""}))||void 0===r?void 0:r.tcb_token))return Object({NODE_ENV:"production",BASE_URL:""}).tcb_token;if(!this._storage)return""}catch(s){return""}n=n||"localCachev1";var i=this._storage.getItem(t);if(!i)return"";if(i.indexOf(n)>=0){var o=JSON.parse(i);return o.content}return""}a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed")},t.prototype.getStoreAsync=function(t,n){var r;return i(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:try{if("undefined"!==typeof e&&(null===(r=Object({NODE_ENV:"production",BASE_URL:""}))||void 0===r?void 0:r.tcb_token))return[2,Object({NODE_ENV:"production",BASE_URL:""}).tcb_token];if(!this._storage)return[2,""]}catch(a){return[2,""]}return n=n||"localCachev1",[4,this._storage.getItem(t)];case 1:return i=o.sent(),i&&i.indexOf(n)>=0?(s=JSON.parse(i),[2,s.content]):[2,""]}}))}))},t.prototype.removeStore=function(e){"async"!==this.mode?this._storage.removeItem(e):a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed")},t.prototype.removeStoreAsync=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._storage.removeItem(e)];case 1:return t.sent(),[2]}}))}))},t}();t.CloudbaseCache=l}).call(this,n("4362"))},"0c6c":function(e,t,n){var r,i,o;
/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */(function(s,a){i=[n("c976")],r=a,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})(0,(function(e){"use strict";var t=function(e,n,i){if("undefined"===typeof e&&(e=t.DEFAULT_CAPACITY),"undefined"===typeof n&&(n=t.DEFAULT_ENDIAN),"undefined"===typeof i&&(i=t.DEFAULT_NOASSERT),!i){if(e|=0,e<0)throw RangeError("Illegal capacity");n=!!n,i=!!i}this.buffer=0===e?r:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=n,this.noAssert=i};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),i=String.fromCharCode;function o(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function s(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+i.apply(String,e);e.length+arguments.length>1024&&(t.push(i.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function a(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)}function u(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+l>=1?h/u:h*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*y}t.accessor=function(){return Uint8Array},t.allocate=function(e,n,r){return new t(e,n,r)},t.concat=function(e,n,r,i){"boolean"!==typeof n&&"string"===typeof n||(i=r,r=n,n=void 0);for(var o,s=0,a=0,u=e.length;a<u;++a)t.isByteBuffer(e[a])||(e[a]=t.wrap(e[a],n)),o=e[a].limit-e[a].offset,o>0&&(s+=o);if(0===s)return new t(0,r,i);var c,f=new t(s,r,i);a=0;while(a<u)c=e[a++],o=c.limit-c.offset,o<=0||(f.view.set(c.view.subarray(c.offset,c.limit),f.offset),f.offset+=o);return f.limit=f.offset,f.offset=0,f},t.isByteBuffer=function(e){return!0===(e&&e["__isByteBuffer__"])},t.type=function(){return ArrayBuffer},t.wrap=function(e,r,i,o){if("string"!==typeof r&&(o=i,i=r,r=void 0),"string"===typeof e)switch("undefined"===typeof r&&(r="utf8"),r){case"base64":return t.fromBase64(e,i);case"hex":return t.fromHex(e,i);case"binary":return t.fromBinary(e,i);case"utf8":return t.fromUTF8(e,i);case"debug":return t.fromDebug(e,i);default:throw Error("Unsupported encoding: "+r)}if(null===e||"object"!==typeof e)throw TypeError("Illegal buffer");var s;if(t.isByteBuffer(e))return s=n.clone.call(e),s.markedOffset=-1,s;if(e instanceof Uint8Array)s=new t(0,i,o),e.length>0&&(s.buffer=e.buffer,s.offset=e.byteOffset,s.limit=e.byteOffset+e.byteLength,s.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)s=new t(0,i,o),e.byteLength>0&&(s.buffer=e,s.offset=0,s.limit=e.byteLength,s.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");s=new t(e.length,i,o),s.limit=e.length;for(var a=0;a<e.length;++a)s.view[a]=e[a]}return s},n.writeBitSet=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t,o=e.length,s=o>>3,a=0;t+=this.writeVarint32(o,t);while(s--)r=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(r,t++);if(a<o){var u=0;r=0;while(a<o)r|=(1&!!e[a++])<<u++;this.writeByte(r,t++)}return n?(this.offset=t,this):t-i},n.readBitSet=function(e){var t="undefined"===typeof e;t&&(e=this.offset);var n,r=this.readVarint32(e),i=r.value,o=i>>3,s=0,a=[];e+=r.length;while(o--)n=this.readByte(e++),a[s++]=!!(1&n),a[s++]=!!(2&n),a[s++]=!!(4&n),a[s++]=!!(8&n),a[s++]=!!(16&n),a[s++]=!!(32&n),a[s++]=!!(64&n),a[s++]=!!(128&n);if(s<i){var u=0;n=this.readByte(e++);while(s<i)a[s++]=!!(n>>u++&1)}return t&&(this.offset=e),a},n.readBytes=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var r=this.slice(t,t+e);return n&&(this.offset+=e),r},n.writeBytes=n.append,n.writeInt8=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return 128===(128&n)&&(n=-(255-n+1)),t&&(this.offset+=1),n},n.readByte=n.readInt8,n.writeUint8=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return t&&(this.offset+=1),n},n.readUInt8=n.readUint8,n.writeInt16=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),32768===(32768&n)&&(n=-(65535-n+1)),t&&(this.offset+=2),n},n.readShort=n.readInt16,n.writeUint16=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),t&&(this.offset+=2),n},n.readUInt16=n.readUint16,n.writeInt32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),n|=0,t&&(this.offset+=4),n},n.readInt=n.readInt32,n.writeUint32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),t&&(this.offset+=4),n},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!1);return n&&(this.offset+=8),o},n.readLong=n.readInt64,n.writeUint64=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!0);return n&&(this.offset+=8),o},n.readUInt64=n.readUint64),n.writeFloat32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,u(this.view,e,t,this.littleEndian,23,4),n&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=a(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),n},n.readFloat=n.readFloat32,n.writeFloat64=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=8,u(this.view,e,t,this.littleEndian,52,8),n&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=a(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),n},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},n.writeVarint32=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o=t.calculateVarint32(e);n+=o;var s=this.buffer.byteLength;n>s&&this.resize((s*=2)>n?s:n),n-=o,e>>>=0;while(e>=128)i=127&e|128,this.view[n++]=i,e>>>=7;return this.view[n++]=e,r?(this.offset=n,this):o},n.writeVarint32ZigZag=function(e,n){return this.writeVarint32(t.zigZagEncode32(e),n)},n.readVarint32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=0,i=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o["truncated"]=!0,o}n=this.view[e++],r<5&&(i|=(127&n)<<7*r),++r}while(0!==(128&n));return i|=0,t?(this.offset=e,i):{value:i,length:r}},n.readVarint32ZigZag=function(e){var n=this.readVarint32(e);return"object"===typeof n?n["value"]=t.zigZagDecode32(n["value"]):n=t.zigZagDecode32(n),n},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},t.zigZagEncode64=function(t){return"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(n,r){var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"===typeof n)n=e.fromNumber(n);else if("string"===typeof n)n=e.fromString(n);else if(!(n&&n instanceof e))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"===typeof n?n=e.fromNumber(n,!1):"string"===typeof n?n=e.fromString(n,!1):!1!==n.unsigned&&(n=n.toSigned());var o=t.calculateVarint64(n),s=n.toInt()>>>0,a=n.shiftRightUnsigned(28).toInt()>>>0,u=n.shiftRightUnsigned(56).toInt()>>>0;r+=o;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=o,o){case 10:this.view[r+9]=u>>>7&1;case 9:this.view[r+8]=9!==o?128|u:127&u;case 8:this.view[r+7]=8!==o?a>>>21|128:a>>>21&127;case 7:this.view[r+6]=7!==o?a>>>14|128:a>>>14&127;case 6:this.view[r+5]=6!==o?a>>>7|128:a>>>7&127;case 5:this.view[r+4]=5!==o?128|a:127&a;case 4:this.view[r+3]=4!==o?s>>>21|128:s>>>21&127;case 3:this.view[r+2]=3!==o?s>>>14|128:s>>>14&127;case 2:this.view[r+1]=2!==o?s>>>7|128:s>>>7&127;case 1:this.view[r]=1!==o?128|s:127&s}return i?(this.offset+=o,this):o},n.writeVarint64ZigZag=function(e,n){return this.writeVarint64(t.zigZagEncode64(e),n)},n.readVarint64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,o=0,s=0,a=0;if(a=this.view[t++],i=127&a,128&a&&(a=this.view[t++],i|=(127&a)<<7,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],i|=(127&a)<<14,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],i|=(127&a)<<21,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o=127&a,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o|=(127&a)<<7,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o|=(127&a)<<14,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o|=(127&a)<<21,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],s=127&a,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],s|=(127&a)<<7,128&a||this.noAssert&&"undefined"===typeof a))))))))))throw Error("Buffer overrun");var u=e.fromBits(i|o<<28,o>>>4|s<<24,!1);return n?(this.offset=t,u):{value:u,length:t-r}},n.readVarint64ZigZag=function(n){var r=this.readVarint64(n);return r&&r["value"]instanceof e?r["value"]=t.zigZagDecode64(r["value"]):r=t.zigZagDecode64(r),r}),n.writeCString=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);var r,i=e.length;if(!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");for(r=0;r<i;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}i=f.calculateUTF16asUTF8(o(e))[1],t+=i+1;var s=this.buffer.byteLength;return t>s&&this.resize((s*=2)>t?s:t),t-=i+1,f.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,n?(this.offset=t,this):i},n.readCString=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=e,i=-1;return f.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return i=this.view[e++],0===i?null:i}.bind(this),n=s(),!0),t?(this.offset=e,n()):{string:n(),length:e-r}},n.writeIString=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t;r=f.calculateUTF16asUTF8(o(e),this.noAssert)[1],t+=4+r;var s=this.buffer.byteLength;if(t>s&&this.resize((s*=2)>t?s:t),t-=4+r,this.littleEndian?(this.view[t+3]=r>>>24&255,this.view[t+2]=r>>>16&255,this.view[t+1]=r>>>8&255,this.view[t]=255&r):(this.view[t]=r>>>24&255,this.view[t+1]=r>>>16&255,this.view[t+2]=r>>>8&255,this.view[t+3]=255&r),t+=4,f.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),t!==i+4+r)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+r));return n?(this.offset=t,this):t-i},n.readIString=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=e,i=this.readUint32(e),o=this.readUTF8String(i,t.METRICS_BYTES,e+=4);return e+=o["length"],n?(this.offset=e,o["string"]):{string:o["string"],length:e-r}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(e,t){var n,r="undefined"===typeof t;if(r&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i=t;n=f.calculateUTF16asUTF8(o(e))[1],t+=n;var s=this.buffer.byteLength;return t>s&&this.resize((s*=2)>t?s:t),t-=n,f.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),r?(this.offset=t,this):t-i},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(e){return f.calculateUTF16asUTF8(o(e))[0]},t.calculateUTF8Bytes=function(e){return f.calculateUTF16asUTF8(o(e))[1]},t.calculateString=t.calculateUTF8Bytes,n.readUTF8String=function(e,n,r){"number"===typeof n&&(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),"undefined"===typeof n&&(n=t.METRICS_CHARS),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,a=0,u=r;if(n===t.METRICS_CHARS){if(o=s(),f.decodeUTF8(function(){return a<e&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++a,f.UTF8toUTF16(e,o)})),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return i?(this.offset=r,o()):{string:o(),length:r-u}}if(n===t.METRICS_BYTES){if(!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var c=r+e;if(f.decodeUTF8toUTF16(function(){return r<c?this.view[r++]:null}.bind(this),o=s(),this.noAssert),r!==c)throw RangeError("Illegal range: Truncated data, "+r+" == "+c);return i?(this.offset=r,o()):{string:o(),length:r-u}}throw TypeError("Unsupported metrics: "+n)},n.readString=n.readUTF8String,n.writeVString=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,s,a=n;i=f.calculateUTF16asUTF8(o(e),this.noAssert)[1],s=t.calculateVarint32(i),n+=s+i;var u=this.buffer.byteLength;if(n>u&&this.resize((u*=2)>n?u:n),n-=s+i,n+=this.writeVarint32(i,n),f.encodeUTF16toUTF8(o(e),function(e){this.view[n++]=e}.bind(this)),n!==a+i+s)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+i+s));return r?(this.offset=n,this):n-a},n.readVString=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=this.readVarint32(e),o=this.readUTF8String(i["value"],t.METRICS_BYTES,e+=i["length"]);return e+=o["length"],n?(this.offset=e,o["string"]):{string:o["string"],length:e-r}},n.append=function(e,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;r+=o;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=o,this.view.set(e.view.subarray(e.offset,e.limit),r),e.offset+=o,i&&(this.offset+=o),this},n.appendTo=function(e,t){return e.append(this,t),this},n.assert=function(e){return this.noAssert=!e,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(e){var n=new t(0,this.littleEndian,this.noAssert);return e?(n.buffer=new ArrayBuffer(this.buffer.byteLength),n.view=new Uint8Array(n.buffer)):(n.buffer=this.buffer,n.view=this.view),n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},n.compact=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),o=new Uint8Array(i);return o.set(this.view.subarray(e,t)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},n.copy=function(e,n){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e===n)return new t(0,this.littleEndian,this.noAssert);var r=n-e,i=new t(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,n),i},n.copyTo=function(e,n,r,i){var o,s;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(s="undefined"===typeof n)?e.offset:0|n,r=(o="undefined"===typeof r)?this.offset:0|r,i="undefined"===typeof i?this.limit:0|i,n<0||n>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.ensureCapacity(n+a),e.view.set(this.view.subarray(r,i),n),o&&(this.offset+=a),s&&(e.offset+=a),this)},n.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},n.fill=function(e,t,n){var r="undefined"===typeof t;if(r&&(t=this.offset),"string"===typeof e&&e.length>0&&(e=e.charCodeAt(0)),"undefined"===typeof t&&(t=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;while(t<n)this.view[t++]=e;return r&&(this.offset=t),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(e){if(e="undefined"===typeof e?this.offset:e,!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},n.order=function(e){if(!this.noAssert&&"boolean"!==typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},n.LE=function(e){return this.littleEndian="undefined"===typeof e||!!e,this},n.BE=function(e){return this.littleEndian="undefined"!==typeof e&&!e,this},n.prepend=function(e,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;var s=o-r;if(s>0){var a=new ArrayBuffer(this.buffer.byteLength+s),u=new Uint8Array(a);u.set(this.view.subarray(r,this.buffer.byteLength),o),this.buffer=a,this.view=u,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,r+=s}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),r-o),e.offset=e.limit,i&&(this.offset-=o),this},n.prependTo=function(e,t){return e.prepend(this,t),this},n.printDebug=function(e){"function"!==typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if(e|=0,e<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view),this.buffer=t,this.view=n}return this},n.reverse=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},n.skip=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},n.slice=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},n.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return r;var i=new ArrayBuffer(n-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,n),0),i},n.toArrayBuffer=n.toBuffer,n.toString=function(e,t,n){if("undefined"===typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"===typeof e&&(e="utf8",t=e,n=t),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var c=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=t.length;r<i;++r)n[t[r]]=r;return e.encode=function(e,n){var r,i;while(null!==(r=e()))n(t[r>>2&63]),i=(3&r)<<4,null!==(r=e())?(i|=r>>4&15,n(t[63&(i|r>>4&15)]),i=(15&r)<<2,null!==(r=e())?(n(t[63&(i|r>>6&3)]),n(t[63&r])):(n(t[63&i]),n(61))):(n(t[63&i]),n(61),n(61))},e.decode=function(e,t){var r,i,o;function s(e){throw Error("Illegal character code: "+e)}while(null!==(r=e()))if(i=n[r],"undefined"===typeof i&&s(r),null!==(r=e())&&(o=n[r],"undefined"===typeof o&&s(r),t(i<<2>>>0|(48&o)>>4),null!==(r=e()))){if(i=n[r],"undefined"===typeof i){if(61===r)break;s(r)}if(t((15&o)<<4>>>0|(60&i)>>2),null!==(r=e())){if(o=n[r],"undefined"===typeof o){if(61===r)break;s(r)}t((3&i)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();n.toBase64=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity||e>t)throw RangeError("begin, end");var n;return c.encode(function(){return e<t?this.view[e++]:null}.bind(this),n=s()),n()},t.fromBase64=function(e,n){if("string"!==typeof e)throw TypeError("str");var r=new t(e.length/4*3,n),i=0;return c.decode(o(e),(function(e){r.view[i++]=e})),r.limit=i,r},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},n.toBinary=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";var n=[],r=[];while(e<t)n.push(this.view[e++]),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},t.fromBinary=function(e,n){if("string"!==typeof e)throw TypeError("str");var r,i=0,o=e.length,s=new t(o,n);while(i<o){if(r=e.charCodeAt(i),r>255)throw RangeError("illegal char code: "+r);s.view[i++]=r}return s.limit=o,s},n.toDebug=function(e){var t,n=-1,r=this.buffer.byteLength,i="",o="",s="";while(n<r){if(-1!==n&&(t=this.view[n],i+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16===0&&n!==r){while(i.length<51)i+=" ";s+=i+o+"\n",i=o=""}n===this.offset&&n===this.limit?i+=n===this.markedOffset?"!":"|":n===this.offset?i+=n===this.markedOffset?"[":"<":n===this.limit?i+=n===this.markedOffset?"]":">":i+=n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){while(i.length<51)i+=" ";s+=i+o+"\n"}return e?s:i},t.fromDebug=function(e,n,r){var i,o,s=e.length,a=new t((s+1)/3|0,n,r),u=0,c=0,f=!1,l=!1,h=!1,p=!1,d=!1;while(u<s){switch(i=e.charAt(u++)){case"!":if(!r){if(l||h||p){d=!0;break}l=h=p=!0}a.offset=a.markedOffset=a.limit=c,f=!1;break;case"|":if(!r){if(l||p){d=!0;break}l=p=!0}a.offset=a.limit=c,f=!1;break;case"[":if(!r){if(l||h){d=!0;break}l=h=!0}a.offset=a.markedOffset=c,f=!1;break;case"<":if(!r){if(l){d=!0;break}l=!0}a.offset=c,f=!1;break;case"]":if(!r){if(p||h){d=!0;break}p=h=!0}a.limit=a.markedOffset=c,f=!1;break;case">":if(!r){if(p){d=!0;break}p=!0}a.limit=c,f=!1;break;case"'":if(!r){if(h){d=!0;break}h=!0}a.markedOffset=c,f=!1;break;case" ":f=!1;break;default:if(!r&&f){d=!0;break}if(o=parseInt(i+e.charAt(u++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[c++]=o,f=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+u)}if(!r){if(!l||!p)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+s)}return a},n.toHex=function(e,t){if(e="undefined"===typeof e?this.offset:e,t="undefined"===typeof t?this.limit:t,!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n,r=new Array(t-e);while(e<t)n=this.view[e++],n<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},t.fromHex=function(e,n,r){if(!r){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=e.length,s=new t(o/2|0,n),a=0,u=0;a<o;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[u++]=i}return s.limit=u,s};var f=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;"number"===typeof e&&(n=e,e=function(){return null});while(null!==n||null!==(n=e()))n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},decodeUTF8:function(e,t){var n,r,i,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t["bytes"]=e,t};while(null!==(n=e()))if(0===(128&n))t(n);else if(192===(224&n))null===(r=e())&&s([n,r]),t((31&n)<<6|63&r);else if(224===(240&n))(null===(r=e())||null===(i=e()))&&s([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!==(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&s([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){var n,r=null;while(1){if(null===(n=null!==r?r:e()))break;n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n)}null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;"number"===typeof e&&(n=e,e=function(){return null});while(null!==n||null!==(n=e()))n<=65535?t(n):(n-=65536,t(55296+(n>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){var t,n=0;while(null!==(t=e()))n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,(function(e){++n,r+=e<128?1:e<2048?2:e<65536?3:4})),[n,r]}};return e}();return n.toUTF8=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;try{f.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),n=s())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return n()},t.fromUTF8=function(e,n,r){if(!r&&"string"!==typeof e)throw TypeError("Illegal str: Not a string");var i=new t(f.calculateUTF16asUTF8(o(e),!0)[1],n,r),s=0;return f.encodeUTF16toUTF8(o(e),(function(e){i.view[s++]=e})),i.limit=s,i},t}))},"0cf0":function(e,t,n){(function(r){var i,o,s;
/**
 * @license protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/protobuf.js for details
 */(function(r,a){o=[n("0c6c")],i=a,s="function"===typeof i?i.apply(t,o):i,void 0===s||(e.exports=s)})(0,(function(e,t){"use strict";var i={};return i.ByteBuffer=e,i.Long=e.Long||null,i.VERSION="5.0.3",i.WIRE_TYPES={},i.WIRE_TYPES.VARINT=0,i.WIRE_TYPES.BITS64=1,i.WIRE_TYPES.LDELIM=2,i.WIRE_TYPES.STARTGROUP=3,i.WIRE_TYPES.ENDGROUP=4,i.WIRE_TYPES.BITS32=5,i.PACKABLE_WIRE_TYPES=[i.WIRE_TYPES.VARINT,i.WIRE_TYPES.BITS64,i.WIRE_TYPES.BITS32],i.TYPES={int32:{name:"int32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.ZERO:void 0},uint64:{name:"uint64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.UZERO:void 0},sint64:{name:"sint64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.ZERO:void 0},bool:{name:"bool",wireType:i.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:i.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:i.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:i.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:i.WIRE_TYPES.BITS64,defaultValue:i.Long?i.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:i.WIRE_TYPES.BITS64,defaultValue:i.Long?i.Long.ZERO:void 0},float:{name:"float",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:i.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:i.WIRE_TYPES.STARTGROUP,defaultValue:null}},i.MAP_KEY_TYPES=[i.TYPES["int32"],i.TYPES["sint32"],i.TYPES["sfixed32"],i.TYPES["uint32"],i.TYPES["fixed32"],i.TYPES["int64"],i.TYPES["sint64"],i.TYPES["sfixed64"],i.TYPES["uint64"],i.TYPES["fixed64"],i.TYPES["bool"],i.TYPES["string"],i.TYPES["bytes"]],i.ID_MIN=1,i.ID_MAX=536870911,i.convertFieldsToCamelCase=!1,i.populateAccessors=!0,i.populateDefaults=!0,i.Util=function(){var e={};return e.IS_NODE=!("object"!==typeof r||r+""!=="[object process]"||r["browser"]),e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,r){if(r&&"function"!=typeof r&&(r=null),e.IS_NODE){var i=n(2);if(r)i.readFile(t,(function(e,t){r(e?null:""+t)}));else try{return i.readFileSync(t)}catch(s){return null}}else{var o=e.XHR();if(o.open("GET",t,!!r),o.setRequestHeader("Accept","text/plain"),"function"===typeof o.overrideMimeType&&o.overrideMimeType("text/plain"),!r)return o.send(null),200==o.status||0==o.status&&"string"===typeof o.responseText?o.responseText:null;if(o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0==o.status&&"string"===typeof o.responseText?r(o.responseText):r(null))},4==o.readyState)return;o.send(null)}},e.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},e}(),i.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,FQTYPEREF:/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},i.Reflect=function(t){var n={},r=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},i=r.prototype;i.fqn=function(){var e=this.name,t=this;do{if(t=t.parent,null==t)break;e=t.name+"."+e}while(1);return e},i.toString=function(e){return(e?this.className+" ":"")+this.fqn()},i.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=r;var o=function(e,t,n,i,o){r.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=o||"proto2"},s=o.prototype=Object.create(r.prototype);s.getChildren=function(e){if(e=e||null,null==e)return this.children.slice();for(var t=[],n=0,r=this.children.length;n<r;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},s.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof l.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof l.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},s.getChild=function(e){for(var t="number"===typeof e?"id":"name",n=0,r=this.children.length;n<r;++n)if(this.children[n][t]===e)return this.children[n];return null},s.resolve=function(e,t){var r,i="string"===typeof e?e.split("."):e,o=this,s=0;if(""===i[s]){while(null!==o.parent)o=o.parent;s++}do{do{if(!(o instanceof n.Namespace)){o=null;break}if(r=o.getChild(i[s]),!r||!(r instanceof n.T)||t&&!(r instanceof n.Namespace)){o=null;break}o=r,s++}while(s<i.length);if(null!=o)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=o);return o},s.qn=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var o=t.slice(t.length-i);if(e===this.resolve(o,e instanceof n.Namespace))return o.join(".")}return e.fqn()},s.build=function(){for(var e,t={},n=this.children,r=0,i=n.length;r<i;++r)e=n[r],e instanceof o&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},s.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,r=t.length;n<r;++n){var i=t[n],o=this.options[t[n]];e[i]=o}return e},s.getOption=function(e){return"undefined"===typeof e?this.options:"undefined"!==typeof this.options[e]?this.options[e]:null},n.Namespace=o;var a=function(e,n,r,i,o){if(this.type=e,this.resolvedType=n,this.isMapKey=r,this.syntax=i,this.name=o,r&&t.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},u=a.prototype;function c(n){if("string"===typeof n&&(n=t.TYPES[n]),"undefined"===typeof n.defaultValue)throw Error("default value for type "+n.name+" is not supported");return n==t.TYPES["bytes"]?new e(0):n.defaultValue}function f(e,n){if(e&&"number"===typeof e.low&&"number"===typeof e.high&&"boolean"===typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,"undefined"===typeof n?e.unsigned:n);if("string"===typeof e)return t.Long.fromString(e,n||!1,10);if("number"===typeof e)return t.Long.fromNumber(e,n||!1);throw Error("not convertible to Long")}a.defaultFieldValue=c,u.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},u.verifyValue=function(n){var r=this;function i(e,t){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+e+" ("+t+")")}switch(this.type){case t.TYPES["int32"]:case t.TYPES["sint32"]:case t.TYPES["sfixed32"]:return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),n>4294967295?0|n:n;case t.TYPES["uint32"]:case t.TYPES["fixed32"]:return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),n<0?n>>>0:n;case t.TYPES["int64"]:case t.TYPES["sint64"]:case t.TYPES["sfixed64"]:if(t.Long)try{return f(n,!1)}catch(u){i(typeof n,u.message)}else i(typeof n,"requires Long.js");case t.TYPES["uint64"]:case t.TYPES["fixed64"]:if(t.Long)try{return f(n,!0)}catch(u){i(typeof n,u.message)}else i(typeof n,"requires Long.js");case t.TYPES["bool"]:return"boolean"!==typeof n&&i(typeof n,"not a boolean"),n;case t.TYPES["float"]:case t.TYPES["double"]:return"number"!==typeof n&&i(typeof n,"not a number"),n;case t.TYPES["string"]:return"string"===typeof n||n&&n instanceof String||i(typeof n,"not a string"),""+n;case t.TYPES["bytes"]:return e.isByteBuffer(n)?n:e.wrap(n,"base64");case t.TYPES["enum"]:var o=this.resolvedType.getChildren(t.Reflect.Enum.Value);for(a=0;a<o.length;a++){if(o[a].name==n)return o[a].id;if(o[a].id==n)return o[a].id}if("proto3"===this.syntax)return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),(n>4294967295||n<0)&&i(typeof n,"not in range for uint32"),n;i(n,"not a valid enum value");case t.TYPES["group"]:case t.TYPES["message"]:if(n&&"object"===typeof n||i(typeof n,"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof t.Builder.Message){var s={};for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);n=s}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},u.calculateLength=function(n,r){if(null===r)return 0;var i;switch(this.type){case t.TYPES["int32"]:return r<0?e.calculateVarint64(r):e.calculateVarint32(r);case t.TYPES["uint32"]:return e.calculateVarint32(r);case t.TYPES["sint32"]:return e.calculateVarint32(e.zigZagEncode32(r));case t.TYPES["fixed32"]:case t.TYPES["sfixed32"]:case t.TYPES["float"]:return 4;case t.TYPES["int64"]:case t.TYPES["uint64"]:return e.calculateVarint64(r);case t.TYPES["sint64"]:return e.calculateVarint64(e.zigZagEncode64(r));case t.TYPES["fixed64"]:case t.TYPES["sfixed64"]:return 8;case t.TYPES["bool"]:return 1;case t.TYPES["enum"]:return e.calculateVarint32(r);case t.TYPES["double"]:return 8;case t.TYPES["string"]:return i=e.calculateUTF8Bytes(r),e.calculateVarint32(i)+i;case t.TYPES["bytes"]:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return e.calculateVarint32(r.remaining())+r.remaining();case t.TYPES["message"]:return i=this.resolvedType.calculate(r),e.calculateVarint32(i)+i;case t.TYPES["group"]:return i=this.resolvedType.calculate(r),i+e.calculateVarint32(n<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},u.encodeValue=function(n,r,i){if(null===r)return i;switch(this.type){case t.TYPES["int32"]:r<0?i.writeVarint64(r):i.writeVarint32(r);break;case t.TYPES["uint32"]:i.writeVarint32(r);break;case t.TYPES["sint32"]:i.writeVarint32ZigZag(r);break;case t.TYPES["fixed32"]:i.writeUint32(r);break;case t.TYPES["sfixed32"]:i.writeInt32(r);break;case t.TYPES["int64"]:case t.TYPES["uint64"]:i.writeVarint64(r);break;case t.TYPES["sint64"]:i.writeVarint64ZigZag(r);break;case t.TYPES["fixed64"]:i.writeUint64(r);break;case t.TYPES["sfixed64"]:i.writeInt64(r);break;case t.TYPES["bool"]:"string"===typeof r?i.writeVarint32("false"===r.toLowerCase()?0:!!r):i.writeVarint32(r?1:0);break;case t.TYPES["enum"]:i.writeVarint32(r);break;case t.TYPES["float"]:i.writeFloat32(r);break;case t.TYPES["double"]:i.writeFloat64(r);break;case t.TYPES["string"]:i.writeVString(r);break;case t.TYPES["bytes"]:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");var o=r.offset;i.writeVarint32(r.remaining()),i.append(r),r.offset=o;break;case t.TYPES["message"]:var s=(new e).LE();this.resolvedType.encode(r,s),i.writeVarint32(s.offset),i.append(s.flip());break;case t.TYPES["group"]:this.resolvedType.encode(r,i),i.writeVarint32(n<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return i},u.decode=function(e,n,r){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var i,o;switch(this.type){case t.TYPES["int32"]:return 0|e.readVarint32();case t.TYPES["uint32"]:return e.readVarint32()>>>0;case t.TYPES["sint32"]:return 0|e.readVarint32ZigZag();case t.TYPES["fixed32"]:return e.readUint32()>>>0;case t.TYPES["sfixed32"]:return 0|e.readInt32();case t.TYPES["int64"]:return e.readVarint64();case t.TYPES["uint64"]:return e.readVarint64().toUnsigned();case t.TYPES["sint64"]:return e.readVarint64ZigZag();case t.TYPES["fixed64"]:return e.readUint64();case t.TYPES["sfixed64"]:return e.readInt64();case t.TYPES["bool"]:return!!e.readVarint32();case t.TYPES["enum"]:return e.readVarint32();case t.TYPES["float"]:return e.readFloat();case t.TYPES["double"]:return e.readDouble();case t.TYPES["string"]:return e.readVString();case t.TYPES["bytes"]:if(o=e.readVarint32(),e.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+e.remaining());return i=e.clone(),i.limit=i.offset+o,e.offset+=o,i;case t.TYPES["message"]:return o=e.readVarint32(),this.resolvedType.decode(e,o);case t.TYPES["group"]:return this.resolvedType.decode(e,-1,r)}throw Error("[INTERNAL] Illegal decode type")},u.valueFromString=function(n){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES["int32"]:case t.TYPES["sint32"]:case t.TYPES["sfixed32"]:case t.TYPES["uint32"]:case t.TYPES["fixed32"]:return this.verifyValue(parseInt(n));case t.TYPES["int64"]:case t.TYPES["sint64"]:case t.TYPES["sfixed64"]:case t.TYPES["uint64"]:case t.TYPES["fixed64"]:return this.verifyValue(n);case t.TYPES["bool"]:return"true"===n;case t.TYPES["string"]:return this.verifyValue(n);case t.TYPES["bytes"]:return e.fromBinary(n)}},u.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES["bytes"]?e.toString("binary"):e.toString()},n.Element=a;var l=function(e,t,n,r,i,s){o.call(this,e,t,n,r,s),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null},h=l.prototype=Object.create(o.prototype);function p(e,n){var r=n.readVarint32(),i=7&r,o=r>>>3;switch(i){case t.WIRE_TYPES.VARINT:do{r=n.readUint8()}while(128===(128&r));break;case t.WIRE_TYPES.BITS64:n.offset+=8;break;case t.WIRE_TYPES.LDELIM:r=n.readVarint32(),n.offset+=r;break;case t.WIRE_TYPES.STARTGROUP:p(o,n);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+i)}return!0}h.build=function(n){if(this.clazz&&!n)return this.clazz;var r=function(t,n){var r=n.getChildren(t.Reflect.Message.Field),i=n.getChildren(t.Reflect.Message.OneOf),o=function(s,a){t.Builder.Message.call(this);for(var u=0,c=i.length;u<c;++u)this[i[u].name]=null;for(u=0,c=r.length;u<c;++u){var f=r[u];this[f.name]=f.repeated?[]:f.map?new t.Map(f):null,!f.required&&"proto3"!==n.syntax||null===f.defaultValue||(this[f.name]=f.defaultValue)}var l;if(arguments.length>0)if(1!==arguments.length||null===s||"object"!==typeof s||!("function"!==typeof s.encode||s instanceof o)||Array.isArray(s)||s instanceof t.Map||e.isByteBuffer(s)||s instanceof ArrayBuffer||t.Long&&s instanceof t.Long)for(u=0,c=arguments.length;u<c;++u)"undefined"!==typeof(l=arguments[u])&&this.$set(r[u].name,l);else this.$set(s)},s=o.prototype=Object.create(t.Builder.Message.prototype);s.add=function(e,r,i){var o=n._fieldsByName[e];if(!i){if(!o)throw Error(this+"#"+e+" is undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+e+" is not a repeated field");r=o.verifyValue(r,!0)}return null===this[e]&&(this[e]=[]),this[e].push(r),this},s.$add=s.add,s.set=function(e,r,i){if(e&&"object"===typeof e){for(var o in i=r,e)e.hasOwnProperty(o)&&"undefined"!==typeof(r=e[o])&&void 0===n._oneofsByName[o]&&this.$set(o,r,i);return this}var s=n._fieldsByName[e];if(i)this[e]=r;else{if(!s)throw Error(this+"#"+e+" is not a field: undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));this[s.name]=r=s.verifyValue(r)}if(s&&s.oneof){var a=this[s.oneof.name];null!==r?(null!==a&&a!==s.name&&(this[a]=null),this[s.oneof.name]=s.name):a===e&&(this[s.oneof.name]=null)}return this},s.$set=s.set,s.get=function(e,r){if(r)return this[e];var i=n._fieldsByName[e];if(!i||!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+i.toString(!0));return this[i.name]},s.$get=s.get;for(var a=0;a<r.length;a++){var u=r[a];u instanceof t.Reflect.Message.ExtensionField||n.builder.options["populateAccessors"]&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}));t=t.substring(0,1).toUpperCase()+t.substring(1);var r=e.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),i=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===n.getChild("set"+t)&&(s["set"+t]=i),null===n.getChild("set_"+r)&&(s["set_"+r]=i),null===n.getChild("get"+t)&&(s["get"+t]=o),null===n.getChild("get_"+r)&&(s["get_"+r]=o)}(u)}function c(n,r,i,o){if(null===n||"object"!==typeof n){if(o&&o instanceof t.Reflect.Enum){var s=t.Reflect.Enum.getName(o.object,n);if(null!==s)return s}return n}if(e.isByteBuffer(n))return r?n.toBase64():n.toBuffer();if(t.Long.isLong(n))return i?n.toString():t.Long.fromValue(n);var a;if(Array.isArray(n))return a=[],n.forEach((function(e,t){a[t]=c(e,r,i,o)})),a;if(a={},n instanceof t.Map){for(var u=n.entries(),f=u.next();!f.done;f=u.next())a[n.keyElem.valueToString(f.value[0])]=c(f.value[1],r,i,n.valueElem.resolvedType);return a}var l=n.$type,h=void 0;for(var p in n)n.hasOwnProperty(p)&&(l&&(h=l.getChild(p))?a[p]=c(n[p],r,i,h.resolvedType):a[p]=c(n[p],r,i));return a}return s.encode=function(t,r){"boolean"===typeof t&&(r=t,t=void 0);var i=!1;t||(t=new e,i=!0);var o=t.littleEndian;try{return n.encode(this,t.LE(),r),(i?t.flip():t).LE(o)}catch(s){throw t.LE(o),s}},o.encode=function(e,t,n){return new o(e).encode(t,n)},s.calculate=function(){return n.calculate(this)},s.encodeDelimited=function(t,r){var i=!1;t||(t=new e,i=!0);var o=(new e).LE();return n.encode(this,o,r).flip(),t.writeVarint32(o.remaining()),t.append(o),i?t.flip():t},s.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toArrayBuffer()),e}},s.toArrayBuffer=s.encodeAB,s.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toBuffer()),e}},s.toBuffer=s.encodeNB,s.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toBase64()),e}},s.toBase64=s.encode64,s.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toHex()),e}},s.toHex=s.encodeHex,s.toRaw=function(e,t){return c(this,!!e,!!t,this.$type)},s.encodeJSON=function(){return JSON.stringify(c(this,!0,!0,this.$type))},o.decode=function(t,r,i){"string"===typeof r&&(i=r,r=-1),"string"===typeof t?t=e.wrap(t,i||"base64"):e.isByteBuffer(t)||(t=e.wrap(t));var o=t.littleEndian;try{var s=n.decode(t.LE(),r);return t.LE(o),s}catch(a){throw t.LE(o),a}},o.decodeDelimited=function(t,r){if("string"===typeof t?t=e.wrap(t,r||"base64"):e.isByteBuffer(t)||(t=e.wrap(t)),t.remaining()<1)return null;var i=t.offset,o=t.readVarint32();if(t.remaining()<o)return t.offset=i,null;try{var s=n.decode(t.slice(t.offset,t.offset+o).LE());return t.offset+=o,s}catch(a){throw t.offset+=o,a}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},o.decodeJSON=function(e){return new o(JSON.parse(e))},s.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(s,"$options",{value:o["$options"]}),Object.defineProperty(o,"$type",{value:n}),Object.defineProperty(s,"$type",{value:n})),o}(t,this);this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var i,o=0,s=this.children.length;o<s;o++)if(i=this.children[o],i instanceof m||i instanceof l||i instanceof E){if(r.hasOwnProperty(i.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+i.toString(!0)+" cannot override static property '"+i.name+"'");r[i.name]=i.build()}else if(i instanceof l.Field)i.build(),this._fields.push(i),this._fieldsById[i.id]=i,this._fieldsByName[i.name]=i;else if(i instanceof l.OneOf)this._oneofsByName[i.name]=i;else if(!(i instanceof l.OneOf)&&!(i instanceof w))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=r},h.encode=function(e,t,n){for(var r,i,o=null,s=0,a=this._fields.length;s<a;++s)r=this._fields[s],i=e[r.name],r.required&&null===i?null===o&&(o=r):r.encode(n?i:r.verifyValue(i),t,e);if(null!==o){var u=Error("Missing at least one required field for "+this.toString(!0)+": "+o);throw u["encoded"]=t,u}return t},h.calculate=function(e){for(var t,n,r=0,i=0,o=this._fields.length;i<o;++i){if(t=this._fields[i],n=e[t.name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(n,e)}return r},h.decode=function(e,n,r){"number"!==typeof n&&(n=-1);var i,o,s,a,u=e.offset,c=new this.clazz;while(e.offset<u+n||-1===n&&e.remaining()>0){if(i=e.readVarint32(),o=7&i,s=i>>>3,o===t.WIRE_TYPES.ENDGROUP){if(s!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+s+" ("+(r?r+" expected":"not a group")+")");break}if(a=this._fieldsById[s]){if(a.repeated&&!a.options["packed"])c[a.name].push(a.decode(o,e));else if(a.map){var f=a.decode(o,e);c[a.name].set(f[0],f[1])}else if(c[a.name]=a.decode(o,e),a.oneof){var l=c[a.oneof.name];null!==l&&l!==a.name&&(c[l]=null),c[a.oneof.name]=a.name}}else switch(o){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:var h=e.readVarint32();e.offset+=h;break;case t.WIRE_TYPES.STARTGROUP:while(p(s,e));break;default:throw Error("Illegal wire type for unknown field "+s+" in "+this.toString(!0)+"#decode: "+o)}}for(var d=0,y=this._fields.length;d<y;++d)if(a=this._fields[d],null===c[a.name])if("proto3"===this.syntax)c[a.name]=a.defaultValue;else{if(a.required){var v=Error("Missing at least one required field for "+this.toString(!0)+": "+a.name);throw v["decoded"]=c,v}t.populateDefaults&&null!==a.defaultValue&&(c[a.name]=a.defaultValue)}return c},n.Message=l;var d=function(e,n,i,o,s,a,u,c,f,h){r.call(this,e,n,a),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=o||null,this.type=s,this.resolvedType=null,this.id=u,this.options=c||{},this.defaultValue=null,this.oneof=f||null,this.syntax=h||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options["convertFieldsToCamelCase"]||this instanceof l.ExtensionField||(this.name=t.Util.toCamelCase(this.name))},y=d.prototype=Object.create(r.prototype);y.build=function(){this.element=new a(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new a(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?"undefined"!==typeof this.options["default"]&&(this.defaultValue=this.verifyValue(this.options["default"])):this.defaultValue=a.defaultFieldValue(this.type)},y.verifyValue=function(e,n){n=n||!1;var r,i=this;function o(e,t){throw Error("Illegal value for "+i.toString(!0)+" of type "+i.type.name+": "+e+" ("+t+")")}if(null===e)return this.required&&o(typeof e,"required"),"proto3"===this.syntax&&this.type!==t.TYPES["message"]&&o(typeof e,"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){Array.isArray(e)||(e=[e]);var s=[];for(r=0;r<e.length;r++)s.push(this.element.verifyValue(e[r]));return s}return this.map&&!n?e instanceof t.Map?e:(e instanceof Object||o(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&o(typeof e,"no array expected"),this.element.verifyValue(e))},y.hasWirePresence=function(e,n){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case t.TYPES["int32"]:case t.TYPES["sint32"]:case t.TYPES["sfixed32"]:case t.TYPES["uint32"]:case t.TYPES["fixed32"]:return 0!==e;case t.TYPES["int64"]:case t.TYPES["sint64"]:case t.TYPES["sfixed64"]:case t.TYPES["uint64"]:case t.TYPES["fixed64"]:return 0!==e.low||0!==e.high;case t.TYPES["bool"]:return e;case t.TYPES["float"]:case t.TYPES["double"]:return 0!==e;case t.TYPES["string"]:return e.length>0;case t.TYPES["bytes"]:return e.remaining()>0;case t.TYPES["enum"]:return 0!==e;case t.TYPES["message"]:return null!==e;default:return!0}},y.encode=function(n,r,i){if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return r;try{var o;if(this.repeated)if(this.options["packed"]&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var s=r.offset;for(o=0;o<n.length;o++)this.element.encodeValue(this.id,n[o],r);var a=r.offset-s,u=e.calculateVarint32(a);if(u>1){var c=r.slice(s,r.offset);s+=u-1,r.offset=s,r.append(c)}r.writeVarint32(a,s-u)}else for(o=0;o<n.length;o++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n[o],r);else this.map?n.forEach((function(n,i,o){var s=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.writeVarint32(s),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,n,r)}),this):this.hasWirePresence(n,i)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n,r))}catch(f){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+f+")")}return r},y.calculate=function(n,r){if(n=this.verifyValue(n),null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var i=0;try{var o,s;if(this.repeated)if(this.options["packed"]&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),s=0,o=0;o<n.length;o++)s+=this.element.calculateLength(this.id,n[o]);i+=e.calculateVarint32(s),i+=s}else for(o=0;o<n.length;o++)i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n[o]);else this.map?n.forEach((function(n,r,o){var s=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),i+=e.calculateVarint32(s),i+=s}),this):this.hasWirePresence(n,r)&&(i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n))}catch(a){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+a+")")}return i},y.decode=function(e,n,r){var i,o,s=!this.map&&e==this.type.wireType||!r&&this.repeated&&this.options["packed"]&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM;if(!s)throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options["packed"]&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){o=n.readVarint32(),o=n.offset+o;var u=[];while(n.offset<o)u.push(this.decode(this.type.wireType,n,!0));return u}if(this.map){var c=a.defaultFieldValue(this.keyType);if(i=a.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());var f=n.clone();f.limit=f.offset+o,n.offset+=o;while(f.remaining()>0){var l=f.readVarint32();e=7&l;var h=l>>>3;if(1===h)c=this.keyElement.decode(f,e,h);else{if(2!==h)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(f,e,h)}}return[c,i]}return this.element.decode(n,e,this.id)},n.Message.Field=d;var v=function(e,t,n,r,i,o,s){d.call(this,e,t,n,null,r,i,o,s),this.extension};v.prototype=Object.create(d.prototype),n.Message.ExtensionField=v;var g=function(e,t,n){r.call(this,e,t,n),this.fields=[]};n.Message.OneOf=g;var m=function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.className="Enum",this.object=null};m.getName=function(e,t){for(var n,r=Object.keys(e),i=0;i<r.length;++i)if(e[n=r[i]]===t)return n;return null};var _=m.prototype=Object.create(o.prototype);_.build=function(e){if(this.object&&!e)return this.object;for(var n=new t.Builder.Enum,r=this.getChildren(m.Value),i=0,o=r.length;i<o;++i)n[r[i]["name"]]=r[i]["id"];return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},n.Enum=m;var b=function(e,t,n,i){r.call(this,e,t,n),this.className="Enum.Value",this.id=i};b.prototype=Object.create(r.prototype),n.Enum.Value=b;var w=function(e,t,n,i){r.call(this,e,t,n),this.field=i};w.prototype=Object.create(r.prototype),n.Extension=w;var E=function(e,t,n,r){o.call(this,e,t,n,r),this.className="Service",this.clazz=null},O=E.prototype=Object.create(o.prototype);O.build=function(n){return this.clazz&&!n?this.clazz:this.clazz=function(t,n){for(var r=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},i=r.prototype=Object.create(t.Builder.Service.prototype),o=n.getChildren(t.Reflect.Service.RPCMethod),s=0;s<o.length;s++)(function(t){i[t.name]=function(r,i){try{try{r=t.resolvedRequestType.clazz.decode(e.wrap(r))}catch(o){if(!(o instanceof TypeError))throw o}if(null===r||"object"!==typeof r)throw Error("Illegal arguments");r instanceof t.resolvedRequestType.clazz||(r=new t.resolvedRequestType.clazz(r)),this.rpcImpl(t.fqn(),r,(function(e,r){if(e)i(e);else{null===r&&(r="");try{r=t.resolvedResponseType.clazz.decode(r)}catch(o){}r&&r instanceof t.resolvedResponseType.clazz?i(null,r):i(Error("Illegal response type received in service method "+n.name+"#"+t.name))}}))}catch(o){setTimeout(i.bind(this,o),0)}},r[t.name]=function(e,n,i){new r(e)[t.name](n,i)},Object.defineProperty&&(Object.defineProperty(r[t.name],"$options",{value:t.buildOpt()}),Object.defineProperty(i[t.name],"$options",{value:r[t.name]["$options"]}))})(o[s]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:n.buildOpt()}),Object.defineProperty(i,"$options",{value:r["$options"]}),Object.defineProperty(r,"$type",{value:n}),Object.defineProperty(i,"$type",{value:n})),r}(t,this)},n.Service=E;var S=function(e,t,n,i){r.call(this,e,t,n),this.className="Service.Method",this.options=i||{}},T=S.prototype=Object.create(r.prototype);T.buildOpt=s.buildOpt,n.Service.Method=S;var A=function(e,t,n,r,i,o,s,a){S.call(this,e,t,n,a),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.requestStream=o,this.responseStream=s,this.resolvedRequestType=null,this.resolvedResponseType=null};return A.prototype=Object.create(S.prototype),n.Service.RPCMethod=A,n}(i),i.Builder=function(e,t,r){var i=function(e){this.ns=new r.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},o=i.prototype;function s(e){e["messages"]&&e["messages"].forEach((function(t){t["syntax"]=e["syntax"],s(t)})),e["enums"]&&e["enums"].forEach((function(t){t["syntax"]=e["syntax"]}))}return i.isMessage=function(e){return"string"===typeof e["name"]&&("undefined"===typeof e["values"]&&"undefined"===typeof e["rpc"])},i.isMessageField=function(e){return"string"===typeof e["rule"]&&"string"===typeof e["name"]&&"string"===typeof e["type"]&&"undefined"!==typeof e["id"]},i.isEnum=function(e){return"string"===typeof e["name"]&&!("undefined"===typeof e["values"]||!Array.isArray(e["values"])||0===e["values"].length)},i.isService=function(e){return!("string"!==typeof e["name"]||"object"!==typeof e["rpc"]||!e["rpc"])},i.isExtend=function(e){return"string"===typeof e["ref"]},o.reset=function(){return this.ptr=this.ns,this},o.define=function(e){if("string"!==typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new r.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},o.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];var n=[t];while(n.length>0){if(t=n.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));while(t.length>0){var o=t.shift();if(i.isMessage(o)){var s=new r.Message(this,this.ptr,o["name"],o["options"],o["isGroup"],o["syntax"]),a={};o["oneofs"]&&Object.keys(o["oneofs"]).forEach((function(e){s.addChild(a[e]=new r.Message.OneOf(this,s,e))}),this),o["fields"]&&o["fields"].forEach((function(e){if(null!==s.getChild(0|e["id"]))throw Error("duplicate or invalid field id in "+s.name+": "+e["id"]);if(e["options"]&&"object"!==typeof e["options"])throw Error("illegal field options in "+s.name+"#"+e["name"]);var t=null;if("string"===typeof e["oneof"]&&!(t=a[e["oneof"]]))throw Error("illegal oneof in "+s.name+"#"+e["name"]+": "+e["oneof"]);e=new r.Message.Field(this,s,e["rule"],e["keytype"],e["type"],e["name"],e["id"],e["options"],t,o["syntax"]),t&&t.fields.push(e),s.addChild(e)}),this);var u=[];if(o["enums"]&&o["enums"].forEach((function(e){u.push(e)})),o["messages"]&&o["messages"].forEach((function(e){u.push(e)})),o["services"]&&o["services"].forEach((function(e){u.push(e)})),o["extensions"]&&("number"===typeof o["extensions"][0]?s.extensions=[o["extensions"]]:s.extensions=o["extensions"]),this.ptr.addChild(s),u.length>0){n.push(t),t=u,u=null,this.ptr=s,s=null;continue}u=null}else if(i.isEnum(o))s=new r.Enum(this,this.ptr,o["name"],o["options"],o["syntax"]),o["values"].forEach((function(e){s.addChild(new r.Enum.Value(this,s,e["name"],e["id"]))}),this),this.ptr.addChild(s);else if(i.isService(o))s=new r.Service(this,this.ptr,o["name"],o["options"]),Object.keys(o["rpc"]).forEach((function(e){var t=o["rpc"][e];s.addChild(new r.Service.RPCMethod(this,s,e,t["request"],t["response"],!!t["request_stream"],!!t["response_stream"],t["options"]))}),this),this.ptr.addChild(s);else{if(!i.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(s=this.ptr.resolve(o["ref"],!0),s)o["fields"].forEach((function(t){if(null!==s.getChild(0|t["id"]))throw Error("duplicate extended field id in "+s.name+": "+t["id"]);if(s.extensions){var n=!1;if(s.extensions.forEach((function(e){t["id"]>=e[0]&&t["id"]<=e[1]&&(n=!0)})),!n)throw Error("illegal extended field id in "+s.name+": "+t["id"]+" (not within valid ranges)")}var i=t["name"];this.options["convertFieldsToCamelCase"]&&(i=e.Util.toCamelCase(i));var o=new r.Message.ExtensionField(this,s,t["rule"],t["type"],this.ptr.fqn()+"."+i,t["id"],t["options"]),a=new r.Extension(this,this.ptr,t["name"],o);o.extension=a,this.ptr.addChild(a),s.addChild(o)}),this);else if(!/\.?google\.protobuf\./.test(o["ref"]))throw Error("extended message "+o["ref"]+" is not defined")}o=null,s=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o["import"]=function(t,r){var i="/";if("string"===typeof r){if(e.Util.IS_NODE&&(r=n(0)["resolve"](r)),!0===this.files[r])return this.reset();this.files[r]=!0}else if("object"===typeof r){var o,a=r.root;if(e.Util.IS_NODE&&(a=n(0)["resolve"](a)),(a.indexOf("\\")>=0||r.file.indexOf("\\")>=0)&&(i="\\"),o=e.Util.IS_NODE?n(0)["join"](a,r.file):a+i+r.file,!0===this.files[o])return this.reset();this.files[o]=!0}if(t["imports"]&&t["imports"].length>0){var u,c=!1;"object"===typeof r?(this.importRoot=r["root"],c=!0,u=this.importRoot,r=r["file"],(u.indexOf("\\")>=0||r.indexOf("\\")>=0)&&(i="\\")):"string"===typeof r?this.importRoot?u=this.importRoot:r.indexOf("/")>=0?(u=r.replace(/\/[^\/]*$/,""),""===u&&(u="/")):r.indexOf("\\")>=0?(u=r.replace(/\\[^\\]*$/,""),i="\\"):u=".":u=null;for(var f=0;f<t["imports"].length;f++)if("string"===typeof t["imports"][f]){if(!u)throw Error("cannot determine import root");var l=t["imports"][f];if("google/protobuf/descriptor.proto"===l)continue;if(l=e.Util.IS_NODE?n(0)["join"](u,l):u+i+l,!0===this.files[l])continue;/\.proto$/i.test(l)&&!e.DotProto&&(l=l.replace(/\.proto$/,".json"));var h=e.Util.fetch(l);if(null===h)throw Error("failed to import '"+l+"' in '"+r+"': file not found");/\.json$/i.test(l)?this["import"](JSON.parse(h+""),l):this["import"](e.DotProto.Parser.parse(h),l)}else r?/\.(\w+)$/.test(r)?this["import"](t["imports"][f],r.replace(/^(.+)\.(\w+)$/,(function(e,t,n){return t+"_import"+f+"."+n}))):this["import"](t["imports"][f],r+"_import"+f):this["import"](t["imports"][f]);c&&(this.importRoot=null)}t["package"]&&this.define(t["package"]),t["syntax"]&&s(t);var p=this.ptr;return t["options"]&&Object.keys(t["options"]).forEach((function(e){p.options[e]=t["options"][e]})),t["messages"]&&(this.create(t["messages"]),this.ptr=p),t["enums"]&&(this.create(t["enums"]),this.ptr=p),t["services"]&&(this.create(t["services"]),this.ptr=p),t["extends"]&&this.create(t["extends"]),this.reset()},o.resolveAll=function(){var n;if(null==this.ptr||"object"===typeof this.ptr.type)return this;if(this.ptr instanceof r.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof r.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(n=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!n)throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=n,n instanceof r.Enum){if(this.ptr.type=e.TYPES["enum"],"proto3"===this.ptr.syntax&&"proto3"!==n.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(n instanceof r.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=n.isGroup?e.TYPES["group"]:e.TYPES["message"]}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==e.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(n=this.ptr.parent.resolve(this.ptr.requestName,!0),!n||!(n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=n,n=this.ptr.parent.resolve(this.ptr.responseName,!0),!n||!(n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=n}else if(!(this.ptr instanceof e.Reflect.Message.OneOf)&&!(this.ptr instanceof e.Reflect.Extension)&&!(this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},o.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"===typeof e?e.split("."):e,n=this.result,r=0;r<t.length;r++){if(!n[t[r]]){n=null;break}n=n[t[r]]}return n},o.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},o.toString=function(){return"Builder"},i.Message=function(){},i.Enum=function(){},i.Service=function(){},i}(i,i.Lang,i.Reflect),i.Map=function(e,t){var n=function(e,n){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=this.keyElem.valueFromString(r[i]),s=this.valueElem.verifyValue(n[r[i]]);this.map[this.keyElem.valueToString(o)]={key:o,value:s}}},r=n.prototype;function i(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}return r.clear=function(){this.map={}},r["delete"]=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},r.entries=function(){for(var e,t=[],n=Object.keys(this.map),r=0;r<n.length;r++)t.push([(e=this.map[n[r]]).key,e.value]);return i(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].key);return i(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].value);return i(e)},r.forEach=function(e,t){for(var n,r=Object.keys(this.map),i=0;i<r.length;i++)e.call(t,(n=this.map[r[i]]).value,n.key,this)},r.set=function(e,t){var n=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:r},this},r.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));if(t in this.map)return this.map[t].value},r.has=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));return t in this.map},n}(0,i.Reflect),i.newBuilder=function(e){return e=e||{},"undefined"===typeof e["convertFieldsToCamelCase"]&&(e["convertFieldsToCamelCase"]=i.convertFieldsToCamelCase),"undefined"===typeof e["populateAccessors"]&&(e["populateAccessors"]=i.populateAccessors),new i.Builder(e)},i.loadJson=function(e,t,n){return("string"===typeof t||t&&"string"===typeof t["file"]&&"string"===typeof t["root"])&&(n=t,t=null),t&&"object"===typeof t||(t=i.newBuilder()),"string"===typeof e&&(e=JSON.parse(e)),t["import"](e,n),t.resolveAll(),t},i.loadJsonFile=function(e,t,n){if(t&&"object"===typeof t?(n=t,t=null):t&&"function"===typeof t||(t=null),t)return i.Util.fetch("string"===typeof e?e:e["root"]+"/"+e["file"],(function(r){if(null!==r)try{t(null,i.loadJson(JSON.parse(r),n,e))}catch(o){t(o)}else t(Error("Failed to fetch file"))}));var r=i.Util.fetch("object"===typeof e?e["root"]+"/"+e["file"]:e);return null===r?null:i.loadJson(JSON.parse(r),n,e)},i}))}).call(this,n("4362"))},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d24":function(e,t,n){(function(e){var r=n("2b3e"),i=n("07c7"),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o,u=a?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||i;e.exports=f}).call(this,n("62e4")(e))},1132:function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=t[o>>>2]>>>24-o%4*8&255,a=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,c=s<<16|a<<8|u,f=0;f<4&&o+.75*f<n;f++)i.push(r.charAt(c>>>6*(3-f)&63));var l=r.charAt(64);if(l)while(i.length%4)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return o(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(e,t,n){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,u=n[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return r.create(i,o)}}(),e.enc.Base64}))},"11b0":function(e,t,n){function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0"),e.exports=r},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),a=n("4840"),u=n("8aa5"),c=n("50c4"),f=n("14c3"),l=n("9263"),h=n("d039"),p=[].push,d=Math.min,y=4294967295,v=!h((function(){return!RegExp(y,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),o=void 0===n?y:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var a,u,c,f=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,v=new RegExp(e.source,h+"g");while(a=l.call(v,r)){if(u=v.lastIndex,u>d&&(f.push(r.slice(d,a.index)),a.length>1&&a.index<r.length&&p.apply(f,a.slice(1)),c=a[0].length,d=u,f.length>=o))break;v.lastIndex===a.index&&v.lastIndex++}return d===r.length?!c&&v.test("")||f.push(""):f.push(r.slice(d)),f.length>o?f.slice(0,o):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var l=o(e),h=String(this),p=a(l,RegExp),g=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),_=new p(v?l:"^(?:"+l.source+")",m),b=void 0===i?y:i>>>0;if(0===b)return[];if(0===h.length)return null===f(_,h)?[h]:[];var w=0,E=0,O=[];while(E<h.length){_.lastIndex=v?E:0;var S,T=f(_,v?h:h.slice(E));if(null===T||(S=d(c(_.lastIndex+(v?0:E)),h.length))===w)E=u(h,E,g);else{if(O.push(h.slice(w,E)),O.length===b)return O;for(var A=1;A<=T.length-1;A++)if(O.push(T[A]),O.length===b)return O;E=w=S}}return O.push(h.slice(w)),O}]}),!v)},1310:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,o=n("a640"),s=n("ae40"),a=n("2d00"),u=n("605d"),c=o("reduce"),f=s("reduce",{1:0}),l=!u&&a>79&&a<83;r({target:"Array",proto:!0,forced:!c||!f||l},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1468:function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function u(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var u=parseFloat(t[1]),c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function c(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function f(e){var t=Math.abs(e);return t>=o?l(e,t,o,"day"):t>=i?l(e,t,i,"hour"):t>=r?l(e,t,r,"minute"):t>=n?l(e,t,n,"second"):e+" ms"}function l(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return u(e);if("number"===n&&isFinite(e))return t.long?f(e):c(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var u=r[a],c=u&&u.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(f){c.forEach=o}}},"17b0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMUNITY_SITE_URL=t.IS_DEBUG_MODE=t.getProtocol=t.setProtocol=t.getSdkName=t.setSdkName=void 0;var r="@cloudbase/js-sdk";function i(e){r=e}function o(){return r}t.setSdkName=i,t.getSdkName=o;var s="undefined"!==typeof location&&"http:"===location.protocol?"http:":"https:";function a(e){s=e}function u(){return s}t.setProtocol=a,t.getProtocol=u,t.IS_DEBUG_MODE=!1,t.COMMUNITY_SITE_URL="https://support.qq.com/products/148793"},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),s=i("forEach"),a=o("forEach");e.exports=s&&a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1a8c":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"1bcd":function(e,t,n){"use strict";var r=n("3aef");e.exports=function(e){return e.setAdapters(r),e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(u){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7");function r(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,u,"next",e)}function u(e){r(s,i,o,a,u,"throw",e)}a(void 0)}))}}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fb5":function(e,t,n){"use strict";t.byteLength=f,t.toByteArray=h,t.fromByteArray=y;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function f(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function l(e,t,n){return 3*(t+n)/4-n}function h(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(l(e,s,a)),f=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[f++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u}function p(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(p(r));return i.join("")}function y(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(d(e,a,a+s>u?u:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"21bf":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,i+=.5,i*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=4*o,u=i/a;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var c=u*o,f=e.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(r,l);var h=r.splice(0,c);n.sigBytes-=f}return new s.init(h,f)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e}))},2236:function(e,t,n){var r=n("5a43");function i(e){if(Array.isArray(e))return r(e)}e.exports=i},"225e":function(e,t,n){var r=n("4359"),i=n("d460");function o(e){return i(r(e))}e.exports=o},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),u=n("2a62"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var f,l,h,p,d,y,v,g=n&&n.that,m=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),w=s(t,g,1+m+b),E=function(e){return f&&u(f),new c(!0,e)},O=function(e){return m?(r(e),b?w(e[0],e[1],E):w(e[0],e[1])):b?w(e,E):w(e)};if(_)f=e;else{if(l=a(e),"function"!=typeof l)throw TypeError("Target is not iterable");if(i(l)){for(h=0,p=o(e.length);p>h;h++)if(d=O(e[h]),d&&d instanceof c)return d;return new c(!1)}f=l.call(e)}y=f.next;while(!(v=y.call(f)).done){try{d=O(v.value)}catch(S){throw u(f),S}if("object"==typeof d&&d&&d instanceof c)return d}return new c(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),u=n("e893"),c=n("94ca");e.exports=function(e,t){var n,f,l,h,p,d,y=e.target,v=e.global,g=e.stat;if(f=v?r:g?r[y]||a(y,{}):(r[y]||{}).prototype,f)for(l in t){if(p=t[l],e.noTargetGet?(d=i(f,l),h=d&&d.value):h=f[l],n=c(v?l:y+(g?".":"#")+l,e.forced),!n&&void 0!==h){if(typeof p===typeof h)continue;u(p,h)}(e.sham||h&&h.sham)&&o(p,"sham",!0),s(f,l,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"253c":function(e,t,n){var r=n("3729"),i=n("1310"),o="[object Arguments]";function s(e){return i(e)&&r(e)==o}e.exports=s},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),o=n("d039"),s=n("ad6d"),a="toString",u=RegExp.prototype,c=u[a],f=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l=c.name!=a;(f||l)&&r(RegExp.prototype,a,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?s.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"266a":function(e,t,n){var r=n("7948");function i(e,t){return r(t,(function(t){return e[t]}))}e.exports=i},2877:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var u,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=u):i&&(u=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},"29f3":function(e,t){var n=Object.prototype,r=n.toString;function i(e){return r.call(e)}e.exports=i},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2b0e":function(e,t,n){"use strict";n.r(t),function(e){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return!1===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return null!==e&&"object"===typeof e}var c=Object.prototype.toString;function f(e){return"[object Object]"===c.call(e)}function l(e){return"[object RegExp]"===c.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function d(e){return null==e?"":Array.isArray(e)||f(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function y(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var g=v("key,ref,slot,slot-scope,is");function m(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function b(e,t){return _.call(e,t)}function w(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var E=/-(\w)/g,O=w((function(e){return e.replace(E,(function(e,t){return t?t.toUpperCase():""}))})),S=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,A=w((function(e){return e.replace(T,"-$1").toLowerCase()}));function I(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function N(e,t){return e.bind(t)}var C=Function.prototype.bind?N:I;function x(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function R(e,t){for(var n in t)e[n]=t[n];return e}function P(e){for(var t={},n=0;n<e.length;n++)e[n]&&R(t,e[n]);return t}function j(e,t,n){}var k=function(e,t,n){return!1},L=function(e){return e};function M(e,t){if(e===t)return!0;var n=u(e),r=u(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return M(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return M(e[n],t[n])}))}catch(c){return!1}}function D(e,t){for(var n=0;n<e.length;n++)if(M(e[n],t))return n;return-1}function B(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var U="data-server-rendered",F=["component","directive","filter"],q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:k,isReservedAttr:k,isUnknownElement:k,getTagNamespace:j,parsePlatformTagName:L,mustUseProp:k,async:!0,_lifecycleHooks:q},Y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function W(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var z=new RegExp("[^"+Y.source+".$_\\d]");function G(e){if(!z.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var H,K="__proto__"in{},J="undefined"!==typeof window,Q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,X=Q&&WXEnvironment.platform.toLowerCase(),Z=J&&window.navigator.userAgent.toLowerCase(),ee=Z&&/msie|trident/.test(Z),te=Z&&Z.indexOf("msie 9.0")>0,ne=Z&&Z.indexOf("edge/")>0,re=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===X),ie=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),oe={}.watch,se=!1;if(J)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){se=!0}}),window.addEventListener("test-passive",null,ae)}catch(Os){}var ue=function(){return void 0===H&&(H=!J&&!Q&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),H},ce=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function fe(e){return"function"===typeof e&&/native code/.test(e.toString())}var le,he="undefined"!==typeof Symbol&&fe(Symbol)&&"undefined"!==typeof Reflect&&fe(Reflect.ownKeys);le="undefined"!==typeof Set&&fe(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pe=j,de=0,ye=function(){this.id=de++,this.subs=[]};ye.prototype.addSub=function(e){this.subs.push(e)},ye.prototype.removeSub=function(e){m(this.subs,e)},ye.prototype.depend=function(){ye.target&&ye.target.addDep(this)},ye.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},ye.target=null;var ve=[];function ge(e){ve.push(e),ye.target=e}function me(){ve.pop(),ye.target=ve[ve.length-1]}var _e=function(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(_e.prototype,be);var we=function(e){void 0===e&&(e="");var t=new _e;return t.text=e,t.isComment=!0,t};function Ee(e){return new _e(void 0,void 0,void 0,String(e))}function Oe(e){var t=new _e(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Se=Array.prototype,Te=Object.create(Se),Ae=["push","pop","shift","unshift","splice","sort","reverse"];Ae.forEach((function(e){var t=Se[e];W(Te,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Ie=Object.getOwnPropertyNames(Te),Ne=!0;function Ce(e){Ne=e}var xe=function(e){this.value=e,this.dep=new ye,this.vmCount=0,W(e,"__ob__",this),Array.isArray(e)?(K?Re(e,Te):Pe(e,Te,Ie),this.observeArray(e)):this.walk(e)};function Re(e,t){e.__proto__=t}function Pe(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];W(e,o,t[o])}}function je(e,t){var n;if(u(e)&&!(e instanceof _e))return b(e,"__ob__")&&e.__ob__ instanceof xe?n=e.__ob__:Ne&&!ue()&&(Array.isArray(e)||f(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new xe(e)),t&&n&&n.vmCount++,n}function ke(e,t,n,r,i){var o=new ye,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=e[t]);var c=!i&&je(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return ye.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&De(t))),t},set:function(t){var r=a?a.call(e):n;t===r||t!==t&&r!==r||a&&!u||(u?u.call(e,t):n=t,c=!i&&je(t),o.notify())}})}}function Le(e,t,n){if(Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(ke(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function Me(e,t){if(Array.isArray(e)&&h(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||b(e,t)&&(delete e[t],n&&n.dep.notify())}}function De(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&De(t)}xe.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)ke(e,t[n])},xe.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)je(e[t])};var Be=V.optionMergeStrategies;function Ue(e,t){if(!t)return e;for(var n,r,i,o=he?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(r=e[n],i=t[n],b(e,n)?r!==i&&f(r)&&f(i)&&Ue(r,i):Le(e,n,i));return e}function Fe(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,i="function"===typeof e?e.call(n,n):e;return r?Ue(r,i):i}:t?e?function(){return Ue("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function qe(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?Ve(n):n}function Ve(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function Ye(e,t,n,r){var i=Object.create(e||null);return t?R(i,t):i}Be.data=function(e,t,n){return n?Fe(e,t,n):t&&"function"!==typeof t?e:Fe(e,t)},q.forEach((function(e){Be[e]=qe})),F.forEach((function(e){Be[e+"s"]=Ye})),Be.watch=function(e,t,n,r){if(e===oe&&(e=void 0),t===oe&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in R(i,e),t){var s=i[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Be.props=Be.methods=Be.inject=Be.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return R(i,e),t&&R(i,t),i},Be.provide=Fe;var $e=function(e,t){return void 0===t?e:t};function We(e,t){var n=e.props;if(n){var r,i,o,s={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=O(i),s[o]={type:null})}else if(f(n))for(var a in n)i=n[a],o=O(a),s[o]=f(i)?i:{type:i};else 0;e.props=s}}function ze(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(f(n))for(var o in n){var s=n[o];r[o]=f(s)?R({from:o},s):{from:s}}else 0}}function Ge(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function He(e,t,n){if("function"===typeof t&&(t=t.options),We(t,n),ze(t,n),Ge(t),!t._base&&(t.extends&&(e=He(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=He(e,t.mixins[r],n);var o,s={};for(o in e)a(o);for(o in t)b(e,o)||a(o);function a(r){var i=Be[r]||$e;s[r]=i(e[r],t[r],n,r)}return s}function Ke(e,t,n,r){if("string"===typeof n){var i=e[t];if(b(i,n))return i[n];var o=O(n);if(b(i,o))return i[o];var s=S(o);if(b(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Je(e,t,n,r){var i=t[e],o=!b(n,e),s=n[e],a=et(Boolean,i.type);if(a>-1)if(o&&!b(i,"default"))s=!1;else if(""===s||s===A(e)){var u=et(String,i.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=Qe(r,i,e);var c=Ne;Ce(!0),je(s),Ce(c)}return s}function Qe(e,t,n){if(b(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Xe(t.type)?r.call(e):r}}function Xe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ze(e,t){return Xe(e)===Xe(t)}function et(e,t){if(!Array.isArray(t))return Ze(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Ze(t[n],e))return n;return-1}function tt(e,t,n){ge();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,e,t,n);if(s)return}catch(Os){rt(Os,r,"errorCaptured hook")}}}rt(e,t,n)}finally{me()}}function nt(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(e){return tt(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(Os){tt(Os,r,i)}return o}function rt(e,t,n){if(V.errorHandler)try{return V.errorHandler.call(null,e,t,n)}catch(Os){Os!==e&&it(Os,null,"config.errorHandler")}it(e,t,n)}function it(e,t,n){if(!J&&!Q||"undefined"===typeof console)throw e;console.error(e)}var ot,st=!1,at=[],ut=!1;function ct(){ut=!1;var e=at.slice(0);at.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&fe(Promise)){var ft=Promise.resolve();ot=function(){ft.then(ct),re&&setTimeout(j)},st=!0}else if(ee||"undefined"===typeof MutationObserver||!fe(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot="undefined"!==typeof setImmediate&&fe(setImmediate)?function(){setImmediate(ct)}:function(){setTimeout(ct,0)};else{var lt=1,ht=new MutationObserver(ct),pt=document.createTextNode(String(lt));ht.observe(pt,{characterData:!0}),ot=function(){lt=(lt+1)%2,pt.data=String(lt)},st=!0}function dt(e,t){var n;if(at.push((function(){if(e)try{e.call(t)}catch(Os){tt(Os,t,"nextTick")}else n&&n(t)})),ut||(ut=!0,ot()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var yt=new le;function vt(e){gt(e,yt),yt.clear()}function gt(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!u(e)||Object.isFrozen(e)||e instanceof _e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i){n=e.length;while(n--)gt(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)gt(e[r[n]],t)}}}var mt=w((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function _t(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return nt(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)nt(i[o],null,e,t,"v-on handler")}return n.fns=e,n}function bt(e,t,n,i,s,a){var u,c,f,l;for(u in e)c=e[u],f=t[u],l=mt(u),r(c)||(r(f)?(r(c.fns)&&(c=e[u]=_t(c,a)),o(l.once)&&(c=e[u]=s(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==f&&(f.fns=c,e[u]=f));for(u in t)r(e[u])&&(l=mt(u),i(l.name,t[u],l.capture))}function wt(e,t,n){var s;e instanceof _e&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function u(){n.apply(this,arguments),m(s.fns,u)}r(a)?s=_t([u]):i(a.fns)&&o(a.merged)?(s=a,s.fns.push(u)):s=_t([a,u]),s.merged=!0,e[t]=s}function Et(e,t,n){var o=t.options.props;if(!r(o)){var s={},a=e.attrs,u=e.props;if(i(a)||i(u))for(var c in o){var f=A(c);Ot(s,u,c,f,!0)||Ot(s,a,c,f,!1)}return s}}function Ot(e,t,n,r,o){if(i(t)){if(b(t,n))return e[n]=t[n],o||delete t[n],!0;if(b(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function St(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Tt(e){return a(e)?[Ee(e)]:Array.isArray(e)?It(e):void 0}function At(e){return i(e)&&i(e.text)&&s(e.isComment)}function It(e,t){var n,s,u,c,f=[];for(n=0;n<e.length;n++)s=e[n],r(s)||"boolean"===typeof s||(u=f.length-1,c=f[u],Array.isArray(s)?s.length>0&&(s=It(s,(t||"")+"_"+n),At(s[0])&&At(c)&&(f[u]=Ee(c.text+s[0].text),s.shift()),f.push.apply(f,s)):a(s)?At(c)?f[u]=Ee(c.text+s):""!==s&&f.push(Ee(s)):At(s)&&At(c)?f[u]=Ee(c.text+s.text):(o(e._isVList)&&i(s.tag)&&r(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+n+"__"),f.push(s)));return f}function Nt(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Ct(e){var t=xt(e.$options.inject,e);t&&(Ce(!1),Object.keys(t).forEach((function(n){ke(e,n,t[n])})),Ce(!0))}function xt(e,t){if(e){for(var n=Object.create(null),r=he?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from,a=t;while(a){if(a._provided&&b(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in e[o]){var u=e[o].default;n[o]="function"===typeof u?u.call(t):u}else 0}}return n}}function Rt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Pt)&&delete n[c];return n}function Pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function jt(e,t,r){var i,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&r&&r!==n&&a===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},e)e[u]&&"$"!==u[0]&&(i[u]=kt(t,u,e[u]))}else i={};for(var c in t)c in i||(i[c]=Lt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=i),W(i,"$stable",s),W(i,"$key",a),W(i,"$hasNormal",o),i}function kt(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Tt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Lt(e,t){return function(){return e[t]}}function Mt(e,t){var n,r,o,s,a;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(u(e))if(he&&e[Symbol.iterator]){n=[];var c=e[Symbol.iterator](),f=c.next();while(!f.done)n.push(t(f.value,n.length)),f=c.next()}else for(s=Object.keys(e),n=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],n[r]=t(e[a],a,r);return i(n)||(n=[]),n._isVList=!0,n}function Dt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=R(R({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Bt(e){return Ke(this.$options,"filters",e,!0)||L}function Ut(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Ft(e,t,n,r,i){var o=V.keyCodes[t]||n;return i&&r&&!V.keyCodes[t]?Ut(i,r):o?Ut(o,e):r?A(r)!==t:void 0}function qt(e,t,n,r,i){if(n)if(u(n)){var o;Array.isArray(n)&&(n=P(n));var s=function(s){if("class"===s||"style"===s||g(s))o=e;else{var a=e.attrs&&e.attrs.type;o=r||V.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=O(s),c=A(s);if(!(u in o)&&!(c in o)&&(o[s]=n[s],i)){var f=e.on||(e.on={});f["update:"+s]=function(e){n[s]=e}}};for(var a in n)s(a)}else;return e}function Vt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),$t(r,"__static__"+e,!1)),r}function Yt(e,t,n){return $t(e,"__once__"+t+(n?"_"+n:""),!0),e}function $t(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Wt(e[r],t+"_"+r,n);else Wt(e,t,n)}function Wt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function zt(e,t){if(t)if(f(t)){var n=e.on=e.on?R({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function Gt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Gt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Ht(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Kt(e,t){return"string"===typeof e?t+e:e}function Jt(e){e._o=Yt,e._n=y,e._s=d,e._l=Mt,e._t=Dt,e._q=M,e._i=D,e._m=Vt,e._f=Bt,e._k=Ft,e._b=qt,e._v=Ee,e._e=we,e._u=Gt,e._g=zt,e._d=Ht,e._p=Kt}function Qt(e,t,r,i,s){var a,u=this,c=s.options;b(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var f=o(c._compiled),l=!f;this.data=e,this.props=t,this.children=r,this.parent=i,this.listeners=e.on||n,this.injections=xt(c.inject,i),this.slots=function(){return u.$slots||jt(e.scopedSlots,u.$slots=Rt(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return jt(e.scopedSlots,this.slots())}}),f&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=jt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,r){var o=ln(a,e,t,n,r,l);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return ln(a,e,t,n,r,l)}}function Xt(e,t,r,o,s){var a=e.options,u={},c=a.props;if(i(c))for(var f in c)u[f]=Je(f,c,t||n);else i(r.attrs)&&en(u,r.attrs),i(r.props)&&en(u,r.props);var l=new Qt(r,u,s,o,e),h=a.render.call(null,l._c,l);if(h instanceof _e)return Zt(h,r,l.parent,a,l);if(Array.isArray(h)){for(var p=Tt(h)||[],d=new Array(p.length),y=0;y<p.length;y++)d[y]=Zt(p[y],r,l.parent,a,l);return d}}function Zt(e,t,n,r,i){var o=Oe(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function en(e,t){for(var n in t)e[O(n)]=t[n]}Jt(Qt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var r=e.componentInstance=on(e,xn);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Ln(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Un(n,"mounted")),e.data.keepAlive&&(t._isMounted?Xn(n):Dn(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Bn(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,s,a){if(!r(e)){var c=n.$options._base;if(u(e)&&(e=c.extend(e)),"function"===typeof e){var f;if(r(e.cid)&&(f=e,e=wn(f,c),void 0===e))return bn(f,t,n,s,a);t=t||{},wr(e),i(t.model)&&un(e.options,t);var l=Et(t,e,a);if(o(e.options.functional))return Xt(e,l,t,n,s);var h=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}sn(t);var d=e.options.name||a,y=new _e("vue-component-"+e.cid+(d?"-"+d:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:l,listeners:h,tag:a,children:s},f);return y}}}function on(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function sn(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=t[r],o=tn[r];i===o||i&&i._merged||(t[r]=i?an(o,i):o)}}function an(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function un(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),s=o[r],a=t.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}var cn=1,fn=2;function ln(e,t,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=fn),hn(e,t,n,r,i)}function hn(e,t,n,r,o){if(i(n)&&i(n.__ob__))return we();if(i(n)&&i(n.is)&&(t=n.is),!t)return we();var s,a,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===fn?r=Tt(r):o===cn&&(r=St(r)),"string"===typeof t)?(a=e.$vnode&&e.$vnode.ns||V.getTagNamespace(t),s=V.isReservedTag(t)?new _e(V.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(u=Ke(e.$options,"components",t))?new _e(t,n,r,void 0,void 0,e):rn(u,n,e,r,t)):s=rn(t,n,e,r);return Array.isArray(s)?s:i(s)?(i(a)&&pn(s,a),i(n)&&dn(n),s):we()}function pn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),i(e.children))for(var s=0,a=e.children.length;s<a;s++){var u=e.children[s];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&pn(u,t,n)}}function dn(e){u(e.style)&&vt(e.style),u(e.class)&&vt(e.class)}function yn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=Rt(t._renderChildren,i),e.$scopedSlots=n,e._c=function(t,n,r,i){return ln(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return ln(e,t,n,r,i,!0)};var o=r&&r.data;ke(e,"$attrs",o&&o.attrs||n,null,!0),ke(e,"$listeners",t._parentListeners||n,null,!0)}var vn,gn=null;function mn(e){Jt(e.prototype),e.prototype.$nextTick=function(e){return dt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=jt(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{gn=t,e=r.call(t._renderProxy,t.$createElement)}catch(Os){tt(Os,t,"render"),e=t._vnode}finally{gn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof _e||(e=we()),e.parent=i,e}}function _n(e,t){return(e.__esModule||he&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function bn(e,t,n,r,i){var o=we();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function wn(e,t){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=gn;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var s=e.owners=[n],a=!0,c=null,f=null;n.$on("hook:destroyed",(function(){return m(s,n)}));var l=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==f&&(clearTimeout(f),f=null))},h=B((function(n){e.resolved=_n(n,t),a?s.length=0:l(!0)})),d=B((function(t){i(e.errorComp)&&(e.error=!0,l(!0))})),y=e(h,d);return u(y)&&(p(y)?r(e.resolved)&&y.then(h,d):p(y.component)&&(y.component.then(h,d),i(y.error)&&(e.errorComp=_n(y.error,t)),i(y.loading)&&(e.loadingComp=_n(y.loading,t),0===y.delay?e.loading=!0:c=setTimeout((function(){c=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,l(!1))}),y.delay||200)),i(y.timeout)&&(f=setTimeout((function(){f=null,r(e.resolved)&&d(null)}),y.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}function En(e){return e.isComment&&e.asyncFactory}function On(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||En(n)))return n}}function Sn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Nn(e,t)}function Tn(e,t){vn.$on(e,t)}function An(e,t){vn.$off(e,t)}function In(e,t){var n=vn;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function Nn(e,t,n){vn=e,bt(t,n||{},Tn,An,In,e),vn=void 0}function Cn(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;var a=s.length;while(a--)if(o=s[a],o===t||o.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?x(n):n;for(var r=x(arguments,1),i='event handler for "'+e+'"',o=0,s=n.length;o<s;o++)nt(n[o],t,r,t,i)}return t}}var xn=null;function Rn(e){var t=xn;return xn=e,function(){xn=t}}function Pn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function jn(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Rn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Un(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||m(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Un(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function kn(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=we),Un(e,"beforeMount"),r=function(){e._update(e._render(),n)},new nr(e,r,j,{before:function(){e._isMounted&&!e._isDestroyed&&Un(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Un(e,"mounted")),e}function Ln(e,t,r,i,o){var s=i.data.scopedSlots,a=e.$scopedSlots,u=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key),c=!!(o||e.$options._renderChildren||u);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o,e.$attrs=i.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){Ce(!1);for(var f=e._props,l=e.$options._propKeys||[],h=0;h<l.length;h++){var p=l[h],d=e.$options.props;f[p]=Je(p,d,t,e)}Ce(!0),e.$options.propsData=t}r=r||n;var y=e.$options._parentListeners;e.$options._parentListeners=r,Nn(e,r,y),c&&(e.$slots=Rt(o,i.context),e.$forceUpdate())}function Mn(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Dn(e,t){if(t){if(e._directInactive=!1,Mn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Dn(e.$children[n]);Un(e,"activated")}}function Bn(e,t){if((!t||(e._directInactive=!0,!Mn(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Bn(e.$children[n]);Un(e,"deactivated")}}function Un(e,t){ge();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++)nt(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),me()}var Fn=[],qn=[],Vn={},Yn=!1,$n=!1,Wn=0;function zn(){Wn=Fn.length=qn.length=0,Vn={},Yn=$n=!1}var Gn=0,Hn=Date.now;if(J&&!ee){var Kn=window.performance;Kn&&"function"===typeof Kn.now&&Hn()>document.createEvent("Event").timeStamp&&(Hn=function(){return Kn.now()})}function Jn(){var e,t;for(Gn=Hn(),$n=!0,Fn.sort((function(e,t){return e.id-t.id})),Wn=0;Wn<Fn.length;Wn++)e=Fn[Wn],e.before&&e.before(),t=e.id,Vn[t]=null,e.run();var n=qn.slice(),r=Fn.slice();zn(),Zn(n),Qn(r),ce&&V.devtools&&ce.emit("flush")}function Qn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Un(r,"updated")}}function Xn(e){e._inactive=!1,qn.push(e)}function Zn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Dn(e[t],!0)}function er(e){var t=e.id;if(null==Vn[t]){if(Vn[t]=!0,$n){var n=Fn.length-1;while(n>Wn&&Fn[n].id>e.id)n--;Fn.splice(n+1,0,e)}else Fn.push(e);Yn||(Yn=!0,dt(Jn))}}var tr=0,nr=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new le,this.newDepIds=new le,this.expression="","function"===typeof t?this.getter=t:(this.getter=G(t),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;ge(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Os){if(!this.user)throw Os;tt(Os,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&vt(e),me(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Os){tt(Os,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:j,set:j};function ir(e,t,n){rr.get=function(){return this[t][n]},rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rr)}function or(e){e._watchers=[];var t=e.$options;t.props&&sr(e,t.props),t.methods&&dr(e,t.methods),t.data?ar(e):je(e._data={},!0),t.computed&&fr(e,t.computed),t.watch&&t.watch!==oe&&yr(e,t.watch)}function sr(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||Ce(!1);var s=function(o){i.push(o);var s=Je(o,t,n,e);ke(r,o,s),o in e||ir(e,"_props",o)};for(var a in t)s(a);Ce(!0)}function ar(e){var t=e.$options.data;t=e._data="function"===typeof t?ur(t,e):t||{},f(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&b(r,o)||$(o)||ir(e,"_data",o)}je(t,!0)}function ur(e,t){ge();try{return e.call(t,t)}catch(Os){return tt(Os,t,"data()"),{}}finally{me()}}var cr={lazy:!0};function fr(e,t){var n=e._computedWatchers=Object.create(null),r=ue();for(var i in t){var o=t[i],s="function"===typeof o?o:o.get;0,r||(n[i]=new nr(e,s||j,j,cr)),i in e||lr(e,i,o)}}function lr(e,t,n){var r=!ue();"function"===typeof n?(rr.get=r?hr(t):pr(n),rr.set=j):(rr.get=n.get?r&&!1!==n.cache?hr(t):pr(n.get):j,rr.set=n.set||j),Object.defineProperty(e,t,rr)}function hr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ye.target&&t.depend(),t.value}}function pr(e){return function(){return e.call(this,this)}}function dr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?j:C(t[n],e)}function yr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)vr(e,n,r[i]);else vr(e,n,r)}}function vr(e,t,n,r){return f(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function gr(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Le,e.prototype.$delete=Me,e.prototype.$watch=function(e,t,n){var r=this;if(f(t))return vr(r,e,t,n);n=n||{},n.user=!0;var i=new nr(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(o){tt(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var mr=0;function _r(e){e.prototype._init=function(e){var t=this;t._uid=mr++,t._isVue=!0,e&&e._isComponent?br(t,e):t.$options=He(wr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Pn(t),Sn(t),yn(t),Un(t,"beforeCreate"),Ct(t),or(t),Nt(t),Un(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function br(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function wr(e){var t=e.options;if(e.super){var n=wr(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=Er(e);i&&R(e.extendOptions,i),t=e.options=He(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Er(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function Or(e){this._init(e)}function Sr(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=x(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Tr(e){e.mixin=function(e){return this.options=He(this.options,e),this}}function Ar(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name;var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=He(n.options,e),s["super"]=n,s.options.props&&Ir(s),s.options.computed&&Nr(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,F.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=R({},s.options),i[r]=s,s}}function Ir(e){var t=e.options.props;for(var n in t)ir(e.prototype,"_props",n)}function Nr(e){var t=e.options.computed;for(var n in t)lr(e.prototype,n,t[n])}function Cr(e){F.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&f(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function xr(e){return e&&(e.Ctor.options.name||e.tag)}function Rr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!l(e)&&e.test(t)}function Pr(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=xr(s.componentOptions);a&&!t(a)&&jr(n,o,r,i)}}}function jr(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,m(n,t)}_r(Or),gr(Or),Cn(Or),jn(Or),mn(Or);var kr=[String,RegExp,Array],Lr={name:"keep-alive",abstract:!0,props:{include:kr,exclude:kr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)jr(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Pr(e,(function(e){return Rr(t,e)}))})),this.$watch("exclude",(function(t){Pr(e,(function(e){return!Rr(t,e)}))}))},render:function(){var e=this.$slots.default,t=On(e),n=t&&t.componentOptions;if(n){var r=xr(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!Rr(o,r))||s&&r&&Rr(s,r))return t;var a=this,u=a.cache,c=a.keys,f=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;u[f]?(t.componentInstance=u[f].componentInstance,m(c,f),c.push(f)):(u[f]=t,c.push(f),this.max&&c.length>parseInt(this.max)&&jr(u,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Mr={KeepAlive:Lr};function Dr(e){var t={get:function(){return V}};Object.defineProperty(e,"config",t),e.util={warn:pe,extend:R,mergeOptions:He,defineReactive:ke},e.set=Le,e.delete=Me,e.nextTick=dt,e.observable=function(e){return je(e),e},e.options=Object.create(null),F.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,R(e.options.components,Mr),Sr(e),Tr(e),Ar(e),Cr(e)}Dr(Or),Object.defineProperty(Or.prototype,"$isServer",{get:ue}),Object.defineProperty(Or.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Or,"FunctionalRenderContext",{value:Qt}),Or.version="2.6.12";var Br=v("style,class"),Ur=v("input,textarea,option,select,progress"),Fr=function(e,t,n){return"value"===n&&Ur(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},qr=v("contenteditable,draggable,spellcheck"),Vr=v("events,caret,typing,plaintext-only"),Yr=function(e,t){return Hr(t)||"false"===t?"false":"contenteditable"===e&&Vr(t)?t:"true"},$r=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wr="http://www.w3.org/1999/xlink",zr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Gr=function(e){return zr(e)?e.slice(6,e.length):""},Hr=function(e){return null==e||!1===e};function Kr(e){var t=e.data,n=e,r=e;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Jr(r.data,t));while(i(n=n.parent))n&&n.data&&(t=Jr(t,n.data));return Qr(t.staticClass,t.class)}function Jr(e,t){return{staticClass:Xr(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Qr(e,t){return i(e)||i(t)?Xr(e,Zr(t)):""}function Xr(e,t){return e?t?e+" "+t:e:t||""}function Zr(e){return Array.isArray(e)?ei(e):u(e)?ti(e):"string"===typeof e?e:""}function ei(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Zr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ti(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(e){return ri(e)||ii(e)};function si(e){return ii(e)?"svg":"math"===e?"math":void 0}var ai=Object.create(null);function ui(e){if(!J)return!0;if(oi(e))return!1;if(e=e.toLowerCase(),null!=ai[e])return ai[e];var t=document.createElement(e);return e.indexOf("-")>-1?ai[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ai[e]=/HTMLUnknownElement/.test(t.toString())}var ci=v("text,number,password,search,email,tel,url");function fi(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function li(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function hi(e,t){return document.createElementNS(ni[e],t)}function pi(e){return document.createTextNode(e)}function di(e){return document.createComment(e)}function yi(e,t,n){e.insertBefore(t,n)}function vi(e,t){e.removeChild(t)}function gi(e,t){e.appendChild(t)}function mi(e){return e.parentNode}function _i(e){return e.nextSibling}function bi(e){return e.tagName}function wi(e,t){e.textContent=t}function Ei(e,t){e.setAttribute(t,"")}var Oi=Object.freeze({createElement:li,createElementNS:hi,createTextNode:pi,createComment:di,insertBefore:yi,removeChild:vi,appendChild:gi,parentNode:mi,nextSibling:_i,tagName:bi,setTextContent:wi,setStyleScope:Ei}),Si={create:function(e,t){Ti(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Ti(e,!0),Ti(t))},destroy:function(e){Ti(e,!0)}};function Ti(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?m(s[n],o):s[n]===o&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var Ai=new _e("",{},[]),Ii=["create","activate","update","remove","destroy"];function Ni(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&Ci(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function Ci(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||ci(r)&&ci(o)}function xi(e,t,n){var r,o,s={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(s[o]=r);return s}function Ri(e){var t,n,s={},u=e.modules,c=e.nodeOps;for(t=0;t<Ii.length;++t)for(s[Ii[t]]=[],n=0;n<u.length;++n)i(u[n][Ii[t]])&&s[Ii[t]].push(u[n][Ii[t]]);function f(e){return new _e(c.tagName(e).toLowerCase(),{},[],void 0,e)}function l(e,t){function n(){0===--n.listeners&&h(e)}return n.listeners=t,n}function h(e){var t=c.parentNode(e);i(t)&&c.removeChild(t,e)}function p(e,t,n,r,s,a,u){if(i(e.elm)&&i(a)&&(e=a[u]=Oe(e)),e.isRootInsert=!s,!d(e,t,n,r)){var f=e.data,l=e.children,h=e.tag;i(h)?(e.elm=e.ns?c.createElementNS(e.ns,h):c.createElement(h,e),E(e),_(e,l,t),i(f)&&w(e,t),m(n,e.elm,r)):o(e.isComment)?(e.elm=c.createComment(e.text),m(n,e.elm,r)):(e.elm=c.createTextNode(e.text),m(n,e.elm,r))}}function d(e,t,n,r){var s=e.data;if(i(s)){var a=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1),i(e.componentInstance))return y(e,t),m(n,e.elm,r),o(a)&&g(e,t,n,r),!0}}function y(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,b(e)?(w(e,t),E(e)):(Ti(e),t.push(e))}function g(e,t,n,r){var o,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Ai,a);t.push(a);break}m(n,e.elm,r)}function m(e,t,n){i(e)&&(i(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function _(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)p(t[r],n,e.elm,null,!0,t,r)}else a(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function b(e){while(e.componentInstance)e=e.componentInstance._vnode;return i(e.tag)}function w(e,n){for(var r=0;r<s.create.length;++r)s.create[r](Ai,e);t=e.data.hook,i(t)&&(i(t.create)&&t.create(Ai,e),i(t.insert)&&n.push(e))}function E(e){var t;if(i(t=e.fnScopeId))c.setStyleScope(e.elm,t);else{var n=e;while(n)i(t=n.context)&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent}i(t=xn)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function O(e,t,n,r,i,o){for(;r<=i;++r)p(n[r],o,e,t,!1,n,r)}function S(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)S(e.children[n])}function T(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(A(r),S(r)):h(r.elm))}}function A(e,t){if(i(t)||i(e.data)){var n,r=s.remove.length+1;for(i(t)?t.listeners+=r:t=l(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&A(n,t),n=0;n<s.remove.length;++n)s.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else h(e.elm)}function I(e,t,n,o,s){var a,u,f,l,h=0,d=0,y=t.length-1,v=t[0],g=t[y],m=n.length-1,_=n[0],b=n[m],w=!s;while(h<=y&&d<=m)r(v)?v=t[++h]:r(g)?g=t[--y]:Ni(v,_)?(C(v,_,o,n,d),v=t[++h],_=n[++d]):Ni(g,b)?(C(g,b,o,n,m),g=t[--y],b=n[--m]):Ni(v,b)?(C(v,b,o,n,m),w&&c.insertBefore(e,v.elm,c.nextSibling(g.elm)),v=t[++h],b=n[--m]):Ni(g,_)?(C(g,_,o,n,d),w&&c.insertBefore(e,g.elm,v.elm),g=t[--y],_=n[++d]):(r(a)&&(a=xi(t,h,y)),u=i(_.key)?a[_.key]:N(_,t,h,y),r(u)?p(_,o,e,v.elm,!1,n,d):(f=t[u],Ni(f,_)?(C(f,_,o,n,d),t[u]=void 0,w&&c.insertBefore(e,f.elm,v.elm)):p(_,o,e,v.elm,!1,n,d)),_=n[++d]);h>y?(l=r(n[m+1])?null:n[m+1].elm,O(e,l,n,d,m,o)):d>m&&T(t,h,y)}function N(e,t,n,r){for(var o=n;o<r;o++){var s=t[o];if(i(s)&&Ni(e,s))return o}}function C(e,t,n,a,u,f){if(e!==t){i(t.elm)&&i(a)&&(t=a[u]=Oe(t));var l=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?P(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var h,p=t.data;i(p)&&i(h=p.hook)&&i(h=h.prepatch)&&h(e,t);var d=e.children,y=t.children;if(i(p)&&b(t)){for(h=0;h<s.update.length;++h)s.update[h](e,t);i(h=p.hook)&&i(h=h.update)&&h(e,t)}r(t.text)?i(d)&&i(y)?d!==y&&I(l,d,y,n,f):i(y)?(i(e.text)&&c.setTextContent(l,""),O(l,null,y,0,y.length-1,n)):i(d)?T(d,0,d.length-1):i(e.text)&&c.setTextContent(l,""):e.text!==t.text&&c.setTextContent(l,t.text),i(p)&&i(h=p.hook)&&i(h=h.postpatch)&&h(e,t)}}}function x(e,t,n){if(o(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var R=v("attrs,class,staticClass,staticStyle,key");function P(e,t,n,r){var s,a=t.tag,u=t.data,c=t.children;if(r=r||u&&u.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(s=u.hook)&&i(s=s.init)&&s(t,!0),i(s=t.componentInstance)))return y(t,n),!0;if(i(a)){if(i(c))if(e.hasChildNodes())if(i(s=u)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var f=!0,l=e.firstChild,h=0;h<c.length;h++){if(!l||!P(l,c[h],n,r)){f=!1;break}l=l.nextSibling}if(!f||l)return!1}else _(t,c,n);if(i(u)){var p=!1;for(var d in u)if(!R(d)){p=!0,w(t,n);break}!p&&u["class"]&&vt(u["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,a){if(!r(t)){var u=!1,l=[];if(r(e))u=!0,p(t,l);else{var h=i(e.nodeType);if(!h&&Ni(e,t))C(e,t,l,null,null,a);else{if(h){if(1===e.nodeType&&e.hasAttribute(U)&&(e.removeAttribute(U),n=!0),o(n)&&P(e,t,l))return x(t,l,!0),e;e=f(e)}var d=e.elm,y=c.parentNode(d);if(p(t,l,d._leaveCb?null:y,c.nextSibling(d)),i(t.parent)){var v=t.parent,g=b(t);while(v){for(var m=0;m<s.destroy.length;++m)s.destroy[m](v);if(v.elm=t.elm,g){for(var _=0;_<s.create.length;++_)s.create[_](Ai,v);var w=v.data.hook.insert;if(w.merged)for(var E=1;E<w.fns.length;E++)w.fns[E]()}else Ti(v);v=v.parent}}i(y)?T([e],0,0):i(e.tag)&&S(e)}}return x(t,l,u),t.elm}i(e)&&S(e)}}var Pi={create:ji,update:ji,destroy:function(e){ji(e,Ai)}};function ji(e,t){(e.data.directives||t.data.directives)&&ki(e,t)}function ki(e,t){var n,r,i,o=e===Ai,s=t===Ai,a=Mi(e.data.directives,e.context),u=Mi(t.data.directives,t.context),c=[],f=[];for(n in u)r=a[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Bi(i,"update",t,e),i.def&&i.def.componentUpdated&&f.push(i)):(Bi(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var l=function(){for(var n=0;n<c.length;n++)Bi(c[n],"inserted",t,e)};o?wt(t,"insert",l):l()}if(f.length&&wt(t,"postpatch",(function(){for(var n=0;n<f.length;n++)Bi(f[n],"componentUpdated",t,e)})),!o)for(n in a)u[n]||Bi(a[n],"unbind",e,e,s)}var Li=Object.create(null);function Mi(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Li),i[Di(r)]=r,r.def=Ke(t.$options,"directives",r.name,!0);return i}function Di(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Bi(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(Os){tt(Os,n.context,"directive "+e.name+" "+t+" hook")}}var Ui=[Si,Pi];function Fi(e,t){var n=t.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var o,s,a,u=t.elm,c=e.data.attrs||{},f=t.data.attrs||{};for(o in i(f.__ob__)&&(f=t.data.attrs=R({},f)),f)s=f[o],a=c[o],a!==s&&qi(u,o,s);for(o in(ee||ne)&&f.value!==c.value&&qi(u,"value",f.value),c)r(f[o])&&(zr(o)?u.removeAttributeNS(Wr,Gr(o)):qr(o)||u.removeAttribute(o))}}function qi(e,t,n){e.tagName.indexOf("-")>-1?Vi(e,t,n):$r(t)?Hr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):qr(t)?e.setAttribute(t,Yr(t,n)):zr(t)?Hr(n)?e.removeAttributeNS(Wr,Gr(t)):e.setAttributeNS(Wr,t,n):Vi(e,t,n)}function Vi(e,t,n){if(Hr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Yi={create:Fi,update:Fi};function $i(e,t){var n=t.elm,o=t.data,s=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=Kr(t),u=n._transitionClasses;i(u)&&(a=Xr(a,Zr(u))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Wi,zi={create:$i,update:$i},Gi="__r",Hi="__c";function Ki(e){if(i(e[Gi])){var t=ee?"change":"input";e[t]=[].concat(e[Gi],e[t]||[]),delete e[Gi]}i(e[Hi])&&(e.change=[].concat(e[Hi],e.change||[]),delete e[Hi])}function Ji(e,t,n){var r=Wi;return function i(){var o=t.apply(null,arguments);null!==o&&Zi(e,i,n,r)}}var Qi=st&&!(ie&&Number(ie[1])<=53);function Xi(e,t,n,r){if(Qi){var i=Gn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Wi.addEventListener(e,t,se?{capture:n,passive:r}:n)}function Zi(e,t,n,r){(r||Wi).removeEventListener(e,t._wrapper||t,n)}function eo(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Wi=t.elm,Ki(n),bt(n,i,Xi,Zi,Ji,t.context),Wi=void 0}}var to,no={create:eo,update:eo};function ro(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,s=t.elm,a=e.data.domProps||{},u=t.data.domProps||{};for(n in i(u.__ob__)&&(u=t.data.domProps=R({},u)),a)n in u||(s[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var c=r(o)?"":String(o);io(s,c)&&(s.value=c)}else if("innerHTML"===n&&ii(s.tagName)&&r(s.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var f=to.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(f.firstChild)s.appendChild(f.firstChild)}else if(o!==a[n])try{s[n]=o}catch(Os){}}}}function io(e,t){return!e.composing&&("OPTION"===e.tagName||oo(e,t)||so(e,t))}function oo(e,t){var n=!0;try{n=document.activeElement!==e}catch(Os){}return n&&e.value!==t}function so(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return y(n)!==y(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var ao={create:ro,update:ro},uo=w((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function co(e){var t=fo(e.style);return e.staticStyle?R(e.staticStyle,t):t}function fo(e){return Array.isArray(e)?P(e):"string"===typeof e?uo(e):e}function lo(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=co(i.data))&&R(r,n)}(n=co(e.data))&&R(r,n);var o=e;while(o=o.parent)o.data&&(n=co(o.data))&&R(r,n);return r}var ho,po=/^--/,yo=/\s*!important$/,vo=function(e,t,n){if(po.test(t))e.style.setProperty(t,n);else if(yo.test(n))e.style.setProperty(A(t),n.replace(yo,""),"important");else{var r=mo(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},go=["Webkit","Moz","ms"],mo=w((function(e){if(ho=ho||document.createElement("div").style,e=O(e),"filter"!==e&&e in ho)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<go.length;n++){var r=go[n]+t;if(r in ho)return r}}));function _o(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var s,a,u=t.elm,c=o.staticStyle,f=o.normalizedStyle||o.style||{},l=c||f,h=fo(t.data.style)||{};t.data.normalizedStyle=i(h.__ob__)?R({},h):h;var p=lo(t,!0);for(a in l)r(p[a])&&vo(u,a,"");for(a in p)s=p[a],s!==l[a]&&vo(u,a,null==s?"":s)}}var bo={create:_o,update:_o},wo=/\s+/;function Eo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wo).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Oo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wo).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function So(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&R(t,To(e.name||"v")),R(t,e),t}return"string"===typeof e?To(e):void 0}}var To=w((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Ao=J&&!te,Io="transition",No="animation",Co="transition",xo="transitionend",Ro="animation",Po="animationend";Ao&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Co="WebkitTransition",xo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ro="WebkitAnimation",Po="webkitAnimationEnd"));var jo=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function ko(e){jo((function(){jo(e)}))}function Lo(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Eo(e,t))}function Mo(e,t){e._transitionClasses&&m(e._transitionClasses,t),Oo(e,t)}function Do(e,t,n){var r=Uo(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===Io?xo:Po,u=0,c=function(){e.removeEventListener(a,f),n()},f=function(t){t.target===e&&++u>=s&&c()};setTimeout((function(){u<s&&c()}),o+1),e.addEventListener(a,f)}var Bo=/\b(transform|all)(,|$)/;function Uo(e,t){var n,r=window.getComputedStyle(e),i=(r[Co+"Delay"]||"").split(", "),o=(r[Co+"Duration"]||"").split(", "),s=Fo(i,o),a=(r[Ro+"Delay"]||"").split(", "),u=(r[Ro+"Duration"]||"").split(", "),c=Fo(a,u),f=0,l=0;t===Io?s>0&&(n=Io,f=s,l=o.length):t===No?c>0&&(n=No,f=c,l=u.length):(f=Math.max(s,c),n=f>0?s>c?Io:No:null,l=n?n===Io?o.length:u.length:0);var h=n===Io&&Bo.test(r[Co+"Property"]);return{type:n,timeout:f,propCount:l,hasTransform:h}}function Fo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return qo(t)+qo(e[n])})))}function qo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Vo(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=So(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var s=o.css,a=o.type,c=o.enterClass,f=o.enterToClass,l=o.enterActiveClass,h=o.appearClass,p=o.appearToClass,d=o.appearActiveClass,v=o.beforeEnter,g=o.enter,m=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,E=o.afterAppear,O=o.appearCancelled,S=o.duration,T=xn,A=xn.$vnode;while(A&&A.parent)T=A.context,A=A.parent;var I=!T._isMounted||!e.isRootInsert;if(!I||w||""===w){var N=I&&h?h:c,C=I&&d?d:l,x=I&&p?p:f,R=I&&b||v,P=I&&"function"===typeof w?w:g,j=I&&E||m,k=I&&O||_,L=y(u(S)?S.enter:S);0;var M=!1!==s&&!te,D=Wo(P),U=n._enterCb=B((function(){M&&(Mo(n,x),Mo(n,C)),U.cancelled?(M&&Mo(n,N),k&&k(n)):j&&j(n),n._enterCb=null}));e.data.show||wt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),P&&P(n,U)})),R&&R(n),M&&(Lo(n,N),Lo(n,C),ko((function(){Mo(n,N),U.cancelled||(Lo(n,x),D||($o(L)?setTimeout(U,L):Do(n,a,U)))}))),e.data.show&&(t&&t(),P&&P(n,U)),M||D||U()}}}function Yo(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=So(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var s=o.css,a=o.type,c=o.leaveClass,f=o.leaveToClass,l=o.leaveActiveClass,h=o.beforeLeave,p=o.leave,d=o.afterLeave,v=o.leaveCancelled,g=o.delayLeave,m=o.duration,_=!1!==s&&!te,b=Wo(p),w=y(u(m)?m.leave:m);0;var E=n._leaveCb=B((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),_&&(Mo(n,f),Mo(n,l)),E.cancelled?(_&&Mo(n,c),v&&v(n)):(t(),d&&d(n)),n._leaveCb=null}));g?g(O):O()}function O(){E.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),h&&h(n),_&&(Lo(n,c),Lo(n,l),ko((function(){Mo(n,c),E.cancelled||(Lo(n,f),b||($o(w)?setTimeout(E,w):Do(n,a,E)))}))),p&&p(n,E),_||b||E())}}function $o(e){return"number"===typeof e&&!isNaN(e)}function Wo(e){if(r(e))return!1;var t=e.fns;return i(t)?Wo(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function zo(e,t){!0!==t.data.show&&Vo(t)}var Go=J?{create:zo,activate:zo,remove:function(e,t){!0!==e.data.show?Yo(e,t):t()}}:{},Ho=[Yi,zi,no,ao,bo,Go],Ko=Ho.concat(Ui),Jo=Ri({nodeOps:Oi,modules:Ko});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&is(e,"input")}));var Qo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?wt(n,"postpatch",(function(){Qo.componentUpdated(e,t,n)})):Xo(e,t,n.context),e._vOptions=[].map.call(e.options,ts)):("textarea"===n.tag||ci(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ns),e.addEventListener("compositionend",rs),e.addEventListener("change",rs),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Xo(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,ts);if(i.some((function(e,t){return!M(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return es(e,i)})):t.value!==t.oldValue&&es(t.value,i);o&&is(e,"change")}}}};function Xo(e,t,n){Zo(e,t,n),(ee||ne)&&setTimeout((function(){Zo(e,t,n)}),0)}function Zo(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,u=e.options.length;a<u;a++)if(s=e.options[a],i)o=D(r,ts(s))>-1,s.selected!==o&&(s.selected=o);else if(M(ts(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function es(e,t){return t.every((function(t){return!M(t,e)}))}function ts(e){return"_value"in e?e._value:e.value}function ns(e){e.target.composing=!0}function rs(e){e.target.composing&&(e.target.composing=!1,is(e.target,"input"))}function is(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function os(e){return!e.componentInstance||e.data&&e.data.transition?e:os(e.componentInstance._vnode)}var ss={bind:function(e,t,n){var r=t.value;n=os(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,Vo(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=os(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Vo(n,(function(){e.style.display=e.__vOriginalDisplay})):Yo(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},as={model:Qo,show:ss},us={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function cs(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?cs(On(t.children)):e}function fs(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[O(o)]=i[o];return t}function ls(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function hs(e){while(e=e.parent)if(e.data.transition)return!0}function ps(e,t){return t.key===e.key&&t.tag===e.tag}var ds=function(e){return e.tag||En(e)},ys=function(e){return"show"===e.name},vs={name:"transition",props:us,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(ds),n.length)){0;var r=this.mode;0;var i=n[0];if(hs(this.$vnode))return i;var o=cs(i);if(!o)return i;if(this._leaving)return ls(e,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var u=(o.data||(o.data={})).transition=fs(this),c=this._vnode,f=cs(c);if(o.data.directives&&o.data.directives.some(ys)&&(o.data.show=!0),f&&f.data&&!ps(o,f)&&!En(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var l=f.data.transition=R({},u);if("out-in"===r)return this._leaving=!0,wt(l,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),ls(e,i);if("in-out"===r){if(En(o))return c;var h,p=function(){h()};wt(u,"afterEnter",p),wt(u,"enterCancelled",p),wt(l,"delayLeave",(function(e){h=e}))}}return i}}},gs=R({tag:String,moveClass:String},us);delete gs.mode;var ms={props:gs,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Rn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=fs(this),a=0;a<i.length;a++){var u=i[a];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(r){for(var c=[],f=[],l=0;l<r.length;l++){var h=r[l];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):f.push(h)}this.kept=e(t,null,c),this.removed=f}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(_s),e.forEach(bs),e.forEach(ws),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;Lo(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(xo,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(xo,e),n._moveCb=null,Mo(n,t))})}})))},methods:{hasMove:function(e,t){if(!Ao)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Oo(n,e)})),Eo(n,t),n.style.display="none",this.$el.appendChild(n);var r=Uo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function _s(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function bs(e){e.data.newPos=e.elm.getBoundingClientRect()}function ws(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Es={Transition:vs,TransitionGroup:ms};Or.config.mustUseProp=Fr,Or.config.isReservedTag=oi,Or.config.isReservedAttr=Br,Or.config.getTagNamespace=si,Or.config.isUnknownElement=ui,R(Or.options.directives,as),R(Or.options.components,Es),Or.prototype.__patch__=J?Jo:j,Or.prototype.$mount=function(e,t){return e=e&&J?fi(e):void 0,kn(this,e,t)},J&&setTimeout((function(){V.devtools&&ce&&ce.emit("init",Or)}),0),t["default"]=Or}.call(this,n("c8ba"))},"2b3e":function(e,t,n){var r=n("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},"2bb5":function(e,t,n){"use strict";t.__esModule=!0;n("8122");t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),a=n("d039"),u=n("0366"),c=n("1be4"),f=n("cc12"),l=n("1cdc"),h=n("605d"),p=s.location,d=s.setImmediate,y=s.clearImmediate,v=s.process,g=s.MessageChannel,m=s.Dispatch,_=0,b={},w="onreadystatechange",E=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},O=function(e){return function(){E(e)}},S=function(e){E(e.data)},T=function(e){s.postMessage(e+"",p.protocol+"//"+p.host)};d&&y||(d=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(_),_},y=function(e){delete b[e]},h?r=function(e){v.nextTick(O(e))}:m&&m.now?r=function(e){m.now(O(e))}:g&&!l?(i=new g,o=i.port2,i.port1.onmessage=S,r=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&p&&"file:"!==p.protocol&&!a(T)?(r=T,s.addEventListener("message",S,!1)):r=w in f("script")?function(e){c.appendChild(f("script"))[w]=function(){c.removeChild(this),E(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:d,clear:y}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,u=a&&a.versions,c=u&&u.v8;c?(r=c.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"2d02":function(e){e.exports=JSON.parse('{"a":"1.4.0"}')},"2dcb":function(e,t,n){var r=n("91e9"),i=r(Object.getPrototypeOf,Object);e.exports=i},"2ef0":function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s="4.17.20",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",f="__lodash_hash_undefined__",l=500,h="__lodash_placeholder__",p=1,d=2,y=4,v=1,g=2,m=1,_=2,b=4,w=8,E=16,O=32,S=64,T=128,A=256,I=512,N=30,C="...",x=800,R=16,P=1,j=2,k=3,L=1/0,M=9007199254740991,D=17976931348623157e292,B=NaN,U=4294967295,F=U-1,q=U>>>1,V=[["ary",T],["bind",m],["bindKey",_],["curry",w],["curryRight",E],["flip",I],["partial",O],["partialRight",S],["rearg",A]],Y="[object Arguments]",$="[object Array]",W="[object AsyncFunction]",z="[object Boolean]",G="[object Date]",H="[object DOMException]",K="[object Error]",J="[object Function]",Q="[object GeneratorFunction]",X="[object Map]",Z="[object Number]",ee="[object Null]",te="[object Object]",ne="[object Promise]",re="[object Proxy]",ie="[object RegExp]",oe="[object Set]",se="[object String]",ae="[object Symbol]",ue="[object Undefined]",ce="[object WeakMap]",fe="[object WeakSet]",le="[object ArrayBuffer]",he="[object DataView]",pe="[object Float32Array]",de="[object Float64Array]",ye="[object Int8Array]",ve="[object Int16Array]",ge="[object Int32Array]",me="[object Uint8Array]",_e="[object Uint8ClampedArray]",be="[object Uint16Array]",we="[object Uint32Array]",Ee=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Te=/&(?:amp|lt|gt|quot|#39);/g,Ae=/[&<>"']/g,Ie=RegExp(Te.source),Ne=RegExp(Ae.source),Ce=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,je=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(Le.source),De=/^\s+|\s+$/g,Be=/^\s+/,Ue=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ve=/,? & /,Ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$e=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ke=/^\[object .+?Constructor\]$/,Je=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,et=/['\n\r\u2028\u2029\\]/g,tt="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=nt+rt+it,st="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",ut="\\xac\\xb1\\xd7\\xf7",ct="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ft="\\u2000-\\u206f",lt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ht="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",dt=ut+ct+ft+lt,yt="['’]",vt="["+tt+"]",gt="["+dt+"]",mt="["+ot+"]",_t="\\d+",bt="["+st+"]",wt="["+at+"]",Et="[^"+tt+dt+_t+st+at+ht+"]",Ot="\\ud83c[\\udffb-\\udfff]",St="(?:"+mt+"|"+Ot+")",Tt="[^"+tt+"]",At="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="["+ht+"]",Ct="\\u200d",xt="(?:"+wt+"|"+Et+")",Rt="(?:"+Nt+"|"+Et+")",Pt="(?:"+yt+"(?:d|ll|m|re|s|t|ve))?",jt="(?:"+yt+"(?:D|LL|M|RE|S|T|VE))?",kt=St+"?",Lt="["+pt+"]?",Mt="(?:"+Ct+"(?:"+[Tt,At,It].join("|")+")"+Lt+kt+")*",Dt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ut=Lt+kt+Mt,Ft="(?:"+[bt,At,It].join("|")+")"+Ut,qt="(?:"+[Tt+mt+"?",mt,At,It,vt].join("|")+")",Vt=RegExp(yt,"g"),Yt=RegExp(mt,"g"),$t=RegExp(Ot+"(?="+Ot+")|"+qt+Ut,"g"),Wt=RegExp([Nt+"?"+wt+"+"+Pt+"(?="+[gt,Nt,"$"].join("|")+")",Rt+"+"+jt+"(?="+[gt,Nt+xt,"$"].join("|")+")",Nt+"?"+xt+"+"+Pt,Nt+"+"+jt,Bt,Dt,_t,Ft].join("|"),"g"),zt=RegExp("["+Ct+tt+ot+pt+"]"),Gt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kt=-1,Jt={};Jt[pe]=Jt[de]=Jt[ye]=Jt[ve]=Jt[ge]=Jt[me]=Jt[_e]=Jt[be]=Jt[we]=!0,Jt[Y]=Jt[$]=Jt[le]=Jt[z]=Jt[he]=Jt[G]=Jt[K]=Jt[J]=Jt[X]=Jt[Z]=Jt[te]=Jt[ie]=Jt[oe]=Jt[se]=Jt[ce]=!1;var Qt={};Qt[Y]=Qt[$]=Qt[le]=Qt[he]=Qt[z]=Qt[G]=Qt[pe]=Qt[de]=Qt[ye]=Qt[ve]=Qt[ge]=Qt[X]=Qt[Z]=Qt[te]=Qt[ie]=Qt[oe]=Qt[se]=Qt[ae]=Qt[me]=Qt[_e]=Qt[be]=Qt[we]=!0,Qt[K]=Qt[J]=Qt[ce]=!1;var Xt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,on="object"==typeof e&&e&&e.Object===Object&&e,sn="object"==typeof self&&self&&self.Object===Object&&self,an=on||sn||Function("return this")(),un=t&&!t.nodeType&&t,cn=un&&"object"==typeof r&&r&&!r.nodeType&&r,fn=cn&&cn.exports===un,ln=fn&&on.process,hn=function(){try{var e=cn&&cn.require&&cn.require("util").types;return e||ln&&ln.binding&&ln.binding("util")}catch(t){}}(),pn=hn&&hn.isArrayBuffer,dn=hn&&hn.isDate,yn=hn&&hn.isMap,vn=hn&&hn.isRegExp,gn=hn&&hn.isSet,mn=hn&&hn.isTypedArray;function _n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bn(e,t,n,r){var i=-1,o=null==e?0:e.length;while(++i<o){var s=e[i];t(r,s,n(s),e)}return r}function wn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}function En(e,t){var n=null==e?0:e.length;while(n--)if(!1===t(e[n],n,e))break;return e}function On(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!t(e[n],n,e))return!1;return!0}function Sn(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Tn(e,t){var n=null==e?0:e.length;return!!n&&Dn(e,t,0)>-1}function An(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}function In(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function Nn(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function Cn(e,t,n,r){var i=-1,o=null==e?0:e.length;r&&o&&(n=e[++i]);while(++i<o)n=t(n,e[i],i,e);return n}function xn(e,t,n,r){var i=null==e?0:e.length;r&&i&&(n=e[--i]);while(i--)n=t(n,e[i],i,e);return n}function Rn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var Pn=qn("length");function jn(e){return e.split("")}function kn(e){return e.match(Ye)||[]}function Ln(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Mn(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}function Dn(e,t,n){return t===t?hr(e,t,n):Mn(e,Un,n)}function Bn(e,t,n,r){var i=n-1,o=e.length;while(++i<o)if(r(e[i],t))return i;return-1}function Un(e){return e!==e}function Fn(e,t){var n=null==e?0:e.length;return n?Wn(e,t)/n:B}function qn(e){return function(t){return null==t?o:t[e]}}function Vn(e){return function(t){return null==e?o:e[t]}}function Yn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function $n(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}function Wn(e,t){var n,r=-1,i=e.length;while(++r<i){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function zn(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function Gn(e,t){return In(t,(function(t){return[t,e[t]]}))}function Hn(e){return function(t){return e(t)}}function Kn(e,t){return In(t,(function(t){return e[t]}))}function Jn(e,t){return e.has(t)}function Qn(e,t){var n=-1,r=e.length;while(++n<r&&Dn(t,e[n],0)>-1);return n}function Xn(e,t){var n=e.length;while(n--&&Dn(t,e[n],0)>-1);return n}function Zn(e,t){var n=e.length,r=0;while(n--)e[n]===t&&++r;return r}var er=Vn(Xt),tr=Vn(Zt);function nr(e){return"\\"+tn[e]}function rr(e,t){return null==e?o:e[t]}function ir(e){return zt.test(e)}function or(e){return Gt.test(e)}function sr(e){var t,n=[];while(!(t=e.next()).done)n.push(t.value);return n}function ar(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ur(e,t){return function(n){return e(t(n))}}function cr(e,t){var n=-1,r=e.length,i=0,o=[];while(++n<r){var s=e[n];s!==t&&s!==h||(e[n]=h,o[i++]=n)}return o}function fr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function lr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hr(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function pr(e,t,n){var r=n+1;while(r--)if(e[r]===t)return r;return r}function dr(e){return ir(e)?gr(e):Pn(e)}function yr(e){return ir(e)?mr(e):jn(e)}var vr=Vn(en);function gr(e){var t=$t.lastIndex=0;while($t.test(e))++t;return t}function mr(e){return e.match($t)||[]}function _r(e){return e.match(Wt)||[]}var br=function e(t){t=null==t?an:wr.defaults(an.Object(),t,wr.pick(an,Ht));var n=t.Array,r=t.Date,i=t.Error,Ye=t.Function,tt=t.Math,nt=t.Object,rt=t.RegExp,it=t.String,ot=t.TypeError,st=n.prototype,at=Ye.prototype,ut=nt.prototype,ct=t["__core-js_shared__"],ft=at.toString,lt=ut.hasOwnProperty,ht=0,pt=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),dt=ut.toString,yt=ft.call(nt),vt=an._,gt=rt("^"+ft.call(lt).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=fn?t.Buffer:o,_t=t.Symbol,bt=t.Uint8Array,wt=mt?mt.allocUnsafe:o,Et=ur(nt.getPrototypeOf,nt),Ot=nt.create,St=ut.propertyIsEnumerable,Tt=st.splice,At=_t?_t.isConcatSpreadable:o,It=_t?_t.iterator:o,Nt=_t?_t.toStringTag:o,Ct=function(){try{var e=Ws(nt,"defineProperty");return e({},"",{}),e}catch(t){}}(),xt=t.clearTimeout!==an.clearTimeout&&t.clearTimeout,Rt=r&&r.now!==an.Date.now&&r.now,Pt=t.setTimeout!==an.setTimeout&&t.setTimeout,jt=tt.ceil,kt=tt.floor,Lt=nt.getOwnPropertySymbols,Mt=mt?mt.isBuffer:o,Dt=t.isFinite,Bt=st.join,Ut=ur(nt.keys,nt),Ft=tt.max,qt=tt.min,$t=r.now,Wt=t.parseInt,zt=tt.random,Gt=st.reverse,Xt=Ws(t,"DataView"),Zt=Ws(t,"Map"),en=Ws(t,"Promise"),tn=Ws(t,"Set"),on=Ws(t,"WeakMap"),sn=Ws(nt,"create"),un=on&&new on,cn={},ln=xa(Xt),hn=xa(Zt),Pn=xa(en),jn=xa(tn),Vn=xa(on),hr=_t?_t.prototype:o,gr=hr?hr.valueOf:o,mr=hr?hr.toString:o;function br(e){if(Sf(e)&&!af(e)&&!(e instanceof Tr)){if(e instanceof Sr)return e;if(lt.call(e,"__wrapped__"))return Pa(e)}return new Sr(e)}var Er=function(){function e(){}return function(t){if(!Of(t))return{};if(Ot)return Ot(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Or(){}function Sr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Tr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Ar(){var e=new Tr(this.__wrapped__);return e.__actions__=ns(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ns(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ns(this.__views__),e}function Ir(){if(this.__filtered__){var e=new Tr(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Nr(){var e=this.__wrapped__.value(),t=this.__dir__,n=af(e),r=t<0,i=n?e.length:0,o=Js(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,f=this.__iteratees__,l=f.length,h=0,p=qt(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return Do(e,this.__actions__);var d=[];e:while(u--&&h<p){c+=t;var y=-1,v=e[c];while(++y<l){var g=f[y],m=g.iteratee,_=g.type,b=m(v);if(_==j)v=b;else if(!b){if(_==P)continue e;break e}}d[h++]=v}return d}function Cr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function xr(){this.__data__=sn?sn(null):{},this.size=0}function Rr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Pr(e){var t=this.__data__;if(sn){var n=t[e];return n===f?o:n}return lt.call(t,e)?t[e]:o}function jr(e){var t=this.__data__;return sn?t[e]!==o:lt.call(t,e)}function kr(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sn&&t===o?f:t,this}function Lr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Mr(){this.__data__=[],this.size=0}function Dr(e){var t=this.__data__,n=ui(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Tt.call(t,n,1),--this.size,!0}function Br(e){var t=this.__data__,n=ui(t,e);return n<0?o:t[n][1]}function Ur(e){return ui(this.__data__,e)>-1}function Fr(e,t){var n=this.__data__,r=ui(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function qr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Vr(){this.size=0,this.__data__={hash:new Cr,map:new(Zt||Lr),string:new Cr}}function Yr(e){var t=Ys(this,e)["delete"](e);return this.size-=t?1:0,t}function $r(e){return Ys(this,e).get(e)}function Wr(e){return Ys(this,e).has(e)}function zr(e,t){var n=Ys(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Gr(e){var t=-1,n=null==e?0:e.length;this.__data__=new qr;while(++t<n)this.add(e[t])}function Hr(e){return this.__data__.set(e,f),this}function Kr(e){return this.__data__.has(e)}function Jr(e){var t=this.__data__=new Lr(e);this.size=t.size}function Qr(){this.__data__=new Lr,this.size=0}function Xr(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function Zr(e){return this.__data__.get(e)}function ei(e){return this.__data__.has(e)}function ti(e,t){var n=this.__data__;if(n instanceof Lr){var r=n.__data__;if(!Zt||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qr(r)}return n.set(e,t),this.size=n.size,this}function ni(e,t){var n=af(e),r=!n&&sf(e),i=!n&&!r&&hf(e),o=!n&&!r&&!i&&Uf(e),s=n||r||i||o,a=s?zn(e.length,it):[],u=a.length;for(var c in e)!t&&!lt.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ia(c,u))||a.push(c);return a}function ri(e){var t=e.length;return t?e[vo(0,t-1)]:o}function ii(e,t){return Ia(ns(e),di(t,0,e.length))}function oi(e){return Ia(ns(e))}function si(e,t,n){(n!==o&&!nf(e[t],n)||n===o&&!(t in e))&&hi(e,t,n)}function ai(e,t,n){var r=e[t];lt.call(e,t)&&nf(r,n)&&(n!==o||t in e)||hi(e,t,n)}function ui(e,t){var n=e.length;while(n--)if(nf(e[n][0],t))return n;return-1}function ci(e,t,n,r){return bi(e,(function(e,i,o){t(r,e,n(e),o)})),r}function fi(e,t){return e&&rs(t,wl(t),e)}function li(e,t){return e&&rs(t,El(t),e)}function hi(e,t,n){"__proto__"==t&&Ct?Ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function pi(e,t){var r=-1,i=t.length,s=n(i),a=null==e;while(++r<i)s[r]=a?o:yl(e,t[r]);return s}function di(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function yi(e,t,n,r,i,s){var a,u=t&p,c=t&d,f=t&y;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!Of(e))return e;var l=af(e);if(l){if(a=Zs(e),!u)return ns(e,a)}else{var h=Ks(e),v=h==J||h==Q;if(hf(e))return zo(e,u);if(h==te||h==Y||v&&!i){if(a=c||v?{}:ea(e),!u)return c?os(e,li(a,e)):is(e,fi(a,e))}else{if(!Qt[h])return i?e:{};a=ta(e,h,u)}}s||(s=new Jr);var g=s.get(e);if(g)return g;s.set(e,a),Mf(e)?e.forEach((function(r){a.add(yi(r,t,n,r,e,s))})):Tf(e)&&e.forEach((function(r,i){a.set(i,yi(r,t,n,i,e,s))}));var m=f?c?Bs:Ds:c?El:wl,_=l?o:m(e);return wn(_||e,(function(r,i){_&&(i=r,r=e[i]),ai(a,i,yi(r,t,n,i,e,s))})),a}function vi(e){var t=wl(e);return function(n){return gi(n,e,t)}}function gi(e,t,n){var r=n.length;if(null==e)return!r;e=nt(e);while(r--){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function mi(e,t,n){if("function"!=typeof e)throw new ot(c);return Oa((function(){e.apply(o,n)}),t)}function _i(e,t,n,r){var i=-1,o=Tn,s=!0,u=e.length,c=[],f=t.length;if(!u)return c;n&&(t=In(t,Hn(n))),r?(o=An,s=!1):t.length>=a&&(o=Jn,s=!1,t=new Gr(t));e:while(++i<u){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h===h){var p=f;while(p--)if(t[p]===h)continue e;c.push(l)}else o(t,h,r)||c.push(l)}return c}br.templateSettings={escape:Ce,evaluate:xe,interpolate:Re,variable:"",imports:{_:br}},br.prototype=Or.prototype,br.prototype.constructor=br,Sr.prototype=Er(Or.prototype),Sr.prototype.constructor=Sr,Tr.prototype=Er(Or.prototype),Tr.prototype.constructor=Tr,Cr.prototype.clear=xr,Cr.prototype["delete"]=Rr,Cr.prototype.get=Pr,Cr.prototype.has=jr,Cr.prototype.set=kr,Lr.prototype.clear=Mr,Lr.prototype["delete"]=Dr,Lr.prototype.get=Br,Lr.prototype.has=Ur,Lr.prototype.set=Fr,qr.prototype.clear=Vr,qr.prototype["delete"]=Yr,qr.prototype.get=$r,qr.prototype.has=Wr,qr.prototype.set=zr,Gr.prototype.add=Gr.prototype.push=Hr,Gr.prototype.has=Kr,Jr.prototype.clear=Qr,Jr.prototype["delete"]=Xr,Jr.prototype.get=Zr,Jr.prototype.has=ei,Jr.prototype.set=ti;var bi=us(Ci),wi=us(xi,!0);function Ei(e,t){var n=!0;return bi(e,(function(e,r,i){return n=!!t(e,r,i),n})),n}function Oi(e,t,n){var r=-1,i=e.length;while(++r<i){var s=e[r],a=t(s);if(null!=a&&(u===o?a===a&&!Bf(a):n(a,u)))var u=a,c=s}return c}function Si(e,t,n,r){var i=e.length;n=Gf(n),n<0&&(n=-n>i?0:i+n),r=r===o||r>i?i:Gf(r),r<0&&(r+=i),r=n>r?0:Hf(r);while(n<r)e[n++]=t;return e}function Ti(e,t){var n=[];return bi(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Ai(e,t,n,r,i){var o=-1,s=e.length;n||(n=ra),i||(i=[]);while(++o<s){var a=e[o];t>0&&n(a)?t>1?Ai(a,t-1,n,r,i):Nn(i,a):r||(i[i.length]=a)}return i}var Ii=cs(),Ni=cs(!0);function Ci(e,t){return e&&Ii(e,t,wl)}function xi(e,t){return e&&Ni(e,t,wl)}function Ri(e,t){return Sn(t,(function(t){return bf(e[t])}))}function Pi(e,t){t=Vo(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Ca(t[n++])];return n&&n==r?e:o}function ji(e,t,n){var r=t(e);return af(e)?r:Nn(r,n(e))}function ki(e){return null==e?e===o?ue:ee:Nt&&Nt in nt(e)?zs(e):ga(e)}function Li(e,t){return e>t}function Mi(e,t){return null!=e&&lt.call(e,t)}function Di(e,t){return null!=e&&t in nt(e)}function Bi(e,t,n){return e>=qt(t,n)&&e<Ft(t,n)}function Ui(e,t,r){var i=r?An:Tn,s=e[0].length,a=e.length,u=a,c=n(a),f=1/0,l=[];while(u--){var h=e[u];u&&t&&(h=In(h,Hn(t))),f=qt(h.length,f),c[u]=!r&&(t||s>=120&&h.length>=120)?new Gr(u&&h):o}h=e[0];var p=-1,d=c[0];e:while(++p<s&&l.length<f){var y=h[p],v=t?t(y):y;if(y=r||0!==y?y:0,!(d?Jn(d,v):i(l,v,r))){u=a;while(--u){var g=c[u];if(!(g?Jn(g,v):i(e[u],v,r)))continue e}d&&d.push(v),l.push(y)}}return l}function Fi(e,t,n,r){return Ci(e,(function(e,i,o){t(r,n(e),i,o)})),r}function qi(e,t,n){t=Vo(t,e),e=_a(e,t);var r=null==e?e:e[Ca(ru(t))];return null==r?o:_n(r,e,n)}function Vi(e){return Sf(e)&&ki(e)==Y}function Yi(e){return Sf(e)&&ki(e)==le}function $i(e){return Sf(e)&&ki(e)==G}function Wi(e,t,n,r,i){return e===t||(null==e||null==t||!Sf(e)&&!Sf(t)?e!==e&&t!==t:zi(e,t,n,r,Wi,i))}function zi(e,t,n,r,i,o){var s=af(e),a=af(t),u=s?$:Ks(e),c=a?$:Ks(t);u=u==Y?te:u,c=c==Y?te:c;var f=u==te,l=c==te,h=u==c;if(h&&hf(e)){if(!hf(t))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new Jr),s||Uf(e)?js(e,t,n,r,i,o):ks(e,t,u,n,r,i,o);if(!(n&v)){var p=f&&lt.call(e,"__wrapped__"),d=l&&lt.call(t,"__wrapped__");if(p||d){var y=p?e.value():e,g=d?t.value():t;return o||(o=new Jr),i(y,g,n,r,o)}}return!!h&&(o||(o=new Jr),Ls(e,t,n,r,i,o))}function Gi(e){return Sf(e)&&Ks(e)==X}function Hi(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;e=nt(e);while(i--){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}while(++i<s){u=n[i];var c=u[0],f=e[c],l=u[1];if(a&&u[2]){if(f===o&&!(c in e))return!1}else{var h=new Jr;if(r)var p=r(f,l,c,e,t,h);if(!(p===o?Wi(l,f,v|g,r,h):p))return!1}}return!0}function Ki(e){if(!Of(e)||ca(e))return!1;var t=bf(e)?gt:Ke;return t.test(xa(e))}function Ji(e){return Sf(e)&&ki(e)==ie}function Qi(e){return Sf(e)&&Ks(e)==oe}function Xi(e){return Sf(e)&&Ef(e.length)&&!!Jt[ki(e)]}function Zi(e){return"function"==typeof e?e:null==e?Ch:"object"==typeof e?af(e)?oo(e[0],e[1]):io(e):Vh(e)}function eo(e){if(!la(e))return Ut(e);var t=[];for(var n in nt(e))lt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function to(e){if(!Of(e))return va(e);var t=la(e),n=[];for(var r in e)("constructor"!=r||!t&&lt.call(e,r))&&n.push(r);return n}function no(e,t){return e<t}function ro(e,t){var r=-1,i=cf(e)?n(e.length):[];return bi(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function io(e){var t=$s(e);return 1==t.length&&t[0][2]?pa(t[0][0],t[0][1]):function(n){return n===e||Hi(n,e,t)}}function oo(e,t){return sa(e)&&ha(t)?pa(Ca(e),t):function(n){var r=yl(n,e);return r===o&&r===t?gl(n,e):Wi(t,r,v|g)}}function so(e,t,n,r,i){e!==t&&Ii(t,(function(s,a){if(i||(i=new Jr),Of(s))ao(e,t,a,n,so,r,i);else{var u=r?r(wa(e,a),s,a+"",e,t,i):o;u===o&&(u=s),si(e,a,u)}}),El)}function ao(e,t,n,r,i,s,a){var u=wa(e,n),c=wa(t,n),f=a.get(c);if(f)si(e,n,f);else{var l=s?s(u,c,n+"",e,t,a):o,h=l===o;if(h){var p=af(c),d=!p&&hf(c),y=!p&&!d&&Uf(c);l=c,p||d||y?af(u)?l=u:ff(u)?l=ns(u):d?(h=!1,l=zo(c,!0)):y?(h=!1,l=Qo(c,!0)):l=[]:jf(c)||sf(c)?(l=u,sf(u)?l=Jf(u):Of(u)&&!bf(u)||(l=ea(c))):h=!1}h&&(a.set(c,l),i(l,c,r,s,a),a["delete"](c)),si(e,n,l)}}function uo(e,t){var n=e.length;if(n)return t+=t<0?n:0,ia(t,n)?e[t]:o}function co(e,t,n){t=t.length?In(t,(function(e){return af(e)?function(t){return Pi(t,1===e.length?e[0]:e)}:e})):[Ch];var r=-1;t=In(t,Hn(Vs()));var i=ro(e,(function(e,n,i){var o=In(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return $n(i,(function(e,t){return Zo(e,t,n)}))}function fo(e,t){return lo(e,t,(function(t,n){return gl(e,n)}))}function lo(e,t,n){var r=-1,i=t.length,o={};while(++r<i){var s=t[r],a=Pi(e,s);n(a,s)&&Eo(o,Vo(s,e),a)}return o}function ho(e){return function(t){return Pi(t,e)}}function po(e,t,n,r){var i=r?Bn:Dn,o=-1,s=t.length,a=e;e===t&&(t=ns(t)),n&&(a=In(e,Hn(n)));while(++o<s){var u=0,c=t[o],f=n?n(c):c;while((u=i(a,f,u,r))>-1)a!==e&&Tt.call(a,u,1),Tt.call(e,u,1)}return e}function yo(e,t){var n=e?t.length:0,r=n-1;while(n--){var i=t[n];if(n==r||i!==o){var o=i;ia(i)?Tt.call(e,i,1):ko(e,i)}}return e}function vo(e,t){return e+kt(zt()*(t-e+1))}function go(e,t,r,i){var o=-1,s=Ft(jt((t-e)/(r||1)),0),a=n(s);while(s--)a[i?s:++o]=e,e+=r;return a}function mo(e,t){var n="";if(!e||t<1||t>M)return n;do{t%2&&(n+=e),t=kt(t/2),t&&(e+=e)}while(t);return n}function _o(e,t){return Sa(ma(e,t,Ch),e+"")}function bo(e){return ri(Fl(e))}function wo(e,t){var n=Fl(e);return Ia(n,di(t,0,n.length))}function Eo(e,t,n,r){if(!Of(e))return e;t=Vo(t,e);var i=-1,s=t.length,a=s-1,u=e;while(null!=u&&++i<s){var c=Ca(t[i]),f=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=u[c];f=r?r(l,c,u):o,f===o&&(f=Of(l)?l:ia(t[i+1])?[]:{})}ai(u,c,f),u=u[c]}return e}var Oo=un?function(e,t){return un.set(e,t),e}:Ch,So=Ct?function(e,t){return Ct(e,"toString",{configurable:!0,enumerable:!1,value:Th(t),writable:!0})}:Ch;function To(e){return Ia(Fl(e))}function Ao(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;var s=n(o);while(++i<o)s[i]=e[i+t];return s}function Io(e,t){var n;return bi(e,(function(e,r,i){return n=t(e,r,i),!n})),!!n}function No(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=q){while(r<i){var o=r+i>>>1,s=e[o];null!==s&&!Bf(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Co(e,t,Ch,n)}function Co(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;t=n(t);var a=t!==t,u=null===t,c=Bf(t),f=t===o;while(i<s){var l=kt((i+s)/2),h=n(e[l]),p=h!==o,d=null===h,y=h===h,v=Bf(h);if(a)var g=r||y;else g=f?y&&(r||p):u?y&&p&&(r||!d):c?y&&p&&!d&&(r||!v):!d&&!v&&(r?h<=t:h<t);g?i=l+1:s=l}return qt(s,F)}function xo(e,t){var n=-1,r=e.length,i=0,o=[];while(++n<r){var s=e[n],a=t?t(s):s;if(!n||!nf(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Ro(e){return"number"==typeof e?e:Bf(e)?B:+e}function Po(e){if("string"==typeof e)return e;if(af(e))return In(e,Po)+"";if(Bf(e))return mr?mr.call(e):"";var t=e+"";return"0"==t&&1/e==-L?"-0":t}function jo(e,t,n){var r=-1,i=Tn,o=e.length,s=!0,u=[],c=u;if(n)s=!1,i=An;else if(o>=a){var f=t?null:Is(e);if(f)return fr(f);s=!1,i=Jn,c=new Gr}else c=t?[]:u;e:while(++r<o){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,s&&h===h){var p=c.length;while(p--)if(c[p]===h)continue e;t&&c.push(h),u.push(l)}else i(c,h,n)||(c!==u&&c.push(h),u.push(l))}return u}function ko(e,t){return t=Vo(t,e),e=_a(e,t),null==e||delete e[Ca(ru(t))]}function Lo(e,t,n,r){return Eo(e,t,n(Pi(e,t)),r)}function Mo(e,t,n,r){var i=e.length,o=r?i:-1;while((r?o--:++o<i)&&t(e[o],o,e));return n?Ao(e,r?0:o,r?o+1:i):Ao(e,r?o+1:0,r?i:o)}function Do(e,t){var n=e;return n instanceof Tr&&(n=n.value()),Cn(t,(function(e,t){return t.func.apply(t.thisArg,Nn([e],t.args))}),n)}function Bo(e,t,r){var i=e.length;if(i<2)return i?jo(e[0]):[];var o=-1,s=n(i);while(++o<i){var a=e[o],u=-1;while(++u<i)u!=o&&(s[o]=_i(s[o]||a,e[u],t,r))}return jo(Ai(s,1),t,r)}function Uo(e,t,n){var r=-1,i=e.length,s=t.length,a={};while(++r<i){var u=r<s?t[r]:o;n(a,e[r],u)}return a}function Fo(e){return ff(e)?e:[]}function qo(e){return"function"==typeof e?e:Ch}function Vo(e,t){return af(e)?e:sa(e,t)?[e]:Na(Xf(e))}var Yo=_o;function $o(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ao(e,t,n)}var Wo=xt||function(e){return an.clearTimeout(e)};function zo(e,t){if(t)return e.slice();var n=e.length,r=wt?wt(n):new e.constructor(n);return e.copy(r),r}function Go(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t}function Ho(e,t){var n=t?Go(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ko(e){var t=new e.constructor(e.source,ze.exec(e));return t.lastIndex=e.lastIndex,t}function Jo(e){return gr?nt(gr.call(e)):{}}function Qo(e,t){var n=t?Go(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Xo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,s=Bf(e),a=t!==o,u=null===t,c=t===t,f=Bf(t);if(!u&&!f&&!s&&e>t||s&&a&&c&&!u&&!f||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!f&&e<t||f&&n&&i&&!r&&!s||u&&n&&i||!a&&i||!c)return-1}return 0}function Zo(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;while(++r<s){var u=Xo(i[r],o[r]);if(u){if(r>=a)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}function es(e,t,r,i){var o=-1,s=e.length,a=r.length,u=-1,c=t.length,f=Ft(s-a,0),l=n(c+f),h=!i;while(++u<c)l[u]=t[u];while(++o<a)(h||o<s)&&(l[r[o]]=e[o]);while(f--)l[u++]=e[o++];return l}function ts(e,t,r,i){var o=-1,s=e.length,a=-1,u=r.length,c=-1,f=t.length,l=Ft(s-u,0),h=n(l+f),p=!i;while(++o<l)h[o]=e[o];var d=o;while(++c<f)h[d+c]=t[c];while(++a<u)(p||o<s)&&(h[d+r[a]]=e[o++]);return h}function ns(e,t){var r=-1,i=e.length;t||(t=n(i));while(++r<i)t[r]=e[r];return t}function rs(e,t,n,r){var i=!n;n||(n={});var s=-1,a=t.length;while(++s<a){var u=t[s],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?hi(n,u,c):ai(n,u,c)}return n}function is(e,t){return rs(e,Gs(e),t)}function os(e,t){return rs(e,Hs(e),t)}function ss(e,t){return function(n,r){var i=af(n)?bn:ci,o=t?t():{};return i(n,e,Vs(r,2),o)}}function as(e){return _o((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;s=e.length>3&&"function"==typeof s?(i--,s):o,a&&oa(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=nt(t);while(++r<i){var u=n[r];u&&e(t,u,r,s)}return t}))}function us(e,t){return function(n,r){if(null==n)return n;if(!cf(n))return e(n,r);var i=n.length,o=t?i:-1,s=nt(n);while(t?o--:++o<i)if(!1===r(s[o],o,s))break;return n}}function cs(e){return function(t,n,r){var i=-1,o=nt(t),s=r(t),a=s.length;while(a--){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function fs(e,t,n){var r=t&m,i=ps(e);function o(){var t=this&&this!==an&&this instanceof o?i:e;return t.apply(r?n:this,arguments)}return o}function ls(e){return function(t){t=Xf(t);var n=ir(t)?yr(t):o,r=n?n[0]:t.charAt(0),i=n?$o(n,1).join(""):t.slice(1);return r[e]()+i}}function hs(e){return function(t){return Cn(bh(Gl(t).replace(Vt,"")),e,"")}}function ps(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Er(e.prototype),r=e.apply(n,t);return Of(r)?r:n}}function ds(e,t,r){var i=ps(e);function s(){var a=arguments.length,u=n(a),c=a,f=qs(s);while(c--)u[c]=arguments[c];var l=a<3&&u[0]!==f&&u[a-1]!==f?[]:cr(u,f);if(a-=l.length,a<r)return Ts(e,t,gs,s.placeholder,o,u,l,o,o,r-a);var h=this&&this!==an&&this instanceof s?i:e;return _n(h,this,u)}return s}function ys(e){return function(t,n,r){var i=nt(t);if(!cf(t)){var s=Vs(n,3);t=wl(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function vs(e){return Ms((function(t){var n=t.length,r=n,i=Sr.prototype.thru;e&&t.reverse();while(r--){var s=t[r];if("function"!=typeof s)throw new ot(c);if(i&&!a&&"wrapper"==Fs(s))var a=new Sr([],!0)}r=a?r:n;while(++r<n){s=t[r];var u=Fs(s),f="wrapper"==u?Us(s):o;a=f&&ua(f[0])&&f[1]==(T|w|O|A)&&!f[4].length&&1==f[9]?a[Fs(f[0])].apply(a,f[3]):1==s.length&&ua(s)?a[u]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&af(r))return a.plant(r).value();var i=0,o=n?t[i].apply(this,e):r;while(++i<n)o=t[i].call(this,o);return o}}))}function gs(e,t,r,i,s,a,u,c,f,l){var h=t&T,p=t&m,d=t&_,y=t&(w|E),v=t&I,g=d?o:ps(e);function b(){var o=arguments.length,m=n(o),_=o;while(_--)m[_]=arguments[_];if(y)var w=qs(b),E=Zn(m,w);if(i&&(m=es(m,i,s,y)),a&&(m=ts(m,a,u,y)),o-=E,y&&o<l){var O=cr(m,w);return Ts(e,t,gs,b.placeholder,r,m,O,c,f,l-o)}var S=p?r:this,T=d?S[e]:e;return o=m.length,c?m=ba(m,c):v&&o>1&&m.reverse(),h&&f<o&&(m.length=f),this&&this!==an&&this instanceof b&&(T=g||ps(T)),T.apply(S,m)}return b}function ms(e,t){return function(n,r){return Fi(n,e,t(r),{})}}function _s(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Po(n),r=Po(r)):(n=Ro(n),r=Ro(r)),i=e(n,r)}return i}}function bs(e){return Ms((function(t){return t=In(t,Hn(Vs())),_o((function(n){var r=this;return e(t,(function(e){return _n(e,r,n)}))}))}))}function ws(e,t){t=t===o?" ":Po(t);var n=t.length;if(n<2)return n?mo(t,e):t;var r=mo(t,jt(e/dr(t)));return ir(t)?$o(yr(r),0,e).join(""):r.slice(0,e)}function Es(e,t,r,i){var o=t&m,s=ps(e);function a(){var t=-1,u=arguments.length,c=-1,f=i.length,l=n(f+u),h=this&&this!==an&&this instanceof a?s:e;while(++c<f)l[c]=i[c];while(u--)l[c++]=arguments[++t];return _n(h,o?r:this,l)}return a}function Os(e){return function(t,n,r){return r&&"number"!=typeof r&&oa(t,n,r)&&(n=r=o),t=zf(t),n===o?(n=t,t=0):n=zf(n),r=r===o?t<n?1:-1:zf(r),go(t,n,r,e)}}function Ss(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Kf(t),n=Kf(n)),e(t,n)}}function Ts(e,t,n,r,i,s,a,u,c,f){var l=t&w,h=l?a:o,p=l?o:a,d=l?s:o,y=l?o:s;t|=l?O:S,t&=~(l?S:O),t&b||(t&=~(m|_));var v=[e,t,i,d,h,y,p,u,c,f],g=n.apply(o,v);return ua(e)&&Ea(g,v),g.placeholder=r,Ta(g,e,t)}function As(e){var t=tt[e];return function(e,n){if(e=Kf(e),n=null==n?0:qt(Gf(n),292),n&&Dt(e)){var r=(Xf(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(Xf(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var Is=tn&&1/fr(new tn([,-0]))[1]==L?function(e){return new tn(e)}:Dh;function Ns(e){return function(t){var n=Ks(t);return n==X?ar(t):n==oe?lr(t):Gn(t,e(t))}}function Cs(e,t,n,r,i,s,a,u){var f=t&_;if(!f&&"function"!=typeof e)throw new ot(c);var l=r?r.length:0;if(l||(t&=~(O|S),r=i=o),a=a===o?a:Ft(Gf(a),0),u=u===o?u:Gf(u),l-=i?i.length:0,t&S){var h=r,p=i;r=i=o}var d=f?o:Us(e),y=[e,t,n,r,i,h,p,s,a,u];if(d&&ya(y,d),e=y[0],t=y[1],n=y[2],r=y[3],i=y[4],u=y[9]=y[9]===o?f?0:e.length:Ft(y[9]-l,0),!u&&t&(w|E)&&(t&=~(w|E)),t&&t!=m)v=t==w||t==E?ds(e,t,u):t!=O&&t!=(m|O)||i.length?gs.apply(o,y):Es(e,t,n,r);else var v=fs(e,t,n);var g=d?Oo:Ea;return Ta(g(v,y),e,t)}function xs(e,t,n,r){return e===o||nf(e,ut[n])&&!lt.call(r,n)?t:e}function Rs(e,t,n,r,i,s){return Of(e)&&Of(t)&&(s.set(t,e),so(e,t,o,Rs,s),s["delete"](t)),e}function Ps(e){return jf(e)?o:e}function js(e,t,n,r,i,s){var a=n&v,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var f=s.get(e),l=s.get(t);if(f&&l)return f==t&&l==e;var h=-1,p=!0,d=n&g?new Gr:o;s.set(e,t),s.set(t,e);while(++h<u){var y=e[h],m=t[h];if(r)var _=a?r(m,y,h,t,e,s):r(y,m,h,e,t,s);if(_!==o){if(_)continue;p=!1;break}if(d){if(!Rn(t,(function(e,t){if(!Jn(d,t)&&(y===e||i(y,e,n,r,s)))return d.push(t)}))){p=!1;break}}else if(y!==m&&!i(y,m,n,r,s)){p=!1;break}}return s["delete"](e),s["delete"](t),p}function ks(e,t,n,r,i,o,s){switch(n){case he:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case le:return!(e.byteLength!=t.byteLength||!o(new bt(e),new bt(t)));case z:case G:case Z:return nf(+e,+t);case K:return e.name==t.name&&e.message==t.message;case ie:case se:return e==t+"";case X:var a=ar;case oe:var u=r&v;if(a||(a=fr),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=g,s.set(e,t);var f=js(a(e),a(t),r,i,o,s);return s["delete"](e),f;case ae:if(gr)return gr.call(e)==gr.call(t)}return!1}function Ls(e,t,n,r,i,s){var a=n&v,u=Ds(e),c=u.length,f=Ds(t),l=f.length;if(c!=l&&!a)return!1;var h=c;while(h--){var p=u[h];if(!(a?p in t:lt.call(t,p)))return!1}var d=s.get(e),y=s.get(t);if(d&&y)return d==t&&y==e;var g=!0;s.set(e,t),s.set(t,e);var m=a;while(++h<c){p=u[h];var _=e[p],b=t[p];if(r)var w=a?r(b,_,p,t,e,s):r(_,b,p,e,t,s);if(!(w===o?_===b||i(_,b,n,r,s):w)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var E=e.constructor,O=t.constructor;E==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof O&&O instanceof O||(g=!1)}return s["delete"](e),s["delete"](t),g}function Ms(e){return Sa(ma(e,o,za),e+"")}function Ds(e){return ji(e,wl,Gs)}function Bs(e){return ji(e,El,Hs)}var Us=un?function(e){return un.get(e)}:Dh;function Fs(e){var t=e.name+"",n=cn[t],r=lt.call(cn,t)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function qs(e){var t=lt.call(br,"placeholder")?br:e;return t.placeholder}function Vs(){var e=br.iteratee||xh;return e=e===xh?Zi:e,arguments.length?e(arguments[0],arguments[1]):e}function Ys(e,t){var n=e.__data__;return aa(t)?n["string"==typeof t?"string":"hash"]:n.map}function $s(e){var t=wl(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,ha(i)]}return t}function Ws(e,t){var n=rr(e,t);return Ki(n)?n:o}function zs(e){var t=lt.call(e,Nt),n=e[Nt];try{e[Nt]=o;var r=!0}catch(s){}var i=dt.call(e);return r&&(t?e[Nt]=n:delete e[Nt]),i}var Gs=Lt?function(e){return null==e?[]:(e=nt(e),Sn(Lt(e),(function(t){return St.call(e,t)})))}:zh,Hs=Lt?function(e){var t=[];while(e)Nn(t,Gs(e)),e=Et(e);return t}:zh,Ks=ki;function Js(e,t,n){var r=-1,i=n.length;while(++r<i){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=qt(t,e+s);break;case"takeRight":e=Ft(e,t-s);break}}return{start:e,end:t}}function Qs(e){var t=e.match(qe);return t?t[1].split(Ve):[]}function Xs(e,t,n){t=Vo(t,e);var r=-1,i=t.length,o=!1;while(++r<i){var s=Ca(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&Ef(i)&&ia(s,i)&&(af(e)||sf(e)))}function Zs(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&lt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ea(e){return"function"!=typeof e.constructor||la(e)?{}:Er(Et(e))}function ta(e,t,n){var r=e.constructor;switch(t){case le:return Go(e);case z:case G:return new r(+e);case he:return Ho(e,n);case pe:case de:case ye:case ve:case ge:case me:case _e:case be:case we:return Qo(e,n);case X:return new r;case Z:case se:return new r(e);case ie:return Ko(e);case oe:return new r;case ae:return Jo(e)}}function na(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}function ra(e){return af(e)||sf(e)||!!(At&&e&&e[At])}function ia(e,t){var n=typeof e;return t=null==t?M:t,!!t&&("number"==n||"symbol"!=n&&Qe.test(e))&&e>-1&&e%1==0&&e<t}function oa(e,t,n){if(!Of(n))return!1;var r=typeof t;return!!("number"==r?cf(n)&&ia(t,n.length):"string"==r&&t in n)&&nf(n[t],e)}function sa(e,t){if(af(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bf(e))||(je.test(e)||!Pe.test(e)||null!=t&&e in nt(t))}function aa(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ua(e){var t=Fs(e),n=br[t];if("function"!=typeof n||!(t in Tr.prototype))return!1;if(e===n)return!0;var r=Us(n);return!!r&&e===r[0]}function ca(e){return!!pt&&pt in e}(Xt&&Ks(new Xt(new ArrayBuffer(1)))!=he||Zt&&Ks(new Zt)!=X||en&&Ks(en.resolve())!=ne||tn&&Ks(new tn)!=oe||on&&Ks(new on)!=ce)&&(Ks=function(e){var t=ki(e),n=t==te?e.constructor:o,r=n?xa(n):"";if(r)switch(r){case ln:return he;case hn:return X;case Pn:return ne;case jn:return oe;case Vn:return ce}return t});var fa=ct?bf:Gh;function la(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ut;return e===n}function ha(e){return e===e&&!Of(e)}function pa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in nt(n)))}}function da(e){var t=Bc(e,(function(e){return n.size===l&&n.clear(),e})),n=t.cache;return t}function ya(e,t){var n=e[1],r=t[1],i=n|r,o=i<(m|_|T),s=r==T&&n==w||r==T&&n==A&&e[7].length<=t[8]||r==(T|A)&&t[7].length<=t[8]&&n==w;if(!o&&!s)return e;r&m&&(e[2]=t[2],i|=n&m?0:b);var a=t[3];if(a){var u=e[3];e[3]=u?es(u,a,t[4]):a,e[4]=u?cr(e[3],h):t[4]}return a=t[5],a&&(u=e[5],e[5]=u?ts(u,a,t[6]):a,e[6]=u?cr(e[5],h):t[6]),a=t[7],a&&(e[7]=a),r&T&&(e[8]=null==e[8]?t[8]:qt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function va(e){var t=[];if(null!=e)for(var n in nt(e))t.push(n);return t}function ga(e){return dt.call(e)}function ma(e,t,r){return t=Ft(t===o?e.length-1:t,0),function(){var i=arguments,o=-1,s=Ft(i.length-t,0),a=n(s);while(++o<s)a[o]=i[t+o];o=-1;var u=n(t+1);while(++o<t)u[o]=i[o];return u[t]=r(a),_n(e,this,u)}}function _a(e,t){return t.length<2?e:Pi(e,Ao(t,0,-1))}function ba(e,t){var n=e.length,r=qt(t.length,n),i=ns(e);while(r--){var s=t[r];e[r]=ia(s,n)?i[s]:o}return e}function wa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ea=Aa(Oo),Oa=Pt||function(e,t){return an.setTimeout(e,t)},Sa=Aa(So);function Ta(e,t,n){var r=t+"";return Sa(e,na(r,Ra(Qs(r),n)))}function Aa(e){var t=0,n=0;return function(){var r=$t(),i=R-(r-n);if(n=r,i>0){if(++t>=x)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ia(e,t){var n=-1,r=e.length,i=r-1;t=t===o?r:t;while(++n<t){var s=vo(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Na=da((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ke,(function(e,n,r,i){t.push(r?i.replace($e,"$1"):n||e)})),t}));function Ca(e){if("string"==typeof e||Bf(e))return e;var t=e+"";return"0"==t&&1/e==-L?"-0":t}function xa(e){if(null!=e){try{return ft.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ra(e,t){return wn(V,(function(n){var r="_."+n[0];t&n[1]&&!Tn(e,r)&&e.push(r)})),e.sort()}function Pa(e){if(e instanceof Tr)return e.clone();var t=new Sr(e.__wrapped__,e.__chain__);return t.__actions__=ns(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ja(e,t,r){t=(r?oa(e,t,r):t===o)?1:Ft(Gf(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];var s=0,a=0,u=n(jt(i/t));while(s<i)u[a++]=Ao(e,s,s+=t);return u}function ka(e){var t=-1,n=null==e?0:e.length,r=0,i=[];while(++t<n){var o=e[t];o&&(i[r++]=o)}return i}function La(){var e=arguments.length;if(!e)return[];var t=n(e-1),r=arguments[0],i=e;while(i--)t[i-1]=arguments[i];return Nn(af(r)?ns(r):[r],Ai(t,1))}var Ma=_o((function(e,t){return ff(e)?_i(e,Ai(t,1,ff,!0)):[]})),Da=_o((function(e,t){var n=ru(t);return ff(n)&&(n=o),ff(e)?_i(e,Ai(t,1,ff,!0),Vs(n,2)):[]})),Ba=_o((function(e,t){var n=ru(t);return ff(n)&&(n=o),ff(e)?_i(e,Ai(t,1,ff,!0),o,n):[]}));function Ua(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:Gf(t),Ao(e,t<0?0:t,r)):[]}function Fa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:Gf(t),t=r-t,Ao(e,0,t<0?0:t)):[]}function qa(e,t){return e&&e.length?Mo(e,Vs(t,3),!0,!0):[]}function Va(e,t){return e&&e.length?Mo(e,Vs(t,3),!0):[]}function Ya(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&oa(e,t,n)&&(n=0,r=i),Si(e,t,n,r)):[]}function $a(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gf(n);return i<0&&(i=Ft(r+i,0)),Mn(e,Vs(t,3),i)}function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Gf(n),i=n<0?Ft(r+i,0):qt(i,r-1)),Mn(e,Vs(t,3),i,!0)}function za(e){var t=null==e?0:e.length;return t?Ai(e,1):[]}function Ga(e){var t=null==e?0:e.length;return t?Ai(e,L):[]}function Ha(e,t){var n=null==e?0:e.length;return n?(t=t===o?1:Gf(t),Ai(e,t)):[]}function Ka(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var i=e[t];r[i[0]]=i[1]}return r}function Ja(e){return e&&e.length?e[0]:o}function Qa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gf(n);return i<0&&(i=Ft(r+i,0)),Dn(e,t,i)}function Xa(e){var t=null==e?0:e.length;return t?Ao(e,0,-1):[]}var Za=_o((function(e){var t=In(e,Fo);return t.length&&t[0]===e[0]?Ui(t):[]})),eu=_o((function(e){var t=ru(e),n=In(e,Fo);return t===ru(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Ui(n,Vs(t,2)):[]})),tu=_o((function(e){var t=ru(e),n=In(e,Fo);return t="function"==typeof t?t:o,t&&n.pop(),n.length&&n[0]===e[0]?Ui(n,o,t):[]}));function nu(e,t){return null==e?"":Bt.call(e,t)}function ru(e){var t=null==e?0:e.length;return t?e[t-1]:o}function iu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=Gf(n),i=i<0?Ft(r+i,0):qt(i,r-1)),t===t?pr(e,t,i):Mn(e,Un,i,!0)}function ou(e,t){return e&&e.length?uo(e,Gf(t)):o}var su=_o(au);function au(e,t){return e&&e.length&&t&&t.length?po(e,t):e}function uu(e,t,n){return e&&e.length&&t&&t.length?po(e,t,Vs(n,2)):e}function cu(e,t,n){return e&&e.length&&t&&t.length?po(e,t,o,n):e}var fu=Ms((function(e,t){var n=null==e?0:e.length,r=pi(e,t);return yo(e,In(t,(function(e){return ia(e,n)?+e:e})).sort(Xo)),r}));function lu(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;t=Vs(t,3);while(++r<o){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return yo(e,i),n}function hu(e){return null==e?e:Gt.call(e)}function pu(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&oa(e,t,n)?(t=0,n=r):(t=null==t?0:Gf(t),n=n===o?r:Gf(n)),Ao(e,t,n)):[]}function du(e,t){return No(e,t)}function yu(e,t,n){return Co(e,t,Vs(n,2))}function vu(e,t){var n=null==e?0:e.length;if(n){var r=No(e,t);if(r<n&&nf(e[r],t))return r}return-1}function gu(e,t){return No(e,t,!0)}function mu(e,t,n){return Co(e,t,Vs(n,2),!0)}function _u(e,t){var n=null==e?0:e.length;if(n){var r=No(e,t,!0)-1;if(nf(e[r],t))return r}return-1}function bu(e){return e&&e.length?xo(e):[]}function wu(e,t){return e&&e.length?xo(e,Vs(t,2)):[]}function Eu(e){var t=null==e?0:e.length;return t?Ao(e,1,t):[]}function Ou(e,t,n){return e&&e.length?(t=n||t===o?1:Gf(t),Ao(e,0,t<0?0:t)):[]}function Su(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:Gf(t),t=r-t,Ao(e,t<0?0:t,r)):[]}function Tu(e,t){return e&&e.length?Mo(e,Vs(t,3),!1,!0):[]}function Au(e,t){return e&&e.length?Mo(e,Vs(t,3)):[]}var Iu=_o((function(e){return jo(Ai(e,1,ff,!0))})),Nu=_o((function(e){var t=ru(e);return ff(t)&&(t=o),jo(Ai(e,1,ff,!0),Vs(t,2))})),Cu=_o((function(e){var t=ru(e);return t="function"==typeof t?t:o,jo(Ai(e,1,ff,!0),o,t)}));function xu(e){return e&&e.length?jo(e):[]}function Ru(e,t){return e&&e.length?jo(e,Vs(t,2)):[]}function Pu(e,t){return t="function"==typeof t?t:o,e&&e.length?jo(e,o,t):[]}function ju(e){if(!e||!e.length)return[];var t=0;return e=Sn(e,(function(e){if(ff(e))return t=Ft(e.length,t),!0})),zn(t,(function(t){return In(e,qn(t))}))}function ku(e,t){if(!e||!e.length)return[];var n=ju(e);return null==t?n:In(n,(function(e){return _n(t,o,e)}))}var Lu=_o((function(e,t){return ff(e)?_i(e,t):[]})),Mu=_o((function(e){return Bo(Sn(e,ff))})),Du=_o((function(e){var t=ru(e);return ff(t)&&(t=o),Bo(Sn(e,ff),Vs(t,2))})),Bu=_o((function(e){var t=ru(e);return t="function"==typeof t?t:o,Bo(Sn(e,ff),o,t)})),Uu=_o(ju);function Fu(e,t){return Uo(e||[],t||[],ai)}function qu(e,t){return Uo(e||[],t||[],Eo)}var Vu=_o((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ku(e,n)}));function Yu(e){var t=br(e);return t.__chain__=!0,t}function $u(e,t){return t(e),e}function Wu(e,t){return t(e)}var zu=Ms((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return pi(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Tr&&ia(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Wu,args:[i],thisArg:o}),new Sr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));function Gu(){return Yu(this)}function Hu(){return new Sr(this.value(),this.__chain__)}function Ku(){this.__values__===o&&(this.__values__=Wf(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Ju(){return this}function Qu(e){var t,n=this;while(n instanceof Or){var r=Pa(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Xu(){var e=this.__wrapped__;if(e instanceof Tr){var t=e;return this.__actions__.length&&(t=new Tr(this)),t=t.reverse(),t.__actions__.push({func:Wu,args:[hu],thisArg:o}),new Sr(t,this.__chain__)}return this.thru(hu)}function Zu(){return Do(this.__wrapped__,this.__actions__)}var ec=ss((function(e,t,n){lt.call(e,n)?++e[n]:hi(e,n,1)}));function tc(e,t,n){var r=af(e)?On:Ei;return n&&oa(e,t,n)&&(t=o),r(e,Vs(t,3))}function nc(e,t){var n=af(e)?Sn:Ti;return n(e,Vs(t,3))}var rc=ys($a),ic=ys(Wa);function oc(e,t){return Ai(dc(e,t),1)}function sc(e,t){return Ai(dc(e,t),L)}function ac(e,t,n){return n=n===o?1:Gf(n),Ai(dc(e,t),n)}function uc(e,t){var n=af(e)?wn:bi;return n(e,Vs(t,3))}function cc(e,t){var n=af(e)?En:wi;return n(e,Vs(t,3))}var fc=ss((function(e,t,n){lt.call(e,n)?e[n].push(t):hi(e,n,[t])}));function lc(e,t,n,r){e=cf(e)?e:Fl(e),n=n&&!r?Gf(n):0;var i=e.length;return n<0&&(n=Ft(i+n,0)),Df(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Dn(e,t,n)>-1}var hc=_o((function(e,t,r){var i=-1,o="function"==typeof t,s=cf(e)?n(e.length):[];return bi(e,(function(e){s[++i]=o?_n(t,e,r):qi(e,t,r)})),s})),pc=ss((function(e,t,n){hi(e,n,t)}));function dc(e,t){var n=af(e)?In:ro;return n(e,Vs(t,3))}function yc(e,t,n,r){return null==e?[]:(af(t)||(t=null==t?[]:[t]),n=r?o:n,af(n)||(n=null==n?[]:[n]),co(e,t,n))}var vc=ss((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));function gc(e,t,n){var r=af(e)?Cn:Yn,i=arguments.length<3;return r(e,Vs(t,4),n,i,bi)}function mc(e,t,n){var r=af(e)?xn:Yn,i=arguments.length<3;return r(e,Vs(t,4),n,i,wi)}function _c(e,t){var n=af(e)?Sn:Ti;return n(e,Uc(Vs(t,3)))}function bc(e){var t=af(e)?ri:bo;return t(e)}function wc(e,t,n){t=(n?oa(e,t,n):t===o)?1:Gf(t);var r=af(e)?ii:wo;return r(e,t)}function Ec(e){var t=af(e)?oi:To;return t(e)}function Oc(e){if(null==e)return 0;if(cf(e))return Df(e)?dr(e):e.length;var t=Ks(e);return t==X||t==oe?e.size:eo(e).length}function Sc(e,t,n){var r=af(e)?Rn:Io;return n&&oa(e,t,n)&&(t=o),r(e,Vs(t,3))}var Tc=_o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&oa(e,t[0],t[1])?t=[]:n>2&&oa(t[0],t[1],t[2])&&(t=[t[0]]),co(e,Ai(t,1),[])})),Ac=Rt||function(){return an.Date.now()};function Ic(e,t){if("function"!=typeof t)throw new ot(c);return e=Gf(e),function(){if(--e<1)return t.apply(this,arguments)}}function Nc(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Cs(e,T,o,o,o,o,t)}function Cc(e,t){var n;if("function"!=typeof t)throw new ot(c);return e=Gf(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var xc=_o((function(e,t,n){var r=m;if(n.length){var i=cr(n,qs(xc));r|=O}return Cs(e,r,t,n,i)})),Rc=_o((function(e,t,n){var r=m|_;if(n.length){var i=cr(n,qs(Rc));r|=O}return Cs(t,r,e,n,i)}));function Pc(e,t,n){t=n?o:t;var r=Cs(e,w,o,o,o,o,o,t);return r.placeholder=Pc.placeholder,r}function jc(e,t,n){t=n?o:t;var r=Cs(e,E,o,o,o,o,o,t);return r.placeholder=jc.placeholder,r}function kc(e,t,n){var r,i,s,a,u,f,l=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new ot(c);function y(t){var n=r,s=i;return r=i=o,l=t,a=e.apply(s,n),a}function v(e){return l=e,u=Oa(_,t),h?y(e):a}function g(e){var n=e-f,r=e-l,i=t-n;return p?qt(i,s-r):i}function m(e){var n=e-f,r=e-l;return f===o||n>=t||n<0||p&&r>=s}function _(){var e=Ac();if(m(e))return b(e);u=Oa(_,g(e))}function b(e){return u=o,d&&r?y(e):(r=i=o,a)}function w(){u!==o&&Wo(u),l=0,r=f=i=u=o}function E(){return u===o?a:b(Ac())}function O(){var e=Ac(),n=m(e);if(r=arguments,i=this,f=e,n){if(u===o)return v(f);if(p)return Wo(u),u=Oa(_,t),y(f)}return u===o&&(u=Oa(_,t)),a}return t=Kf(t)||0,Of(n)&&(h=!!n.leading,p="maxWait"in n,s=p?Ft(Kf(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),O.cancel=w,O.flush=E,O}var Lc=_o((function(e,t){return mi(e,1,t)})),Mc=_o((function(e,t,n){return mi(e,Kf(t)||0,n)}));function Dc(e){return Cs(e,I)}function Bc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(c);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Bc.Cache||qr),n}function Uc(e){if("function"!=typeof e)throw new ot(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Fc(e){return Cc(2,e)}Bc.Cache=qr;var qc=Yo((function(e,t){t=1==t.length&&af(t[0])?In(t[0],Hn(Vs())):In(Ai(t,1),Hn(Vs()));var n=t.length;return _o((function(r){var i=-1,o=qt(r.length,n);while(++i<o)r[i]=t[i].call(this,r[i]);return _n(e,this,r)}))})),Vc=_o((function(e,t){var n=cr(t,qs(Vc));return Cs(e,O,o,t,n)})),Yc=_o((function(e,t){var n=cr(t,qs(Yc));return Cs(e,S,o,t,n)})),$c=Ms((function(e,t){return Cs(e,A,o,o,o,t)}));function Wc(e,t){if("function"!=typeof e)throw new ot(c);return t=t===o?t:Gf(t),_o(e,t)}function zc(e,t){if("function"!=typeof e)throw new ot(c);return t=null==t?0:Ft(Gf(t),0),_o((function(n){var r=n[t],i=$o(n,0,t);return r&&Nn(i,r),_n(e,this,i)}))}function Gc(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ot(c);return Of(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),kc(e,t,{leading:r,maxWait:t,trailing:i})}function Hc(e){return Nc(e,1)}function Kc(e,t){return Vc(qo(t),e)}function Jc(){if(!arguments.length)return[];var e=arguments[0];return af(e)?e:[e]}function Qc(e){return yi(e,y)}function Xc(e,t){return t="function"==typeof t?t:o,yi(e,y,t)}function Zc(e){return yi(e,p|y)}function ef(e,t){return t="function"==typeof t?t:o,yi(e,p|y,t)}function tf(e,t){return null==t||gi(e,t,wl(t))}function nf(e,t){return e===t||e!==e&&t!==t}var rf=Ss(Li),of=Ss((function(e,t){return e>=t})),sf=Vi(function(){return arguments}())?Vi:function(e){return Sf(e)&&lt.call(e,"callee")&&!St.call(e,"callee")},af=n.isArray,uf=pn?Hn(pn):Yi;function cf(e){return null!=e&&Ef(e.length)&&!bf(e)}function ff(e){return Sf(e)&&cf(e)}function lf(e){return!0===e||!1===e||Sf(e)&&ki(e)==z}var hf=Mt||Gh,pf=dn?Hn(dn):$i;function df(e){return Sf(e)&&1===e.nodeType&&!jf(e)}function yf(e){if(null==e)return!0;if(cf(e)&&(af(e)||"string"==typeof e||"function"==typeof e.splice||hf(e)||Uf(e)||sf(e)))return!e.length;var t=Ks(e);if(t==X||t==oe)return!e.size;if(la(e))return!eo(e).length;for(var n in e)if(lt.call(e,n))return!1;return!0}function vf(e,t){return Wi(e,t)}function gf(e,t,n){n="function"==typeof n?n:o;var r=n?n(e,t):o;return r===o?Wi(e,t,o,n):!!r}function mf(e){if(!Sf(e))return!1;var t=ki(e);return t==K||t==H||"string"==typeof e.message&&"string"==typeof e.name&&!jf(e)}function _f(e){return"number"==typeof e&&Dt(e)}function bf(e){if(!Of(e))return!1;var t=ki(e);return t==J||t==Q||t==W||t==re}function wf(e){return"number"==typeof e&&e==Gf(e)}function Ef(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function Of(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Sf(e){return null!=e&&"object"==typeof e}var Tf=yn?Hn(yn):Gi;function Af(e,t){return e===t||Hi(e,t,$s(t))}function If(e,t,n){return n="function"==typeof n?n:o,Hi(e,t,$s(t),n)}function Nf(e){return Pf(e)&&e!=+e}function Cf(e){if(fa(e))throw new i(u);return Ki(e)}function xf(e){return null===e}function Rf(e){return null==e}function Pf(e){return"number"==typeof e||Sf(e)&&ki(e)==Z}function jf(e){if(!Sf(e)||ki(e)!=te)return!1;var t=Et(e);if(null===t)return!0;var n=lt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ft.call(n)==yt}var kf=vn?Hn(vn):Ji;function Lf(e){return wf(e)&&e>=-M&&e<=M}var Mf=gn?Hn(gn):Qi;function Df(e){return"string"==typeof e||!af(e)&&Sf(e)&&ki(e)==se}function Bf(e){return"symbol"==typeof e||Sf(e)&&ki(e)==ae}var Uf=mn?Hn(mn):Xi;function Ff(e){return e===o}function qf(e){return Sf(e)&&Ks(e)==ce}function Vf(e){return Sf(e)&&ki(e)==fe}var Yf=Ss(no),$f=Ss((function(e,t){return e<=t}));function Wf(e){if(!e)return[];if(cf(e))return Df(e)?yr(e):ns(e);if(It&&e[It])return sr(e[It]());var t=Ks(e),n=t==X?ar:t==oe?fr:Fl;return n(e)}function zf(e){if(!e)return 0===e?e:0;if(e=Kf(e),e===L||e===-L){var t=e<0?-1:1;return t*D}return e===e?e:0}function Gf(e){var t=zf(e),n=t%1;return t===t?n?t-n:t:0}function Hf(e){return e?di(Gf(e),0,U):0}function Kf(e){if("number"==typeof e)return e;if(Bf(e))return B;if(Of(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Of(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(De,"");var n=He.test(e);return n||Je.test(e)?rn(e.slice(2),n?2:8):Ge.test(e)?B:+e}function Jf(e){return rs(e,El(e))}function Qf(e){return e?di(Gf(e),-M,M):0===e?e:0}function Xf(e){return null==e?"":Po(e)}var Zf=as((function(e,t){if(la(t)||cf(t))rs(t,wl(t),e);else for(var n in t)lt.call(t,n)&&ai(e,n,t[n])})),el=as((function(e,t){rs(t,El(t),e)})),tl=as((function(e,t,n,r){rs(t,El(t),e,r)})),nl=as((function(e,t,n,r){rs(t,wl(t),e,r)})),rl=Ms(pi);function il(e,t){var n=Er(e);return null==t?n:fi(n,t)}var ol=_o((function(e,t){e=nt(e);var n=-1,r=t.length,i=r>2?t[2]:o;i&&oa(t[0],t[1],i)&&(r=1);while(++n<r){var s=t[n],a=El(s),u=-1,c=a.length;while(++u<c){var f=a[u],l=e[f];(l===o||nf(l,ut[f])&&!lt.call(e,f))&&(e[f]=s[f])}}return e})),sl=_o((function(e){return e.push(o,Rs),_n(Al,o,e)}));function al(e,t){return Ln(e,Vs(t,3),Ci)}function ul(e,t){return Ln(e,Vs(t,3),xi)}function cl(e,t){return null==e?e:Ii(e,Vs(t,3),El)}function fl(e,t){return null==e?e:Ni(e,Vs(t,3),El)}function ll(e,t){return e&&Ci(e,Vs(t,3))}function hl(e,t){return e&&xi(e,Vs(t,3))}function pl(e){return null==e?[]:Ri(e,wl(e))}function dl(e){return null==e?[]:Ri(e,El(e))}function yl(e,t,n){var r=null==e?o:Pi(e,t);return r===o?n:r}function vl(e,t){return null!=e&&Xs(e,t,Mi)}function gl(e,t){return null!=e&&Xs(e,t,Di)}var ml=ms((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=n}),Th(Ch)),_l=ms((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),lt.call(e,t)?e[t].push(n):e[t]=[n]}),Vs),bl=_o(qi);function wl(e){return cf(e)?ni(e):eo(e)}function El(e){return cf(e)?ni(e,!0):to(e)}function Ol(e,t){var n={};return t=Vs(t,3),Ci(e,(function(e,r,i){hi(n,t(e,r,i),e)})),n}function Sl(e,t){var n={};return t=Vs(t,3),Ci(e,(function(e,r,i){hi(n,r,t(e,r,i))})),n}var Tl=as((function(e,t,n){so(e,t,n)})),Al=as((function(e,t,n,r){so(e,t,n,r)})),Il=Ms((function(e,t){var n={};if(null==e)return n;var r=!1;t=In(t,(function(t){return t=Vo(t,e),r||(r=t.length>1),t})),rs(e,Bs(e),n),r&&(n=yi(n,p|d|y,Ps));var i=t.length;while(i--)ko(n,t[i]);return n}));function Nl(e,t){return xl(e,Uc(Vs(t)))}var Cl=Ms((function(e,t){return null==e?{}:fo(e,t)}));function xl(e,t){if(null==e)return{};var n=In(Bs(e),(function(e){return[e]}));return t=Vs(t),lo(e,n,(function(e,n){return t(e,n[0])}))}function Rl(e,t,n){t=Vo(t,e);var r=-1,i=t.length;i||(i=1,e=o);while(++r<i){var s=null==e?o:e[Ca(t[r])];s===o&&(r=i,s=n),e=bf(s)?s.call(e):s}return e}function Pl(e,t,n){return null==e?e:Eo(e,t,n)}function jl(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Eo(e,t,n,r)}var kl=Ns(wl),Ll=Ns(El);function Ml(e,t,n){var r=af(e),i=r||hf(e)||Uf(e);if(t=Vs(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Of(e)&&bf(o)?Er(Et(e)):{}}return(i?wn:Ci)(e,(function(e,r,i){return t(n,e,r,i)})),n}function Dl(e,t){return null==e||ko(e,t)}function Bl(e,t,n){return null==e?e:Lo(e,t,qo(n))}function Ul(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Lo(e,t,qo(n),r)}function Fl(e){return null==e?[]:Kn(e,wl(e))}function ql(e){return null==e?[]:Kn(e,El(e))}function Vl(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=Kf(n),n=n===n?n:0),t!==o&&(t=Kf(t),t=t===t?t:0),di(Kf(e),t,n)}function Yl(e,t,n){return t=zf(t),n===o?(n=t,t=0):n=zf(n),e=Kf(e),Bi(e,t,n)}function $l(e,t,n){if(n&&"boolean"!=typeof n&&oa(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=zf(e),t===o?(t=e,e=0):t=zf(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=zt();return qt(e+i*(t-e+nn("1e-"+((i+"").length-1))),t)}return vo(e,t)}var Wl=hs((function(e,t,n){return t=t.toLowerCase(),e+(n?zl(t):t)}));function zl(e){return _h(Xf(e).toLowerCase())}function Gl(e){return e=Xf(e),e&&e.replace(Xe,er).replace(Yt,"")}function Hl(e,t,n){e=Xf(e),t=Po(t);var r=e.length;n=n===o?r:di(Gf(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Kl(e){return e=Xf(e),e&&Ne.test(e)?e.replace(Ae,tr):e}function Jl(e){return e=Xf(e),e&&Me.test(e)?e.replace(Le,"\\$&"):e}var Ql=hs((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xl=hs((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Zl=ls("toLowerCase");function eh(e,t,n){e=Xf(e),t=Gf(t);var r=t?dr(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return ws(kt(i),n)+e+ws(jt(i),n)}function th(e,t,n){e=Xf(e),t=Gf(t);var r=t?dr(e):0;return t&&r<t?e+ws(t-r,n):e}function nh(e,t,n){e=Xf(e),t=Gf(t);var r=t?dr(e):0;return t&&r<t?ws(t-r,n)+e:e}function rh(e,t,n){return n||null==t?t=0:t&&(t=+t),Wt(Xf(e).replace(Be,""),t||0)}function ih(e,t,n){return t=(n?oa(e,t,n):t===o)?1:Gf(t),mo(Xf(e),t)}function oh(){var e=arguments,t=Xf(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var sh=hs((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function ah(e,t,n){return n&&"number"!=typeof n&&oa(e,t,n)&&(t=n=o),n=n===o?U:n>>>0,n?(e=Xf(e),e&&("string"==typeof t||null!=t&&!kf(t))&&(t=Po(t),!t&&ir(e))?$o(yr(e),0,n):e.split(t,n)):[]}var uh=hs((function(e,t,n){return e+(n?" ":"")+_h(t)}));function ch(e,t,n){return e=Xf(e),n=null==n?0:di(Gf(n),0,e.length),t=Po(t),e.slice(n,n+t.length)==t}function fh(e,t,n){var r=br.templateSettings;n&&oa(e,t,n)&&(t=o),e=Xf(e),t=tl({},t,r,xs);var i,s,a=tl({},t.imports,r.imports,xs),u=wl(a),c=Kn(a,u),f=0,l=t.interpolate||Ze,h="__p += '",p=rt((t.escape||Ze).source+"|"+l.source+"|"+(l===Re?We:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),d="//# sourceURL="+(lt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kt+"]")+"\n";e.replace(p,(function(t,n,r,o,a,u){return r||(r=o),h+=e.slice(f,u).replace(et,nr),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),h+="';\n";var y=lt.call(t,"variable")&&t.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(Ee,""):h).replace(Oe,"$1").replace(Se,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=wh((function(){return Ye(u,d+"return "+h).apply(o,c)}));if(v.source=h,mf(v))throw v;return v}function lh(e){return Xf(e).toLowerCase()}function hh(e){return Xf(e).toUpperCase()}function ph(e,t,n){if(e=Xf(e),e&&(n||t===o))return e.replace(De,"");if(!e||!(t=Po(t)))return e;var r=yr(e),i=yr(t),s=Qn(r,i),a=Xn(r,i)+1;return $o(r,s,a).join("")}function dh(e,t,n){if(e=Xf(e),e&&(n||t===o))return e.replace(Ue,"");if(!e||!(t=Po(t)))return e;var r=yr(e),i=Xn(r,yr(t))+1;return $o(r,0,i).join("")}function yh(e,t,n){if(e=Xf(e),e&&(n||t===o))return e.replace(Be,"");if(!e||!(t=Po(t)))return e;var r=yr(e),i=Qn(r,yr(t));return $o(r,i).join("")}function vh(e,t){var n=N,r=C;if(Of(t)){var i="separator"in t?t.separator:i;n="length"in t?Gf(t.length):n,r="omission"in t?Po(t.omission):r}e=Xf(e);var s=e.length;if(ir(e)){var a=yr(e);s=a.length}if(n>=s)return e;var u=n-dr(r);if(u<1)return r;var c=a?$o(a,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(a&&(u+=c.length-u),kf(i)){if(e.slice(u).search(i)){var f,l=c;i.global||(i=rt(i.source,Xf(ze.exec(i))+"g")),i.lastIndex=0;while(f=i.exec(l))var h=f.index;c=c.slice(0,h===o?u:h)}}else if(e.indexOf(Po(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function gh(e){return e=Xf(e),e&&Ie.test(e)?e.replace(Te,vr):e}var mh=hs((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),_h=ls("toUpperCase");function bh(e,t,n){return e=Xf(e),t=n?o:t,t===o?or(e)?_r(e):kn(e):e.match(t)||[]}var wh=_o((function(e,t){try{return _n(e,o,t)}catch(n){return mf(n)?n:new i(n)}})),Eh=Ms((function(e,t){return wn(t,(function(t){t=Ca(t),hi(e,t,xc(e[t],e))})),e}));function Oh(e){var t=null==e?0:e.length,n=Vs();return e=t?In(e,(function(e){if("function"!=typeof e[1])throw new ot(c);return[n(e[0]),e[1]]})):[],_o((function(n){var r=-1;while(++r<t){var i=e[r];if(_n(i[0],this,n))return _n(i[1],this,n)}}))}function Sh(e){return vi(yi(e,p))}function Th(e){return function(){return e}}function Ah(e,t){return null==e||e!==e?t:e}var Ih=vs(),Nh=vs(!0);function Ch(e){return e}function xh(e){return Zi("function"==typeof e?e:yi(e,p))}function Rh(e){return io(yi(e,p))}function Ph(e,t){return oo(e,yi(t,p))}var jh=_o((function(e,t){return function(n){return qi(n,e,t)}})),kh=_o((function(e,t){return function(n){return qi(e,n,t)}}));function Lh(e,t,n){var r=wl(t),i=Ri(t,r);null!=n||Of(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ri(t,wl(t)));var o=!(Of(n)&&"chain"in n)||!!n.chain,s=bf(e);return wn(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=ns(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nn([this.value()],arguments))})})),e}function Mh(){return an._===this&&(an._=vt),this}function Dh(){}function Bh(e){return e=Gf(e),_o((function(t){return uo(t,e)}))}var Uh=bs(In),Fh=bs(On),qh=bs(Rn);function Vh(e){return sa(e)?qn(Ca(e)):ho(e)}function Yh(e){return function(t){return null==e?o:Pi(e,t)}}var $h=Os(),Wh=Os(!0);function zh(){return[]}function Gh(){return!1}function Hh(){return{}}function Kh(){return""}function Jh(){return!0}function Qh(e,t){if(e=Gf(e),e<1||e>M)return[];var n=U,r=qt(e,U);t=Vs(t),e-=U;var i=zn(r,t);while(++n<e)t(n);return i}function Xh(e){return af(e)?In(e,Ca):Bf(e)?[e]:ns(Na(Xf(e)))}function Zh(e){var t=++ht;return Xf(e)+t}var ep=_s((function(e,t){return e+t}),0),tp=As("ceil"),np=_s((function(e,t){return e/t}),1),rp=As("floor");function ip(e){return e&&e.length?Oi(e,Ch,Li):o}function op(e,t){return e&&e.length?Oi(e,Vs(t,2),Li):o}function sp(e){return Fn(e,Ch)}function ap(e,t){return Fn(e,Vs(t,2))}function up(e){return e&&e.length?Oi(e,Ch,no):o}function cp(e,t){return e&&e.length?Oi(e,Vs(t,2),no):o}var fp=_s((function(e,t){return e*t}),1),lp=As("round"),hp=_s((function(e,t){return e-t}),0);function pp(e){return e&&e.length?Wn(e,Ch):0}function dp(e,t){return e&&e.length?Wn(e,Vs(t,2)):0}return br.after=Ic,br.ary=Nc,br.assign=Zf,br.assignIn=el,br.assignInWith=tl,br.assignWith=nl,br.at=rl,br.before=Cc,br.bind=xc,br.bindAll=Eh,br.bindKey=Rc,br.castArray=Jc,br.chain=Yu,br.chunk=ja,br.compact=ka,br.concat=La,br.cond=Oh,br.conforms=Sh,br.constant=Th,br.countBy=ec,br.create=il,br.curry=Pc,br.curryRight=jc,br.debounce=kc,br.defaults=ol,br.defaultsDeep=sl,br.defer=Lc,br.delay=Mc,br.difference=Ma,br.differenceBy=Da,br.differenceWith=Ba,br.drop=Ua,br.dropRight=Fa,br.dropRightWhile=qa,br.dropWhile=Va,br.fill=Ya,br.filter=nc,br.flatMap=oc,br.flatMapDeep=sc,br.flatMapDepth=ac,br.flatten=za,br.flattenDeep=Ga,br.flattenDepth=Ha,br.flip=Dc,br.flow=Ih,br.flowRight=Nh,br.fromPairs=Ka,br.functions=pl,br.functionsIn=dl,br.groupBy=fc,br.initial=Xa,br.intersection=Za,br.intersectionBy=eu,br.intersectionWith=tu,br.invert=ml,br.invertBy=_l,br.invokeMap=hc,br.iteratee=xh,br.keyBy=pc,br.keys=wl,br.keysIn=El,br.map=dc,br.mapKeys=Ol,br.mapValues=Sl,br.matches=Rh,br.matchesProperty=Ph,br.memoize=Bc,br.merge=Tl,br.mergeWith=Al,br.method=jh,br.methodOf=kh,br.mixin=Lh,br.negate=Uc,br.nthArg=Bh,br.omit=Il,br.omitBy=Nl,br.once=Fc,br.orderBy=yc,br.over=Uh,br.overArgs=qc,br.overEvery=Fh,br.overSome=qh,br.partial=Vc,br.partialRight=Yc,br.partition=vc,br.pick=Cl,br.pickBy=xl,br.property=Vh,br.propertyOf=Yh,br.pull=su,br.pullAll=au,br.pullAllBy=uu,br.pullAllWith=cu,br.pullAt=fu,br.range=$h,br.rangeRight=Wh,br.rearg=$c,br.reject=_c,br.remove=lu,br.rest=Wc,br.reverse=hu,br.sampleSize=wc,br.set=Pl,br.setWith=jl,br.shuffle=Ec,br.slice=pu,br.sortBy=Tc,br.sortedUniq=bu,br.sortedUniqBy=wu,br.split=ah,br.spread=zc,br.tail=Eu,br.take=Ou,br.takeRight=Su,br.takeRightWhile=Tu,br.takeWhile=Au,br.tap=$u,br.throttle=Gc,br.thru=Wu,br.toArray=Wf,br.toPairs=kl,br.toPairsIn=Ll,br.toPath=Xh,br.toPlainObject=Jf,br.transform=Ml,br.unary=Hc,br.union=Iu,br.unionBy=Nu,br.unionWith=Cu,br.uniq=xu,br.uniqBy=Ru,br.uniqWith=Pu,br.unset=Dl,br.unzip=ju,br.unzipWith=ku,br.update=Bl,br.updateWith=Ul,br.values=Fl,br.valuesIn=ql,br.without=Lu,br.words=bh,br.wrap=Kc,br.xor=Mu,br.xorBy=Du,br.xorWith=Bu,br.zip=Uu,br.zipObject=Fu,br.zipObjectDeep=qu,br.zipWith=Vu,br.entries=kl,br.entriesIn=Ll,br.extend=el,br.extendWith=tl,Lh(br,br),br.add=ep,br.attempt=wh,br.camelCase=Wl,br.capitalize=zl,br.ceil=tp,br.clamp=Vl,br.clone=Qc,br.cloneDeep=Zc,br.cloneDeepWith=ef,br.cloneWith=Xc,br.conformsTo=tf,br.deburr=Gl,br.defaultTo=Ah,br.divide=np,br.endsWith=Hl,br.eq=nf,br.escape=Kl,br.escapeRegExp=Jl,br.every=tc,br.find=rc,br.findIndex=$a,br.findKey=al,br.findLast=ic,br.findLastIndex=Wa,br.findLastKey=ul,br.floor=rp,br.forEach=uc,br.forEachRight=cc,br.forIn=cl,br.forInRight=fl,br.forOwn=ll,br.forOwnRight=hl,br.get=yl,br.gt=rf,br.gte=of,br.has=vl,br.hasIn=gl,br.head=Ja,br.identity=Ch,br.includes=lc,br.indexOf=Qa,br.inRange=Yl,br.invoke=bl,br.isArguments=sf,br.isArray=af,br.isArrayBuffer=uf,br.isArrayLike=cf,br.isArrayLikeObject=ff,br.isBoolean=lf,br.isBuffer=hf,br.isDate=pf,br.isElement=df,br.isEmpty=yf,br.isEqual=vf,br.isEqualWith=gf,br.isError=mf,br.isFinite=_f,br.isFunction=bf,br.isInteger=wf,br.isLength=Ef,br.isMap=Tf,br.isMatch=Af,br.isMatchWith=If,br.isNaN=Nf,br.isNative=Cf,br.isNil=Rf,br.isNull=xf,br.isNumber=Pf,br.isObject=Of,br.isObjectLike=Sf,br.isPlainObject=jf,br.isRegExp=kf,br.isSafeInteger=Lf,br.isSet=Mf,br.isString=Df,br.isSymbol=Bf,br.isTypedArray=Uf,br.isUndefined=Ff,br.isWeakMap=qf,br.isWeakSet=Vf,br.join=nu,br.kebabCase=Ql,br.last=ru,br.lastIndexOf=iu,br.lowerCase=Xl,br.lowerFirst=Zl,br.lt=Yf,br.lte=$f,br.max=ip,br.maxBy=op,br.mean=sp,br.meanBy=ap,br.min=up,br.minBy=cp,br.stubArray=zh,br.stubFalse=Gh,br.stubObject=Hh,br.stubString=Kh,br.stubTrue=Jh,br.multiply=fp,br.nth=ou,br.noConflict=Mh,br.noop=Dh,br.now=Ac,br.pad=eh,br.padEnd=th,br.padStart=nh,br.parseInt=rh,br.random=$l,br.reduce=gc,br.reduceRight=mc,br.repeat=ih,br.replace=oh,br.result=Rl,br.round=lp,br.runInContext=e,br.sample=bc,br.size=Oc,br.snakeCase=sh,br.some=Sc,br.sortedIndex=du,br.sortedIndexBy=yu,br.sortedIndexOf=vu,br.sortedLastIndex=gu,br.sortedLastIndexBy=mu,br.sortedLastIndexOf=_u,br.startCase=uh,br.startsWith=ch,br.subtract=hp,br.sum=pp,br.sumBy=dp,br.template=fh,br.times=Qh,br.toFinite=zf,br.toInteger=Gf,br.toLength=Hf,br.toLower=lh,br.toNumber=Kf,br.toSafeInteger=Qf,br.toString=Xf,br.toUpper=hh,br.trim=ph,br.trimEnd=dh,br.trimStart=yh,br.truncate=vh,br.unescape=gh,br.uniqueId=Zh,br.upperCase=mh,br.upperFirst=_h,br.each=uc,br.eachRight=cc,br.first=Ja,Lh(br,function(){var e={};return Ci(br,(function(t,n){lt.call(br.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),br.VERSION=s,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){br[e].placeholder=br})),wn(["drop","take"],(function(e,t){Tr.prototype[e]=function(n){n=n===o?1:Ft(Gf(n),0);var r=this.__filtered__&&!t?new Tr(this):this.clone();return r.__filtered__?r.__takeCount__=qt(n,r.__takeCount__):r.__views__.push({size:qt(n,U),type:e+(r.__dir__<0?"Right":"")}),r},Tr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wn(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==P||n==k;Tr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Vs(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),wn(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tr.prototype[e]=function(){return this[n](1).value()[0]}})),wn(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tr.prototype[e]=function(){return this.__filtered__?new Tr(this):this[n](1)}})),Tr.prototype.compact=function(){return this.filter(Ch)},Tr.prototype.find=function(e){return this.filter(e).head()},Tr.prototype.findLast=function(e){return this.reverse().find(e)},Tr.prototype.invokeMap=_o((function(e,t){return"function"==typeof e?new Tr(this):this.map((function(n){return qi(n,e,t)}))})),Tr.prototype.reject=function(e){return this.filter(Uc(Vs(e)))},Tr.prototype.slice=function(e,t){e=Gf(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=Gf(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Tr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tr.prototype.toArray=function(){return this.take(U)},Ci(Tr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=br[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(br.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof Tr,c=a[0],f=u||af(t),l=function(e){var t=i.apply(br,Nn([e],a));return r&&h?t[0]:t};f&&n&&"function"==typeof c&&1!=c.length&&(u=f=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,y=u&&!p;if(!s&&f){t=y?t:new Tr(this);var v=e.apply(t,a);return v.__actions__.push({func:Wu,args:[l],thisArg:o}),new Sr(v,h)}return d&&y?e.apply(this,a):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})})),wn(["pop","push","shift","sort","splice","unshift"],(function(e){var t=st[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);br.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(af(i)?i:[],e)}return this[n]((function(n){return t.apply(af(n)?n:[],e)}))}})),Ci(Tr.prototype,(function(e,t){var n=br[t];if(n){var r=n.name+"";lt.call(cn,r)||(cn[r]=[]),cn[r].push({name:t,func:n})}})),cn[gs(o,_).name]=[{name:"wrapper",func:o}],Tr.prototype.clone=Ar,Tr.prototype.reverse=Ir,Tr.prototype.value=Nr,br.prototype.at=zu,br.prototype.chain=Gu,br.prototype.commit=Hu,br.prototype.next=Ku,br.prototype.plant=Qu,br.prototype.reverse=Xu,br.prototype.toJSON=br.prototype.valueOf=br.prototype.value=Zu,br.prototype.first=br.prototype.head,It&&(br.prototype[It]=Ju),br},wr=br();an._=wr,i=function(){return wr}.call(t,n,t,r),i===o||(r.exports=i)}).call(this)}).call(this,n("c8ba"),n("62e4")(e))},"2f38":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var s,a=o(n("c8ff")),u=n("8a32");function c(e){for(var t=u.isArray(e)?e:[e],n=0,r=t;n<r.length;n++){var i=r[n],o=i.isMatch,s=i.genAdapter,a=i.runtime;if(o())return{adapter:s(),runtime:a}}}function f(){return{adapter:a.genAdapter(),runtime:s.WEB}}(function(e){e["WEB"]="web",e["WX_MP"]="wx_mp"})(s=t.RUNTIME||(t.RUNTIME={})),t.useAdapters=c,t.useDefaultAdapter=f},"30c9":function(e,t,n){var r=n("9520"),i=n("b218");function o(e){return null!=e&&i(e.length)&&!r(e)}e.exports=o},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"356c":function(e,t,n){e.exports=n("fdf7")},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"364b":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.utils=t.events=t.cache=t.adapters=t.constants=void 0;var s=o(n("56b0"));t.constants=s;var a=o(n("2f38"));t.adapters=a;var u=o(n("0bda"));t.cache=u;var c=o(n("b038"));t.events=c;var f=o(n("8a32"));t.utils=f;var l=o(n("adad"));t.helpers=l},3729:function(e,t,n){var r=n("9e69"),i=n("00fd"),o=n("29f3"),s="[object Null]",a="[object Undefined]",u=r?r.toStringTag:void 0;function c(e){return null==e?void 0===e?a:s:u&&u in Object(e)?i(e):o(e)}e.exports=c},"375a":function(e,t){e.exports=i,i.default=i,i.stable=a,i.stableStringify=a;var n=[],r=[];function i(e,t,i){var s;o(e,"",[],void 0),s=0===r.length?JSON.stringify(e,t,i):JSON.stringify(e,c(t),i);while(0!==n.length){var a=n.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return s}function o(e,t,i,s){var a;if("object"===typeof e&&null!==e){for(a=0;a<i.length;a++)if(i[a]===e){var u=Object.getOwnPropertyDescriptor(s,t);return void(void 0!==u.get?u.configurable?(Object.defineProperty(s,t,{value:"[Circular]"}),n.push([s,t,e,u])):r.push([e,t]):(s[t]="[Circular]",n.push([s,t,e])))}if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)o(e[a],a,i,e);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var f=c[a];o(e[f],f,i,e)}}i.pop()}}function s(e,t){return e<t?-1:e>t?1:0}function a(e,t,i){var o,s=u(e,"",[],void 0)||e;o=0===r.length?JSON.stringify(s,t,i):JSON.stringify(s,c(t),i);while(0!==n.length){var a=n.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return o}function u(e,t,i,o){var a;if("object"===typeof e&&null!==e){for(a=0;a<i.length;a++)if(i[a]===e){var c=Object.getOwnPropertyDescriptor(o,t);return void(void 0!==c.get?c.configurable?(Object.defineProperty(o,t,{value:"[Circular]"}),n.push([o,t,e,c])):r.push([e,t]):(o[t]="[Circular]",n.push([o,t,e])))}if("function"===typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)u(e[a],a,i,e);else{var f={},l=Object.keys(e).sort(s);for(a=0;a<l.length;a++){var h=l[a];u(e[h],h,i,e),f[h]=e[h]}if(void 0===o)return f;n.push([o,t,e]),o[t]=f}i.pop()}}function c(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,u=0;while(a>u)i.f(e,n=r[u++],t[n]);return e}},3956:function(e,t,n){var r=n("d460"),i=n("3ff1");function o(e){return r(i(e))}e.exports=o},"3aef":function(e,t,n){"use strict";n.r(t),n.d(t,"WebSocket",(function(){return o})),n.d(t,"platformInfo",(function(){return s})),n.d(t,"storage",(function(){return i}));var r=n("7da0");n.d(t,"request",(function(){return r["request"]})),n.d(t,"upload",(function(){return r["upload"]}));var i=window.localStorage,o=window.WebSocket,s={name:"Browser"}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3c96":function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),s="String Iterator",a=i.set,u=i.getterFor(s);o(String,"String",(function(e){a(this,{type:s,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},"3ff1":function(e,t,n){var r=n("266a"),i=n("ec69");function o(e){return null==e?[]:r(e,i(e))}e.exports=o},4082:function(e,t,n){n("a4d3"),n("c975");var r=n("f0e4");function i(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}e.exports=i},4160:function(e,t,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(e,t,n){var r=n("da84");e.exports=r},4359:function(e,t){function n(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=n},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"448a":function(e,t,n){var r=n("2236"),i=n("11b0"),o=n("6613"),s=n("0676");function a(e){return r(e)||i(e)||o(e)||s()}e.exports=a},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"450d":function(e,t,n){},"46b0":function(e,t,n){"use strict";(function(r){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function a(){var e;return"object"===("undefined"===typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)}function u(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function c(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",BASE_URL:""}).DEBUG),e}function f(){try{return localStorage}catch(e){}}t.log=a,t.formatArgs=s,t.save=u,t.load=c,t.useColors=o,t.storage=f(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("4916")(t);var l=e.exports.formatters;l.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("4362"))},"480f":function(e,t,n){var r=n("c135"),i=n("11b0"),o=n("6613"),s=n("c240");function a(e){return r(e)||i(e)||o(e)||s()}e.exports=a},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},"48e8":function(e,t,n){(function(e){(function(e,n){n(t)})(0,(function(t){"use strict";var n="undefined"!==typeof window&&window.process||{};n.env=n.env||{};var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function o(e,t,n){return n={path:t,exports:{},require:function(e,t){return a(e,void 0===t||null===t?n.path:t)}},e(n,n.exports),n.exports}function s(e){return e&&e["default"]||e}function a(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var u=o((function(e){function t(n){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t})),c=o((function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);r=0;for(var i=n.length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}})),f=p;p.default=p,p.stable=v,p.stableStringify=v;var l=[],h=[];function p(e,t,n){var r;d(e,"",[],void 0),r=0===h.length?JSON.stringify(e,t,n):JSON.stringify(e,m(t),n);while(0!==l.length){var i=l.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return r}function d(e,t,n,r){var i;if("object"===typeof e&&null!==e){for(i=0;i<n.length;i++)if(n[i]===e){var o=Object.getOwnPropertyDescriptor(r,t);return void(void 0!==o.get?o.configurable?(Object.defineProperty(r,t,{value:"[Circular]"}),l.push([r,t,e,o])):h.push([e,t]):(r[t]="[Circular]",l.push([r,t,e])))}if(n.push(e),Array.isArray(e))for(i=0;i<e.length;i++)d(e[i],i,n,e);else{var s=Object.keys(e);for(i=0;i<s.length;i++){var a=s[i];d(e[a],a,n,e)}}n.pop()}}function y(e,t){return e<t?-1:e>t?1:0}function v(e,t,n){var r,i=g(e,"",[],void 0)||e;r=0===h.length?JSON.stringify(i,t,n):JSON.stringify(i,m(t),n);while(0!==l.length){var o=l.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return r}function g(e,t,n,r){var i;if("object"===typeof e&&null!==e){for(i=0;i<n.length;i++)if(n[i]===e){var o=Object.getOwnPropertyDescriptor(r,t);return void(void 0!==o.get?o.configurable?(Object.defineProperty(r,t,{value:"[Circular]"}),l.push([r,t,e,o])):h.push([e,t]):(r[t]="[Circular]",l.push([r,t,e])))}if("function"===typeof e.toJSON)return;if(n.push(e),Array.isArray(e))for(i=0;i<e.length;i++)g(e[i],i,n,e);else{var s={},a=Object.keys(e).sort(y);for(i=0;i<a.length;i++){var u=a[i];g(e[u],u,n,e),s[u]=e[u]}if(void 0===r)return s;l.push([r,t,e]),r[t]=s}n.pop()}}function m(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(h.length>0)for(var r=0;r<h.length;r++){var i=h[r];if(i[1]===t&&i[0]===n){n="[Circular]",h.splice(r,1);break}}return e.call(this,t,n)}}function _(e){return _="function"===typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)},_(e)}function b(e){return null!==e&&"object"===_(e)}var w=b;function E(e){return E="function"===typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)},E(e)}var O=S;function S(e){if(e)return T(e)}function T(e){for(var t in S.prototype)Object.prototype.hasOwnProperty.call(S.prototype,t)&&(e[t]=S.prototype[t]);return e}S.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},S.prototype.parse=function(e){return this._parser=e,this},S.prototype.responseType=function(e){return this._responseType=e,this},S.prototype.serialize=function(e){return this._serializer=e,this},S.prototype.timeout=function(e){if(!e||"object"!==E(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},S.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var A=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];S.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(r){console.error(r)}if(t&&t.status&&t.status>=500&&501!==t.status)return!0;if(e){if(e.code&&A.includes(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},S.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},S.prototype.then=function(e,t){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){r.on("abort",(function(){if(n.timedout&&n.timedoutError)t(n.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=n.status,e.method=n.method,e.url=n.url,t(e)}})),r.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},S.prototype["catch"]=function(e){return this.then(void 0,e)},S.prototype.use=function(e){return e(this),this},S.prototype.ok=function(e){if("function"!==typeof e)throw new Error("Callback required");return this._okCallback=e,this},S.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},S.prototype.get=function(e){return this._header[e.toLowerCase()]},S.prototype.getHeader=S.prototype.get,S.prototype.set=function(e,t){if(w(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},S.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},S.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(w(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"===typeof t&&(t=String(t)),this._getFormData().append(e,t),this},S.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},S.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e));break}return this},S.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},S.prototype.redirects=function(e){return this._maxRedirects=e,this},S.prototype.maxResponseSize=function(e){if("number"!==typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},S.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},S.prototype.send=function(e){var t=w(e),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&w(this._data))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._data[r]=e[r]);else"string"===typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},S.prototype.sortQuery=function(e){return this._sort="undefined"===typeof e||e,this},S.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.slice(t+1).split("&");"function"===typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,t)+"?"+n.join("&")}}},S.prototype._appendQueryString=function(){console.warn("Unsupported")},S.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error("".concat(e+t,"ms exceeded"));r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},S.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};var I=function(e){return e.split(/ *; */).shift()},N=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e}),{})},C=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1),i=n[1].split(/ *= */)[1].slice(1,-1);return e[i]=r,e}),{})},x=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e},R={type:I,params:N,parseLinks:C,cleanHeader:x},P=j;function j(e){if(e)return k(e)}function k(e){for(var t in j.prototype)Object.prototype.hasOwnProperty.call(j.prototype,t)&&(e[t]=j.prototype[t]);return e}function L(e){return B(e)||D(e)||M()}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function D(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function B(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function U(){this._defaults=[]}j.prototype.get=function(e){return this.header[e.toLowerCase()]},j.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=R.type(t);var n=R.params(t);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(this[r]=n[r]);this.links={};try{e.link&&(this.links=R.parseLinks(e.link))}catch(i){}},j.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){U.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._defaults.push({fn:e,args:n}),this}})),U.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,L(t.args))}))};var F=U,q=o((function(e,t){function n(e){return n="function"===typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)},n(e)}var r;function i(){}"undefined"!==typeof window?r=window:"undefined"===typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),r=void 0):r=self,e.exports=function(e,n){return"function"===typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)},t=e.exports;var o=t;t.Request=v,o.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!==r.location.protocol||!r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("Browser-only version of superagent could not find XHR")};var s="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function a(e){if(!w(e))return e;var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l(t,n,e[n]);return t.join("&")}function l(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){l(e,t,n)}));else if(w(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&l(e,"".concat(t,"[").concat(r,"]"),n[r]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function h(e){for(var t,n,r={},i=e.split("&"),o=0,s=i.length;o<s;++o)t=i[o],n=t.indexOf("="),-1===n?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function p(e){for(var t,n,r,i,o=e.split(/\r?\n/),a={},u=0,c=o.length;u<c;++u)n=o[u],t=n.indexOf(":"),-1!==t&&(r=n.slice(0,t).toLowerCase(),i=s(n.slice(t+1)),a[r]=i);return a}function d(e){return/[/+]json($|[^-\w])/.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=p(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function v(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new y(n)}catch(i){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=i,n.xhr?(t.rawResponse="undefined"===typeof n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(i){e=i}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function g(e,t,n){var r=o("DELETE",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}o.serializeObject=a,o.parseString=h,o.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},o.serialize={"application/x-www-form-urlencoded":a,"application/json":f},o.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},P(y.prototype),y.prototype._parseBody=function(e){var t=o.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&d(this.type)&&(t=o.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot ".concat(t," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},o.Response=y,c(v.prototype),O(v.prototype),v.prototype.type=function(e){return this.set("Content-Type",o.types[e]||e),this},v.prototype.accept=function(e){return this.set("Accept",o.types[e]||e),this},v.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"===n(t)&&null!==t&&(r=t,t=""),r||(r={type:"function"===typeof btoa?"basic":"auto"});var i=function(e){if("function"===typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,i)},v.prototype.query=function(e){return"string"!==typeof e&&(e=a(e)),e&&this._query.push(e),this},v.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},v.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},v.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},v.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},v.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},v.prototype.ca=v.prototype.agent,v.prototype.buffer=v.prototype.ca,v.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},v.prototype.pipe=v.prototype.write,v.prototype._isHost=function(e){return e&&"object"===n(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},v.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||i,this._finalizeQueryString(),this._end()},v.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},v.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=o.getXHR();var t=this.xhr,n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===n){var r;try{r=t.status}catch(i){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",r.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",r.bind(null,"upload"))}catch(u){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(c){return this.callback(c)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!==typeof n&&!this._isHost(n)){var i=this._header["content-type"],s=this._serializer||o.serialize[i?i.split(";")[0]:""];!s&&d(i)&&(s=o.serialize["application/json"]),s&&(n=s(n))}for(var a in this.header)null!==this.header[a]&&Object.prototype.hasOwnProperty.call(this.header,a)&&t.setRequestHeader(a,this.header[a]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send("undefined"===typeof n?null:n)},o.agent=function(){return new F},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){F.prototype[e.toLowerCase()]=function(t,n){var r=new o.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),F.prototype.del=F.prototype["delete"],o.get=function(e,t,n){var r=o("GET",e);return"function"===typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},o.head=function(e,t,n){var r=o("HEAD",e);return"function"===typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},o.options=function(e,t,n){var r=o("OPTIONS",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},o.del=g,o["delete"]=g,o.patch=function(e,t,n){var r=o("PATCH",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},o.post=function(e,t,n){var r=o("POST",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},o.put=function(e,t,n){var r=o("PUT",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}})),V=(q.Request,o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.request=function(e,t){void 0===t&&(t={});var n=t.method,r=void 0===n?"GET":n,i=t.data,o=t.headers,s=t.onprogress,a=q(r,e);return o&&a.set(o),s&&a.on("progress",s),a.send(i).catch((function(e){if(e.response)return e.response;throw e})).then((function(e){var t=e.status,n=e.ok,r=e.header,i=e.body;return{status:t,ok:n,headers:r,data:i}}))},t.upload=function(e,t,n){void 0===n&&(n={});var r=n.data,i=n.headers,o=n.onprogress,s=q("POST",e).attach(t.field,t.data,t.name);return r&&s.field(r),i&&s.set(i),o&&s.on("progress",o),s.catch((function(e){if(e.response)return e.response;throw e})).then((function(e){var t=e.status,n=e.ok,r=e.header,i=e.body;return{status:t,ok:n,headers:r,data:i}}))}})));i(V);V.request,V.upload;var Y=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.request=V.request,t.upload=V.upload,t.storage=window.localStorage,t.WebSocket=window.WebSocket,t.platformInfo={name:"Browser"}}));i(Y);var $=Y.request,W=(Y.upload,Y.storage,Y.WebSocket);Y.platformInfo;function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=z,H=o((function(e){
/**
	 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/long.js for details
	 */
(function(t,n){"function"===typeof a&&e&&e["exports"]?e["exports"]=n():(t["dcodeIO"]=t["dcodeIO"]||{})["Long"]=n()})(r,(function(){function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e["__isLong__"])}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},r={};function i(e,t){var i,o,a;return t?(e>>>=0,(a=0<=e&&e<256)&&(o=r[e],o)?o:(i=s(e,(0|e)<0?-1:0,!0),a&&(r[e]=i),i)):(e|=0,(a=-128<=e&&e<128)&&(o=n[e],o)?o:(i=s(e,e<0?-1:0,!1),a&&(n[e]=i),i))}function o(e,t){if(isNaN(e)||!isFinite(e))return t?g:v;if(t){if(e<0)return g;if(e>=p)return E}else{if(e<=-d)return O;if(e+1>=d)return w}return e<0?o(-e,t).neg():s(e%h|0,e/h|0,t)}function s(t,n,r){return new e(t,n,r)}e.fromInt=i,e.fromNumber=o,e.fromBits=s;var a=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=o(a(n,8)),s=v,c=0;c<e.length;c+=8){var f=Math.min(8,e.length-c),l=parseInt(e.substring(c,c+f),n);if(f<8){var h=o(a(n,f));s=s.mul(h).add(o(l))}else s=s.mul(i),s=s.add(o(l))}return s.unsigned=t,s}function c(t){return t instanceof e?t:"number"===typeof t?o(t):"string"===typeof t?u(t):s(t.low,t.high,t.unsigned)}e.fromString=u,e.fromValue=c;var f=65536,l=1<<24,h=f*f,p=h*h,d=p/2,y=i(l),v=i(0);e.ZERO=v;var g=i(0,!0);e.UZERO=g;var m=i(1);e.ONE=m;var _=i(1,!0);e.UONE=_;var b=i(-1);e.NEG_ONE=b;var w=s(-1,2147483647,!1);e.MAX_VALUE=w;var E=s(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var O=s(0,-2147483648,!1);e.MIN_VALUE=O;var S=e.prototype;return S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},S.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}var i=o(a(e,6),this.unsigned),s=this,u="";while(1){var c=s.div(i),f=s.sub(c.mul(i)).toInt()>>>0,l=f.toString(e);if(s=c,s.isZero())return l+u;while(l.length<6)l="0"+l;u=""+l+u}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0;t--)if(0!=(e&1<<t))break;return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(m)},S.neg=S.negate,S.add=function(e){t(e)||(e=c(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,u=65535&e.high,f=e.low>>>16,l=65535&e.low,h=0,p=0,d=0,y=0;return y+=o+l,d+=y>>>16,y&=65535,d+=i+f,p+=d>>>16,d&=65535,p+=r+u,h+=p>>>16,p&=65535,h+=n+a,h&=65535,s(d<<16|y,h<<16|p,this.unsigned)},S.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return v;if(t(e)||(e=c(e)),e.isZero())return v;if(this.eq(O))return e.isOdd()?O:v;if(e.eq(O))return this.isOdd()?O:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,u=e.high>>>16,f=65535&e.high,l=e.low>>>16,h=65535&e.low,p=0,d=0,g=0,m=0;return m+=a*h,g+=m>>>16,m&=65535,g+=i*h,d+=g>>>16,g&=65535,g+=a*l,d+=g>>>16,g&=65535,d+=r*h,p+=d>>>16,d&=65535,d+=i*l,p+=d>>>16,d&=65535,d+=a*f,p+=d>>>16,d&=65535,p+=n*h+r*l+i*f+a*u,p&=65535,s(g<<16|m,p<<16|d,this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:v;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return _;i=g}else{if(this.eq(O)){if(e.eq(m)||e.eq(b))return O;if(e.eq(O))return m;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(v)?e.isNegative()?m:b:(r=this.sub(e.mul(n)),i=n.add(r.div(e)),i)}if(e.eq(O))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=v}r=this;while(r.gte(e)){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var u=Math.ceil(Math.log(n)/Math.LN2),f=u<=48?1:a(2,u-48),l=o(n),h=l.mul(e);while(h.isNegative()||h.gt(r))n-=f,l=o(n,this.unsigned),h=l.mul(e);l.isZero()&&(l=m),i=i.add(l),r=r.sub(h)}return i},S.div=S.divide,S.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.not=function(){return s(~this.low,~this.high,this.unsigned)},S.and=function(e){return t(e)||(e=c(e)),s(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return t(e)||(e=c(e)),s(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return t(e)||(e=c(e)),s(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),e&=63,0===e)return this;var n=this.high;if(e<32){var r=this.low;return s(r>>>e|n<<32-e,n>>>e,this.unsigned)}return s(32===e?n:n>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}))})),K=o((function(e){
/**
	 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
	 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/bytebuffer.js for details
	 */
(function(t,n){"function"===typeof a&&e&&e["exports"]?e["exports"]=function(){var e;try{e=H}catch(t){}return n(e)}():(t["dcodeIO"]=t["dcodeIO"]||{})["ByteBuffer"]=n(t["dcodeIO"]["Long"])})(r,(function(e){var t=function(e,n,i){if("undefined"===typeof e&&(e=t.DEFAULT_CAPACITY),"undefined"===typeof n&&(n=t.DEFAULT_ENDIAN),"undefined"===typeof i&&(i=t.DEFAULT_NOASSERT),!i){if(e|=0,e<0)throw RangeError("Illegal capacity");n=!!n,i=!!i}this.buffer=0===e?r:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=n,this.noAssert=i};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),i=String.fromCharCode;function o(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function s(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+i.apply(String,e);e.length+arguments.length>1024&&(t.push(i.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function a(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)}function u(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+l>=1?h/u:h*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*y}t.accessor=function(){return Uint8Array},t.allocate=function(e,n,r){return new t(e,n,r)},t.concat=function(e,n,r,i){"boolean"!==typeof n&&"string"===typeof n||(i=r,r=n,n=void 0);for(var o,s=0,a=0,u=e.length;a<u;++a)t.isByteBuffer(e[a])||(e[a]=t.wrap(e[a],n)),o=e[a].limit-e[a].offset,o>0&&(s+=o);if(0===s)return new t(0,r,i);var c,f=new t(s,r,i);a=0;while(a<u)c=e[a++],o=c.limit-c.offset,o<=0||(f.view.set(c.view.subarray(c.offset,c.limit),f.offset),f.offset+=o);return f.limit=f.offset,f.offset=0,f},t.isByteBuffer=function(e){return!0===(e&&e["__isByteBuffer__"])},t.type=function(){return ArrayBuffer},t.wrap=function(e,r,i,o){if("string"!==typeof r&&(o=i,i=r,r=void 0),"string"===typeof e)switch("undefined"===typeof r&&(r="utf8"),r){case"base64":return t.fromBase64(e,i);case"hex":return t.fromHex(e,i);case"binary":return t.fromBinary(e,i);case"utf8":return t.fromUTF8(e,i);case"debug":return t.fromDebug(e,i);default:throw Error("Unsupported encoding: "+r)}if(null===e||"object"!==typeof e)throw TypeError("Illegal buffer");var s;if(t.isByteBuffer(e))return s=n.clone.call(e),s.markedOffset=-1,s;if(e instanceof Uint8Array)s=new t(0,i,o),e.length>0&&(s.buffer=e.buffer,s.offset=e.byteOffset,s.limit=e.byteOffset+e.byteLength,s.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)s=new t(0,i,o),e.byteLength>0&&(s.buffer=e,s.offset=0,s.limit=e.byteLength,s.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");s=new t(e.length,i,o),s.limit=e.length;for(var a=0;a<e.length;++a)s.view[a]=e[a]}return s},n.writeBitSet=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t,o=e.length,s=o>>3,a=0;t+=this.writeVarint32(o,t);while(s--)r=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(r,t++);if(a<o){var u=0;r=0;while(a<o)r|=(1&!!e[a++])<<u++;this.writeByte(r,t++)}return n?(this.offset=t,this):t-i},n.readBitSet=function(e){var t="undefined"===typeof e;t&&(e=this.offset);var n,r=this.readVarint32(e),i=r.value,o=i>>3,s=0,a=[];e+=r.length;while(o--)n=this.readByte(e++),a[s++]=!!(1&n),a[s++]=!!(2&n),a[s++]=!!(4&n),a[s++]=!!(8&n),a[s++]=!!(16&n),a[s++]=!!(32&n),a[s++]=!!(64&n),a[s++]=!!(128&n);if(s<i){var u=0;n=this.readByte(e++);while(s<i)a[s++]=!!(n>>u++&1)}return t&&(this.offset=e),a},n.readBytes=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var r=this.slice(t,t+e);return n&&(this.offset+=e),r},n.writeBytes=n.append,n.writeInt8=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return 128===(128&n)&&(n=-(255-n+1)),t&&(this.offset+=1),n},n.readByte=n.readInt8,n.writeUint8=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return t&&(this.offset+=1),n},n.readUInt8=n.readUint8,n.writeInt16=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),32768===(32768&n)&&(n=-(65535-n+1)),t&&(this.offset+=2),n},n.readShort=n.readInt16,n.writeUint16=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),t&&(this.offset+=2),n},n.readUInt16=n.readUint16,n.writeInt32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),n|=0,t&&(this.offset+=4),n},n.readInt=n.readInt32,n.writeUint32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),t&&(this.offset+=4),n},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!1);return n&&(this.offset+=8),o},n.readLong=n.readInt64,n.writeUint64=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!0);return n&&(this.offset+=8),o},n.readUInt64=n.readUint64),n.writeFloat32=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,u(this.view,e,t,this.littleEndian,23,4),n&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=a(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),n},n.readFloat=n.readFloat32,n.writeFloat64=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=8,u(this.view,e,t,this.littleEndian,52,8),n&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=a(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),n},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},n.writeVarint32=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o=t.calculateVarint32(e);n+=o;var s=this.buffer.byteLength;n>s&&this.resize((s*=2)>n?s:n),n-=o,e>>>=0;while(e>=128)i=127&e|128,this.view[n++]=i,e>>>=7;return this.view[n++]=e,r?(this.offset=n,this):o},n.writeVarint32ZigZag=function(e,n){return this.writeVarint32(t.zigZagEncode32(e),n)},n.readVarint32=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=0,i=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o["truncated"]=!0,o}n=this.view[e++],r<5&&(i|=(127&n)<<7*r),++r}while(0!==(128&n));return i|=0,t?(this.offset=e,i):{value:i,length:r}},n.readVarint32ZigZag=function(e){var n=this.readVarint32(e);return"object"===typeof n?n["value"]=t.zigZagDecode32(n["value"]):n=t.zigZagDecode32(n),n},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},t.zigZagEncode64=function(t){return"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(n,r){var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"===typeof n)n=e.fromNumber(n);else if("string"===typeof n)n=e.fromString(n);else if(!(n&&n instanceof e))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"===typeof n?n=e.fromNumber(n,!1):"string"===typeof n?n=e.fromString(n,!1):!1!==n.unsigned&&(n=n.toSigned());var o=t.calculateVarint64(n),s=n.toInt()>>>0,a=n.shiftRightUnsigned(28).toInt()>>>0,u=n.shiftRightUnsigned(56).toInt()>>>0;r+=o;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=o,o){case 10:this.view[r+9]=u>>>7&1;case 9:this.view[r+8]=9!==o?128|u:127&u;case 8:this.view[r+7]=8!==o?a>>>21|128:a>>>21&127;case 7:this.view[r+6]=7!==o?a>>>14|128:a>>>14&127;case 6:this.view[r+5]=6!==o?a>>>7|128:a>>>7&127;case 5:this.view[r+4]=5!==o?128|a:127&a;case 4:this.view[r+3]=4!==o?s>>>21|128:s>>>21&127;case 3:this.view[r+2]=3!==o?s>>>14|128:s>>>14&127;case 2:this.view[r+1]=2!==o?s>>>7|128:s>>>7&127;case 1:this.view[r]=1!==o?128|s:127&s}return i?(this.offset+=o,this):o},n.writeVarint64ZigZag=function(e,n){return this.writeVarint64(t.zigZagEncode64(e),n)},n.readVarint64=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,o=0,s=0,a=0;if(a=this.view[t++],i=127&a,128&a&&(a=this.view[t++],i|=(127&a)<<7,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],i|=(127&a)<<14,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],i|=(127&a)<<21,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o=127&a,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o|=(127&a)<<7,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o|=(127&a)<<14,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],o|=(127&a)<<21,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],s=127&a,(128&a||this.noAssert&&"undefined"===typeof a)&&(a=this.view[t++],s|=(127&a)<<7,128&a||this.noAssert&&"undefined"===typeof a))))))))))throw Error("Buffer overrun");var u=e.fromBits(i|o<<28,o>>>4|s<<24,!1);return n?(this.offset=t,u):{value:u,length:t-r}},n.readVarint64ZigZag=function(n){var r=this.readVarint64(n);return r&&r["value"]instanceof e?r["value"]=t.zigZagDecode64(r["value"]):r=t.zigZagDecode64(r),r}),n.writeCString=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);var r,i=e.length;if(!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");for(r=0;r<i;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}i=f.calculateUTF16asUTF8(o(e))[1],t+=i+1;var s=this.buffer.byteLength;return t>s&&this.resize((s*=2)>t?s:t),t-=i+1,f.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,n?(this.offset=t,this):i},n.readCString=function(e){var t="undefined"===typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=e,i=-1;return f.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return i=this.view[e++],0===i?null:i}.bind(this),n=s(),!0),t?(this.offset=e,n()):{string:n(),length:e-r}},n.writeIString=function(e,t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t;r=f.calculateUTF16asUTF8(o(e),this.noAssert)[1],t+=4+r;var s=this.buffer.byteLength;if(t>s&&this.resize((s*=2)>t?s:t),t-=4+r,this.littleEndian?(this.view[t+3]=r>>>24&255,this.view[t+2]=r>>>16&255,this.view[t+1]=r>>>8&255,this.view[t]=255&r):(this.view[t]=r>>>24&255,this.view[t+1]=r>>>16&255,this.view[t+2]=r>>>8&255,this.view[t+3]=255&r),t+=4,f.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),t!==i+4+r)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+r));return n?(this.offset=t,this):t-i},n.readIString=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=e,i=this.readUint32(e),o=this.readUTF8String(i,t.METRICS_BYTES,e+=4);return e+=o["length"],n?(this.offset=e,o["string"]):{string:o["string"],length:e-r}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(e,t){var n,r="undefined"===typeof t;if(r&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i=t;n=f.calculateUTF16asUTF8(o(e))[1],t+=n;var s=this.buffer.byteLength;return t>s&&this.resize((s*=2)>t?s:t),t-=n,f.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),r?(this.offset=t,this):t-i},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(e){return f.calculateUTF16asUTF8(o(e))[0]},t.calculateUTF8Bytes=function(e){return f.calculateUTF16asUTF8(o(e))[1]},t.calculateString=t.calculateUTF8Bytes,n.readUTF8String=function(e,n,r){"number"===typeof n&&(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),"undefined"===typeof n&&(n=t.METRICS_CHARS),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,a=0,u=r;if(n===t.METRICS_CHARS){if(o=s(),f.decodeUTF8(function(){return a<e&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++a,f.UTF8toUTF16(e,o)})),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return i?(this.offset=r,o()):{string:o(),length:r-u}}if(n===t.METRICS_BYTES){if(!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var c=r+e;if(f.decodeUTF8toUTF16(function(){return r<c?this.view[r++]:null}.bind(this),o=s(),this.noAssert),r!==c)throw RangeError("Illegal range: Truncated data, "+r+" == "+c);return i?(this.offset=r,o()):{string:o(),length:r-u}}throw TypeError("Unsupported metrics: "+n)},n.readString=n.readUTF8String,n.writeVString=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,s,a=n;i=f.calculateUTF16asUTF8(o(e),this.noAssert)[1],s=t.calculateVarint32(i),n+=s+i;var u=this.buffer.byteLength;if(n>u&&this.resize((u*=2)>n?u:n),n-=s+i,n+=this.writeVarint32(i,n),f.encodeUTF16toUTF8(o(e),function(e){this.view[n++]=e}.bind(this)),n!==a+i+s)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+i+s));return r?(this.offset=n,this):n-a},n.readVString=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=this.readVarint32(e),o=this.readUTF8String(i["value"],t.METRICS_BYTES,e+=i["length"]);return e+=o["length"],n?(this.offset=e,o["string"]):{string:o["string"],length:e-r}},n.append=function(e,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;r+=o;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=o,this.view.set(e.view.subarray(e.offset,e.limit),r),e.offset+=o,i&&(this.offset+=o),this},n.appendTo=function(e,t){return e.append(this,t),this},n.assert=function(e){return this.noAssert=!e,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(e){var n=new t(0,this.littleEndian,this.noAssert);return e?(n.buffer=new ArrayBuffer(this.buffer.byteLength),n.view=new Uint8Array(n.buffer)):(n.buffer=this.buffer,n.view=this.view),n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},n.compact=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),o=new Uint8Array(i);return o.set(this.view.subarray(e,t)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},n.copy=function(e,n){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e===n)return new t(0,this.littleEndian,this.noAssert);var r=n-e,i=new t(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,n),i},n.copyTo=function(e,n,r,i){var o,s;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(s="undefined"===typeof n)?e.offset:0|n,r=(o="undefined"===typeof r)?this.offset:0|r,i="undefined"===typeof i?this.limit:0|i,n<0||n>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.ensureCapacity(n+a),e.view.set(this.view.subarray(r,i),n),o&&(this.offset+=a),s&&(e.offset+=a),this)},n.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},n.fill=function(e,t,n){var r="undefined"===typeof t;if(r&&(t=this.offset),"string"===typeof e&&e.length>0&&(e=e.charCodeAt(0)),"undefined"===typeof t&&(t=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;while(t<n)this.view[t++]=e;return r&&(this.offset=t),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(e){if(e="undefined"===typeof e?this.offset:e,!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},n.order=function(e){if(!this.noAssert&&"boolean"!==typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},n.LE=function(e){return this.littleEndian="undefined"===typeof e||!!e,this},n.BE=function(e){return this.littleEndian="undefined"!==typeof e&&!e,this},n.prepend=function(e,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;var s=o-r;if(s>0){var a=new ArrayBuffer(this.buffer.byteLength+s),u=new Uint8Array(a);u.set(this.view.subarray(r,this.buffer.byteLength),o),this.buffer=a,this.view=u,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,r+=s}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),r-o),e.offset=e.limit,i&&(this.offset-=o),this},n.prependTo=function(e,t){return e.prepend(this,t),this},n.printDebug=function(e){"function"!==typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if(e|=0,e<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view),this.buffer=t,this.view=n}return this},n.reverse=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},n.skip=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},n.slice=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},n.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return r;var i=new ArrayBuffer(n-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,n),0),i},n.toArrayBuffer=n.toBuffer,n.toString=function(e,t,n){if("undefined"===typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"===typeof e&&(e="utf8",t=e,n=t),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var c=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=t.length;r<i;++r)n[t[r]]=r;return e.encode=function(e,n){var r,i;while(null!==(r=e()))n(t[r>>2&63]),i=(3&r)<<4,null!==(r=e())?(i|=r>>4&15,n(t[63&(i|r>>4&15)]),i=(15&r)<<2,null!==(r=e())?(n(t[63&(i|r>>6&3)]),n(t[63&r])):(n(t[63&i]),n(61))):(n(t[63&i]),n(61),n(61))},e.decode=function(e,t){var r,i,o;function s(e){throw Error("Illegal character code: "+e)}while(null!==(r=e()))if(i=n[r],"undefined"===typeof i&&s(r),null!==(r=e())&&(o=n[r],"undefined"===typeof o&&s(r),t(i<<2>>>0|(48&o)>>4),null!==(r=e()))){if(i=n[r],"undefined"===typeof i){if(61===r)break;s(r)}if(t((15&o)<<4>>>0|(60&i)>>2),null!==(r=e())){if(o=n[r],"undefined"===typeof o){if(61===r)break;s(r)}t((3&i)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();n.toBase64=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity||e>t)throw RangeError("begin, end");var n;return c.encode(function(){return e<t?this.view[e++]:null}.bind(this),n=s()),n()},t.fromBase64=function(e,n){if("string"!==typeof e)throw TypeError("str");var r=new t(e.length/4*3,n),i=0;return c.decode(o(e),(function(e){r.view[i++]=e})),r.limit=i,r},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},n.toBinary=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";var n=[],r=[];while(e<t)n.push(this.view[e++]),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},t.fromBinary=function(e,n){if("string"!==typeof e)throw TypeError("str");var r,i=0,o=e.length,s=new t(o,n);while(i<o){if(r=e.charCodeAt(i),r>255)throw RangeError("illegal char code: "+r);s.view[i++]=r}return s.limit=o,s},n.toDebug=function(e){var t,n=-1,r=this.buffer.byteLength,i="",o="",s="";while(n<r){if(-1!==n&&(t=this.view[n],i+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16===0&&n!==r){while(i.length<51)i+=" ";s+=i+o+"\n",i=o=""}n===this.offset&&n===this.limit?i+=n===this.markedOffset?"!":"|":n===this.offset?i+=n===this.markedOffset?"[":"<":n===this.limit?i+=n===this.markedOffset?"]":">":i+=n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){while(i.length<51)i+=" ";s+=i+o+"\n"}return e?s:i},t.fromDebug=function(e,n,r){var i,o,s=e.length,a=new t((s+1)/3|0,n,r),u=0,c=0,f=!1,l=!1,h=!1,p=!1,d=!1;while(u<s){switch(i=e.charAt(u++)){case"!":if(!r){if(l||h||p){d=!0;break}l=h=p=!0}a.offset=a.markedOffset=a.limit=c,f=!1;break;case"|":if(!r){if(l||p){d=!0;break}l=p=!0}a.offset=a.limit=c,f=!1;break;case"[":if(!r){if(l||h){d=!0;break}l=h=!0}a.offset=a.markedOffset=c,f=!1;break;case"<":if(!r){if(l){d=!0;break}l=!0}a.offset=c,f=!1;break;case"]":if(!r){if(p||h){d=!0;break}p=h=!0}a.limit=a.markedOffset=c,f=!1;break;case">":if(!r){if(p){d=!0;break}p=!0}a.limit=c,f=!1;break;case"'":if(!r){if(h){d=!0;break}h=!0}a.markedOffset=c,f=!1;break;case" ":f=!1;break;default:if(!r&&f){d=!0;break}if(o=parseInt(i+e.charAt(u++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[c++]=o,f=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+u)}if(!r){if(!l||!p)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+s)}return a},n.toHex=function(e,t){if(e="undefined"===typeof e?this.offset:e,t="undefined"===typeof t?this.limit:t,!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n,r=new Array(t-e);while(e<t)n=this.view[e++],n<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},t.fromHex=function(e,n,r){if(!r){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=e.length,s=new t(o/2|0,n),a=0,u=0;a<o;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[u++]=i}return s.limit=u,s};var f=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;"number"===typeof e&&(n=e,e=function(){return null});while(null!==n||null!==(n=e()))n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},decodeUTF8:function(e,t){var n,r,i,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t["bytes"]=e,t};while(null!==(n=e()))if(0===(128&n))t(n);else if(192===(224&n))null===(r=e())&&s([n,r]),t((31&n)<<6|63&r);else if(224===(240&n))(null===(r=e())||null===(i=e()))&&s([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!==(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&s([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){var n,r=null;while(1){if(null===(n=null!==r?r:e()))break;n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n)}null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;"number"===typeof e&&(n=e,e=function(){return null});while(null!==n||null!==(n=e()))n<=65535?t(n):(n-=65536,t(55296+(n>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){var t,n=0;while(null!==(t=e()))n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,(function(e){++n,r+=e<128?1:e<2048?2:e<65536?3:4})),[n,r]}};return e}();return n.toUTF8=function(e,t){if("undefined"===typeof e&&(e=this.offset),"undefined"===typeof t&&(t=this.limit),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;try{f.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),n=s())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return n()},t.fromUTF8=function(e,n,r){if(!r&&"string"!==typeof e)throw TypeError("Illegal str: Not a string");var i=new t(f.calculateUTF16asUTF8(o(e),!0)[1],n,r),s=0;return f.encodeUTF16toUTF8(o(e),(function(e){i.view[s++]=e})),i.limit=s,i},t}))})),J={},Q=Object.freeze({__proto__:null,default:J}),X=s(Q),Z=o((function(e){
/**
	 * @license protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/protobuf.js for details
	 */
(function(t,n){"function"===typeof a&&e&&e["exports"]?e["exports"]=n(K,!0):(t["dcodeIO"]=t["dcodeIO"]||{})["ProtoBuf"]=n(t["dcodeIO"]["ByteBuffer"])})(r,(function(e,t){var r={};return r.ByteBuffer=e,r.Long=e.Long||null,r.VERSION="5.0.3",r.WIRE_TYPES={},r.WIRE_TYPES.VARINT=0,r.WIRE_TYPES.BITS64=1,r.WIRE_TYPES.LDELIM=2,r.WIRE_TYPES.STARTGROUP=3,r.WIRE_TYPES.ENDGROUP=4,r.WIRE_TYPES.BITS32=5,r.PACKABLE_WIRE_TYPES=[r.WIRE_TYPES.VARINT,r.WIRE_TYPES.BITS64,r.WIRE_TYPES.BITS32],r.TYPES={int32:{name:"int32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},uint64:{name:"uint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.UZERO:void 0},sint64:{name:"sint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},bool:{name:"bool",wireType:r.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:r.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:r.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.ZERO:void 0},float:{name:"float",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:r.WIRE_TYPES.STARTGROUP,defaultValue:null}},r.MAP_KEY_TYPES=[r.TYPES["int32"],r.TYPES["sint32"],r.TYPES["sfixed32"],r.TYPES["uint32"],r.TYPES["fixed32"],r.TYPES["int64"],r.TYPES["sint64"],r.TYPES["sfixed64"],r.TYPES["uint64"],r.TYPES["fixed64"],r.TYPES["bool"],r.TYPES["string"],r.TYPES["bytes"]],r.ID_MIN=1,r.ID_MAX=536870911,r.convertFieldsToCamelCase=!1,r.populateAccessors=!0,r.populateDefaults=!0,r.Util=function(){var e={};return e.IS_NODE=!("object"!==typeof n||n+""!=="[object process]"||n["browser"]),e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,n){if(n&&"function"!=typeof n&&(n=null),e.IS_NODE){var r=X;if(n)r.readFile(t,(function(e,t){n(e?null:""+t)}));else try{return r.readFileSync(t)}catch(o){return null}}else{var i=e.XHR();if(i.open("GET",t,!!n),i.setRequestHeader("Accept","text/plain"),"function"===typeof i.overrideMimeType&&i.overrideMimeType("text/plain"),!n)return i.send(null),200==i.status||0==i.status&&"string"===typeof i.responseText?i.responseText:null;if(i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0==i.status&&"string"===typeof i.responseText?n(i.responseText):n(null))},4==i.readyState)return;i.send(null)}},e.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},e}(),r.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,FQTYPEREF:/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},r.Reflect=function(t){var n={},r=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},i=r.prototype;i.fqn=function(){var e=this.name,t=this;do{if(t=t.parent,null==t)break;e=t.name+"."+e}while(1);return e},i.toString=function(e){return(e?this.className+" ":"")+this.fqn()},i.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=r;var o=function(e,t,n,i,o){r.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=o||"proto2"},s=o.prototype=Object.create(r.prototype);s.getChildren=function(e){if(e=e||null,null==e)return this.children.slice();for(var t=[],n=0,r=this.children.length;n<r;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},s.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof l.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof l.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},s.getChild=function(e){for(var t="number"===typeof e?"id":"name",n=0,r=this.children.length;n<r;++n)if(this.children[n][t]===e)return this.children[n];return null},s.resolve=function(e,t){var r,i="string"===typeof e?e.split("."):e,o=this,s=0;if(""===i[s]){while(null!==o.parent)o=o.parent;s++}do{do{if(!(o instanceof n.Namespace)){o=null;break}if(r=o.getChild(i[s]),!r||!(r instanceof n.T)||t&&!(r instanceof n.Namespace)){o=null;break}o=r,s++}while(s<i.length);if(null!=o)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=o);return o},s.qn=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var o=t.slice(t.length-i);if(e===this.resolve(o,e instanceof n.Namespace))return o.join(".")}return e.fqn()},s.build=function(){for(var e,t={},n=this.children,r=0,i=n.length;r<i;++r)e=n[r],e instanceof o&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},s.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,r=t.length;n<r;++n){var i=t[n],o=this.options[t[n]];e[i]=o}return e},s.getOption=function(e){return"undefined"===typeof e?this.options:"undefined"!==typeof this.options[e]?this.options[e]:null},n.Namespace=o;var a=function(e,n,r,i,o){if(this.type=e,this.resolvedType=n,this.isMapKey=r,this.syntax=i,this.name=o,r&&t.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},u=a.prototype;function c(n){if("string"===typeof n&&(n=t.TYPES[n]),"undefined"===typeof n.defaultValue)throw Error("default value for type "+n.name+" is not supported");return n==t.TYPES["bytes"]?new e(0):n.defaultValue}function f(e,n){if(e&&"number"===typeof e.low&&"number"===typeof e.high&&"boolean"===typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,"undefined"===typeof n?e.unsigned:n);if("string"===typeof e)return t.Long.fromString(e,n||!1,10);if("number"===typeof e)return t.Long.fromNumber(e,n||!1);throw Error("not convertible to Long")}a.defaultFieldValue=c,u.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},u.verifyValue=function(n){var r=this;function i(e,t){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+e+" ("+t+")")}switch(this.type){case t.TYPES["int32"]:case t.TYPES["sint32"]:case t.TYPES["sfixed32"]:return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),n>4294967295?0|n:n;case t.TYPES["uint32"]:case t.TYPES["fixed32"]:return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),n<0?n>>>0:n;case t.TYPES["int64"]:case t.TYPES["sint64"]:case t.TYPES["sfixed64"]:if(t.Long)try{return f(n,!1)}catch(u){i(typeof n,u.message)}else i(typeof n,"requires Long.js");case t.TYPES["uint64"]:case t.TYPES["fixed64"]:if(t.Long)try{return f(n,!0)}catch(u){i(typeof n,u.message)}else i(typeof n,"requires Long.js");case t.TYPES["bool"]:return"boolean"!==typeof n&&i(typeof n,"not a boolean"),n;case t.TYPES["float"]:case t.TYPES["double"]:return"number"!==typeof n&&i(typeof n,"not a number"),n;case t.TYPES["string"]:return"string"===typeof n||n&&n instanceof String||i(typeof n,"not a string"),""+n;case t.TYPES["bytes"]:return e.isByteBuffer(n)?n:e.wrap(n,"base64");case t.TYPES["enum"]:var o=this.resolvedType.getChildren(t.Reflect.Enum.Value);for(a=0;a<o.length;a++){if(o[a].name==n)return o[a].id;if(o[a].id==n)return o[a].id}if("proto3"===this.syntax)return("number"!==typeof n||n===n&&n%1!==0)&&i(typeof n,"not an integer"),(n>4294967295||n<0)&&i(typeof n,"not in range for uint32"),n;i(n,"not a valid enum value");case t.TYPES["group"]:case t.TYPES["message"]:if(n&&"object"===typeof n||i(typeof n,"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof t.Builder.Message){var s={};for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);n=s}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},u.calculateLength=function(n,r){if(null===r)return 0;var i;switch(this.type){case t.TYPES["int32"]:return r<0?e.calculateVarint64(r):e.calculateVarint32(r);case t.TYPES["uint32"]:return e.calculateVarint32(r);case t.TYPES["sint32"]:return e.calculateVarint32(e.zigZagEncode32(r));case t.TYPES["fixed32"]:case t.TYPES["sfixed32"]:case t.TYPES["float"]:return 4;case t.TYPES["int64"]:case t.TYPES["uint64"]:return e.calculateVarint64(r);case t.TYPES["sint64"]:return e.calculateVarint64(e.zigZagEncode64(r));case t.TYPES["fixed64"]:case t.TYPES["sfixed64"]:return 8;case t.TYPES["bool"]:return 1;case t.TYPES["enum"]:return e.calculateVarint32(r);case t.TYPES["double"]:return 8;case t.TYPES["string"]:return i=e.calculateUTF8Bytes(r),e.calculateVarint32(i)+i;case t.TYPES["bytes"]:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return e.calculateVarint32(r.remaining())+r.remaining();case t.TYPES["message"]:return i=this.resolvedType.calculate(r),e.calculateVarint32(i)+i;case t.TYPES["group"]:return i=this.resolvedType.calculate(r),i+e.calculateVarint32(n<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},u.encodeValue=function(n,r,i){if(null===r)return i;switch(this.type){case t.TYPES["int32"]:r<0?i.writeVarint64(r):i.writeVarint32(r);break;case t.TYPES["uint32"]:i.writeVarint32(r);break;case t.TYPES["sint32"]:i.writeVarint32ZigZag(r);break;case t.TYPES["fixed32"]:i.writeUint32(r);break;case t.TYPES["sfixed32"]:i.writeInt32(r);break;case t.TYPES["int64"]:case t.TYPES["uint64"]:i.writeVarint64(r);break;case t.TYPES["sint64"]:i.writeVarint64ZigZag(r);break;case t.TYPES["fixed64"]:i.writeUint64(r);break;case t.TYPES["sfixed64"]:i.writeInt64(r);break;case t.TYPES["bool"]:"string"===typeof r?i.writeVarint32("false"===r.toLowerCase()?0:!!r):i.writeVarint32(r?1:0);break;case t.TYPES["enum"]:i.writeVarint32(r);break;case t.TYPES["float"]:i.writeFloat32(r);break;case t.TYPES["double"]:i.writeFloat64(r);break;case t.TYPES["string"]:i.writeVString(r);break;case t.TYPES["bytes"]:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");var o=r.offset;i.writeVarint32(r.remaining()),i.append(r),r.offset=o;break;case t.TYPES["message"]:var s=(new e).LE();this.resolvedType.encode(r,s),i.writeVarint32(s.offset),i.append(s.flip());break;case t.TYPES["group"]:this.resolvedType.encode(r,i),i.writeVarint32(n<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return i},u.decode=function(e,n,r){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var i,o;switch(this.type){case t.TYPES["int32"]:return 0|e.readVarint32();case t.TYPES["uint32"]:return e.readVarint32()>>>0;case t.TYPES["sint32"]:return 0|e.readVarint32ZigZag();case t.TYPES["fixed32"]:return e.readUint32()>>>0;case t.TYPES["sfixed32"]:return 0|e.readInt32();case t.TYPES["int64"]:return e.readVarint64();case t.TYPES["uint64"]:return e.readVarint64().toUnsigned();case t.TYPES["sint64"]:return e.readVarint64ZigZag();case t.TYPES["fixed64"]:return e.readUint64();case t.TYPES["sfixed64"]:return e.readInt64();case t.TYPES["bool"]:return!!e.readVarint32();case t.TYPES["enum"]:return e.readVarint32();case t.TYPES["float"]:return e.readFloat();case t.TYPES["double"]:return e.readDouble();case t.TYPES["string"]:return e.readVString();case t.TYPES["bytes"]:if(o=e.readVarint32(),e.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+e.remaining());return i=e.clone(),i.limit=i.offset+o,e.offset+=o,i;case t.TYPES["message"]:return o=e.readVarint32(),this.resolvedType.decode(e,o);case t.TYPES["group"]:return this.resolvedType.decode(e,-1,r)}throw Error("[INTERNAL] Illegal decode type")},u.valueFromString=function(n){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES["int32"]:case t.TYPES["sint32"]:case t.TYPES["sfixed32"]:case t.TYPES["uint32"]:case t.TYPES["fixed32"]:return this.verifyValue(parseInt(n));case t.TYPES["int64"]:case t.TYPES["sint64"]:case t.TYPES["sfixed64"]:case t.TYPES["uint64"]:case t.TYPES["fixed64"]:return this.verifyValue(n);case t.TYPES["bool"]:return"true"===n;case t.TYPES["string"]:return this.verifyValue(n);case t.TYPES["bytes"]:return e.fromBinary(n)}},u.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES["bytes"]?e.toString("binary"):e.toString()},n.Element=a;var l=function(e,t,n,r,i,s){o.call(this,e,t,n,r,s),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null},h=l.prototype=Object.create(o.prototype);function p(e,n){var r=n.readVarint32(),i=7&r,o=r>>>3;switch(i){case t.WIRE_TYPES.VARINT:do{r=n.readUint8()}while(128===(128&r));break;case t.WIRE_TYPES.BITS64:n.offset+=8;break;case t.WIRE_TYPES.LDELIM:r=n.readVarint32(),n.offset+=r;break;case t.WIRE_TYPES.STARTGROUP:p(o,n);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+i)}return!0}h.build=function(n){if(this.clazz&&!n)return this.clazz;var r=function(t,n){var r=n.getChildren(t.Reflect.Message.Field),i=n.getChildren(t.Reflect.Message.OneOf),o=function(s,a){t.Builder.Message.call(this);for(var u=0,c=i.length;u<c;++u)this[i[u].name]=null;for(u=0,c=r.length;u<c;++u){var f=r[u];this[f.name]=f.repeated?[]:f.map?new t.Map(f):null,!f.required&&"proto3"!==n.syntax||null===f.defaultValue||(this[f.name]=f.defaultValue)}var l;if(arguments.length>0)if(1!==arguments.length||null===s||"object"!==typeof s||!("function"!==typeof s.encode||s instanceof o)||Array.isArray(s)||s instanceof t.Map||e.isByteBuffer(s)||s instanceof ArrayBuffer||t.Long&&s instanceof t.Long)for(u=0,c=arguments.length;u<c;++u)"undefined"!==typeof(l=arguments[u])&&this.$set(r[u].name,l);else this.$set(s)},s=o.prototype=Object.create(t.Builder.Message.prototype);s.add=function(e,r,i){var o=n._fieldsByName[e];if(!i){if(!o)throw Error(this+"#"+e+" is undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+e+" is not a repeated field");r=o.verifyValue(r,!0)}return null===this[e]&&(this[e]=[]),this[e].push(r),this},s.$add=s.add,s.set=function(e,r,i){if(e&&"object"===typeof e){for(var o in i=r,e)e.hasOwnProperty(o)&&"undefined"!==typeof(r=e[o])&&void 0===n._oneofsByName[o]&&this.$set(o,r,i);return this}var s=n._fieldsByName[e];if(i)this[e]=r;else{if(!s)throw Error(this+"#"+e+" is not a field: undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));this[s.name]=r=s.verifyValue(r)}if(s&&s.oneof){var a=this[s.oneof.name];null!==r?(null!==a&&a!==s.name&&(this[a]=null),this[s.oneof.name]=s.name):a===e&&(this[s.oneof.name]=null)}return this},s.$set=s.set,s.get=function(e,r){if(r)return this[e];var i=n._fieldsByName[e];if(!i||!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(i instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+i.toString(!0));return this[i.name]},s.$get=s.get;for(var a=0;a<r.length;a++){var u=r[a];u instanceof t.Reflect.Message.ExtensionField||n.builder.options["populateAccessors"]&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}));t=t.substring(0,1).toUpperCase()+t.substring(1);var r=e.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),i=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===n.getChild("set"+t)&&(s["set"+t]=i),null===n.getChild("set_"+r)&&(s["set_"+r]=i),null===n.getChild("get"+t)&&(s["get"+t]=o),null===n.getChild("get_"+r)&&(s["get_"+r]=o)}(u)}function c(n,r,i,o){if(null===n||"object"!==typeof n){if(o&&o instanceof t.Reflect.Enum){var s=t.Reflect.Enum.getName(o.object,n);if(null!==s)return s}return n}if(e.isByteBuffer(n))return r?n.toBase64():n.toBuffer();if(t.Long.isLong(n))return i?n.toString():t.Long.fromValue(n);var a;if(Array.isArray(n))return a=[],n.forEach((function(e,t){a[t]=c(e,r,i,o)})),a;if(a={},n instanceof t.Map){for(var u=n.entries(),f=u.next();!f.done;f=u.next())a[n.keyElem.valueToString(f.value[0])]=c(f.value[1],r,i,n.valueElem.resolvedType);return a}var l=n.$type,h=void 0;for(var p in n)n.hasOwnProperty(p)&&(l&&(h=l.getChild(p))?a[p]=c(n[p],r,i,h.resolvedType):a[p]=c(n[p],r,i));return a}return s.encode=function(t,r){"boolean"===typeof t&&(r=t,t=void 0);var i=!1;t||(t=new e,i=!0);var o=t.littleEndian;try{return n.encode(this,t.LE(),r),(i?t.flip():t).LE(o)}catch(s){throw t.LE(o),s}},o.encode=function(e,t,n){return new o(e).encode(t,n)},s.calculate=function(){return n.calculate(this)},s.encodeDelimited=function(t,r){var i=!1;t||(t=new e,i=!0);var o=(new e).LE();return n.encode(this,o,r).flip(),t.writeVarint32(o.remaining()),t.append(o),i?t.flip():t},s.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toArrayBuffer()),e}},s.toArrayBuffer=s.encodeAB,s.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toBuffer()),e}},s.toBuffer=s.encodeNB,s.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toBase64()),e}},s.toBase64=s.encode64,s.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e["encoded"]&&(e["encoded"]=e["encoded"].toHex()),e}},s.toHex=s.encodeHex,s.toRaw=function(e,t){return c(this,!!e,!!t,this.$type)},s.encodeJSON=function(){return JSON.stringify(c(this,!0,!0,this.$type))},o.decode=function(t,r,i){"string"===typeof r&&(i=r,r=-1),"string"===typeof t?t=e.wrap(t,i||"base64"):e.isByteBuffer(t)||(t=e.wrap(t));var o=t.littleEndian;try{var s=n.decode(t.LE(),r);return t.LE(o),s}catch(a){throw t.LE(o),a}},o.decodeDelimited=function(t,r){if("string"===typeof t?t=e.wrap(t,r||"base64"):e.isByteBuffer(t)||(t=e.wrap(t)),t.remaining()<1)return null;var i=t.offset,o=t.readVarint32();if(t.remaining()<o)return t.offset=i,null;try{var s=n.decode(t.slice(t.offset,t.offset+o).LE());return t.offset+=o,s}catch(a){throw t.offset+=o,a}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},o.decodeJSON=function(e){return new o(JSON.parse(e))},s.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(s,"$options",{value:o["$options"]}),Object.defineProperty(o,"$type",{value:n}),Object.defineProperty(s,"$type",{value:n})),o}(t,this);this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var i,o=0,s=this.children.length;o<s;o++)if(i=this.children[o],i instanceof m||i instanceof l||i instanceof E){if(r.hasOwnProperty(i.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+i.toString(!0)+" cannot override static property '"+i.name+"'");r[i.name]=i.build()}else if(i instanceof l.Field)i.build(),this._fields.push(i),this._fieldsById[i.id]=i,this._fieldsByName[i.name]=i;else if(i instanceof l.OneOf)this._oneofsByName[i.name]=i;else if(!(i instanceof l.OneOf)&&!(i instanceof w))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=r},h.encode=function(e,t,n){for(var r,i,o=null,s=0,a=this._fields.length;s<a;++s)r=this._fields[s],i=e[r.name],r.required&&null===i?null===o&&(o=r):r.encode(n?i:r.verifyValue(i),t,e);if(null!==o){var u=Error("Missing at least one required field for "+this.toString(!0)+": "+o);throw u["encoded"]=t,u}return t},h.calculate=function(e){for(var t,n,r=0,i=0,o=this._fields.length;i<o;++i){if(t=this._fields[i],n=e[t.name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(n,e)}return r},h.decode=function(e,n,r){"number"!==typeof n&&(n=-1);var i,o,s,a,u=e.offset,c=new this.clazz;while(e.offset<u+n||-1===n&&e.remaining()>0){if(i=e.readVarint32(),o=7&i,s=i>>>3,o===t.WIRE_TYPES.ENDGROUP){if(s!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+s+" ("+(r?r+" expected":"not a group")+")");break}if(a=this._fieldsById[s]){if(a.repeated&&!a.options["packed"])c[a.name].push(a.decode(o,e));else if(a.map){var f=a.decode(o,e);c[a.name].set(f[0],f[1])}else if(c[a.name]=a.decode(o,e),a.oneof){var l=c[a.oneof.name];null!==l&&l!==a.name&&(c[l]=null),c[a.oneof.name]=a.name}}else switch(o){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:var h=e.readVarint32();e.offset+=h;break;case t.WIRE_TYPES.STARTGROUP:while(p(s,e));break;default:throw Error("Illegal wire type for unknown field "+s+" in "+this.toString(!0)+"#decode: "+o)}}for(var d=0,y=this._fields.length;d<y;++d)if(a=this._fields[d],null===c[a.name])if("proto3"===this.syntax)c[a.name]=a.defaultValue;else{if(a.required){var v=Error("Missing at least one required field for "+this.toString(!0)+": "+a.name);throw v["decoded"]=c,v}t.populateDefaults&&null!==a.defaultValue&&(c[a.name]=a.defaultValue)}return c},n.Message=l;var d=function(e,n,i,o,s,a,u,c,f,h){r.call(this,e,n,a),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=o||null,this.type=s,this.resolvedType=null,this.id=u,this.options=c||{},this.defaultValue=null,this.oneof=f||null,this.syntax=h||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options["convertFieldsToCamelCase"]||this instanceof l.ExtensionField||(this.name=t.Util.toCamelCase(this.name))},y=d.prototype=Object.create(r.prototype);y.build=function(){this.element=new a(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new a(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?"undefined"!==typeof this.options["default"]&&(this.defaultValue=this.verifyValue(this.options["default"])):this.defaultValue=a.defaultFieldValue(this.type)},y.verifyValue=function(e,n){n=n||!1;var r,i=this;function o(e,t){throw Error("Illegal value for "+i.toString(!0)+" of type "+i.type.name+": "+e+" ("+t+")")}if(null===e)return this.required&&o(typeof e,"required"),"proto3"===this.syntax&&this.type!==t.TYPES["message"]&&o(typeof e,"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){Array.isArray(e)||(e=[e]);var s=[];for(r=0;r<e.length;r++)s.push(this.element.verifyValue(e[r]));return s}return this.map&&!n?e instanceof t.Map?e:(e instanceof Object||o(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&o(typeof e,"no array expected"),this.element.verifyValue(e))},y.hasWirePresence=function(e,n){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case t.TYPES["int32"]:case t.TYPES["sint32"]:case t.TYPES["sfixed32"]:case t.TYPES["uint32"]:case t.TYPES["fixed32"]:return 0!==e;case t.TYPES["int64"]:case t.TYPES["sint64"]:case t.TYPES["sfixed64"]:case t.TYPES["uint64"]:case t.TYPES["fixed64"]:return 0!==e.low||0!==e.high;case t.TYPES["bool"]:return e;case t.TYPES["float"]:case t.TYPES["double"]:return 0!==e;case t.TYPES["string"]:return e.length>0;case t.TYPES["bytes"]:return e.remaining()>0;case t.TYPES["enum"]:return 0!==e;case t.TYPES["message"]:return null!==e;default:return!0}},y.encode=function(n,r,i){if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return r;try{var o;if(this.repeated)if(this.options["packed"]&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var s=r.offset;for(o=0;o<n.length;o++)this.element.encodeValue(this.id,n[o],r);var a=r.offset-s,u=e.calculateVarint32(a);if(u>1){var c=r.slice(s,r.offset);s+=u-1,r.offset=s,r.append(c)}r.writeVarint32(a,s-u)}else for(o=0;o<n.length;o++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n[o],r);else this.map?n.forEach((function(n,i,o){var s=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.writeVarint32(s),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,n,r)}),this):this.hasWirePresence(n,i)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n,r))}catch(f){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+f+")")}return r},y.calculate=function(n,r){if(n=this.verifyValue(n),null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var i=0;try{var o,s;if(this.repeated)if(this.options["packed"]&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),s=0,o=0;o<n.length;o++)s+=this.element.calculateLength(this.id,n[o]);i+=e.calculateVarint32(s),i+=s}else for(o=0;o<n.length;o++)i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n[o]);else this.map?n.forEach((function(n,r,o){var s=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);i+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),i+=e.calculateVarint32(s),i+=s}),this):this.hasWirePresence(n,r)&&(i+=e.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n))}catch(a){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+a+")")}return i},y.decode=function(e,n,r){var i,o,s=!this.map&&e==this.type.wireType||!r&&this.repeated&&this.options["packed"]&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM;if(!s)throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options["packed"]&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){o=n.readVarint32(),o=n.offset+o;var u=[];while(n.offset<o)u.push(this.decode(this.type.wireType,n,!0));return u}if(this.map){var c=a.defaultFieldValue(this.keyType);if(i=a.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());var f=n.clone();f.limit=f.offset+o,n.offset+=o;while(f.remaining()>0){var l=f.readVarint32();e=7&l;var h=l>>>3;if(1===h)c=this.keyElement.decode(f,e,h);else{if(2!==h)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(f,e,h)}}return[c,i]}return this.element.decode(n,e,this.id)},n.Message.Field=d;var v=function(e,t,n,r,i,o,s){d.call(this,e,t,n,null,r,i,o,s),this.extension};v.prototype=Object.create(d.prototype),n.Message.ExtensionField=v;var g=function(e,t,n){r.call(this,e,t,n),this.fields=[]};n.Message.OneOf=g;var m=function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.className="Enum",this.object=null};m.getName=function(e,t){for(var n,r=Object.keys(e),i=0;i<r.length;++i)if(e[n=r[i]]===t)return n;return null};var _=m.prototype=Object.create(o.prototype);_.build=function(e){if(this.object&&!e)return this.object;for(var n=new t.Builder.Enum,r=this.getChildren(m.Value),i=0,o=r.length;i<o;++i)n[r[i]["name"]]=r[i]["id"];return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},n.Enum=m;var b=function(e,t,n,i){r.call(this,e,t,n),this.className="Enum.Value",this.id=i};b.prototype=Object.create(r.prototype),n.Enum.Value=b;var w=function(e,t,n,i){r.call(this,e,t,n),this.field=i};w.prototype=Object.create(r.prototype),n.Extension=w;var E=function(e,t,n,r){o.call(this,e,t,n,r),this.className="Service",this.clazz=null},O=E.prototype=Object.create(o.prototype);O.build=function(n){return this.clazz&&!n?this.clazz:this.clazz=function(t,n){for(var r=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},i=r.prototype=Object.create(t.Builder.Service.prototype),o=n.getChildren(t.Reflect.Service.RPCMethod),s=0;s<o.length;s++)(function(t){i[t.name]=function(r,i){try{try{r=t.resolvedRequestType.clazz.decode(e.wrap(r))}catch(o){if(!(o instanceof TypeError))throw o}if(null===r||"object"!==typeof r)throw Error("Illegal arguments");r instanceof t.resolvedRequestType.clazz||(r=new t.resolvedRequestType.clazz(r)),this.rpcImpl(t.fqn(),r,(function(e,r){if(e)i(e);else{null===r&&(r="");try{r=t.resolvedResponseType.clazz.decode(r)}catch(o){}r&&r instanceof t.resolvedResponseType.clazz?i(null,r):i(Error("Illegal response type received in service method "+n.name+"#"+t.name))}}))}catch(o){setTimeout(i.bind(this,o),0)}},r[t.name]=function(e,n,i){new r(e)[t.name](n,i)},Object.defineProperty&&(Object.defineProperty(r[t.name],"$options",{value:t.buildOpt()}),Object.defineProperty(i[t.name],"$options",{value:r[t.name]["$options"]}))})(o[s]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:n.buildOpt()}),Object.defineProperty(i,"$options",{value:r["$options"]}),Object.defineProperty(r,"$type",{value:n}),Object.defineProperty(i,"$type",{value:n})),r}(t,this)},n.Service=E;var S=function(e,t,n,i){r.call(this,e,t,n),this.className="Service.Method",this.options=i||{}},T=S.prototype=Object.create(r.prototype);T.buildOpt=s.buildOpt,n.Service.Method=S;var A=function(e,t,n,r,i,o,s,a){S.call(this,e,t,n,a),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.requestStream=o,this.responseStream=s,this.resolvedRequestType=null,this.resolvedResponseType=null};return A.prototype=Object.create(S.prototype),n.Service.RPCMethod=A,n}(r),r.Builder=function(e,t,n){var r=function(e){this.ns=new n.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},i=r.prototype;function o(e){e["messages"]&&e["messages"].forEach((function(t){t["syntax"]=e["syntax"],o(t)})),e["enums"]&&e["enums"].forEach((function(t){t["syntax"]=e["syntax"]}))}return r.isMessage=function(e){return"string"===typeof e["name"]&&("undefined"===typeof e["values"]&&"undefined"===typeof e["rpc"])},r.isMessageField=function(e){return"string"===typeof e["rule"]&&"string"===typeof e["name"]&&"string"===typeof e["type"]&&"undefined"!==typeof e["id"]},r.isEnum=function(e){return"string"===typeof e["name"]&&!("undefined"===typeof e["values"]||!Array.isArray(e["values"])||0===e["values"].length)},r.isService=function(e){return!("string"!==typeof e["name"]||"object"!==typeof e["rpc"]||!e["rpc"])},r.isExtend=function(e){return"string"===typeof e["ref"]},i.reset=function(){return this.ptr=this.ns,this},i.define=function(e){if("string"!==typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new n.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},i.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];var i=[t];while(i.length>0){if(t=i.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));while(t.length>0){var o=t.shift();if(r.isMessage(o)){var s=new n.Message(this,this.ptr,o["name"],o["options"],o["isGroup"],o["syntax"]),a={};o["oneofs"]&&Object.keys(o["oneofs"]).forEach((function(e){s.addChild(a[e]=new n.Message.OneOf(this,s,e))}),this),o["fields"]&&o["fields"].forEach((function(e){if(null!==s.getChild(0|e["id"]))throw Error("duplicate or invalid field id in "+s.name+": "+e["id"]);if(e["options"]&&"object"!==typeof e["options"])throw Error("illegal field options in "+s.name+"#"+e["name"]);var t=null;if("string"===typeof e["oneof"]&&!(t=a[e["oneof"]]))throw Error("illegal oneof in "+s.name+"#"+e["name"]+": "+e["oneof"]);e=new n.Message.Field(this,s,e["rule"],e["keytype"],e["type"],e["name"],e["id"],e["options"],t,o["syntax"]),t&&t.fields.push(e),s.addChild(e)}),this);var u=[];if(o["enums"]&&o["enums"].forEach((function(e){u.push(e)})),o["messages"]&&o["messages"].forEach((function(e){u.push(e)})),o["services"]&&o["services"].forEach((function(e){u.push(e)})),o["extensions"]&&("number"===typeof o["extensions"][0]?s.extensions=[o["extensions"]]:s.extensions=o["extensions"]),this.ptr.addChild(s),u.length>0){i.push(t),t=u,u=null,this.ptr=s,s=null;continue}u=null}else if(r.isEnum(o))s=new n.Enum(this,this.ptr,o["name"],o["options"],o["syntax"]),o["values"].forEach((function(e){s.addChild(new n.Enum.Value(this,s,e["name"],e["id"]))}),this),this.ptr.addChild(s);else if(r.isService(o))s=new n.Service(this,this.ptr,o["name"],o["options"]),Object.keys(o["rpc"]).forEach((function(e){var t=o["rpc"][e];s.addChild(new n.Service.RPCMethod(this,s,e,t["request"],t["response"],!!t["request_stream"],!!t["response_stream"],t["options"]))}),this),this.ptr.addChild(s);else{if(!r.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(s=this.ptr.resolve(o["ref"],!0),s)o["fields"].forEach((function(t){if(null!==s.getChild(0|t["id"]))throw Error("duplicate extended field id in "+s.name+": "+t["id"]);if(s.extensions){var r=!1;if(s.extensions.forEach((function(e){t["id"]>=e[0]&&t["id"]<=e[1]&&(r=!0)})),!r)throw Error("illegal extended field id in "+s.name+": "+t["id"]+" (not within valid ranges)")}var i=t["name"];this.options["convertFieldsToCamelCase"]&&(i=e.Util.toCamelCase(i));var o=new n.Message.ExtensionField(this,s,t["rule"],t["type"],this.ptr.fqn()+"."+i,t["id"],t["options"]),a=new n.Extension(this,this.ptr,t["name"],o);o.extension=a,this.ptr.addChild(a),s.addChild(o)}),this);else if(!/\.?google\.protobuf\./.test(o["ref"]))throw Error("extended message "+o["ref"]+" is not defined")}o=null,s=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},i["import"]=function(t,n){var r="/";if("string"===typeof n){if(e.Util.IS_NODE&&(n=X["resolve"](n)),!0===this.files[n])return this.reset();this.files[n]=!0}else if("object"===typeof n){var i,s=n.root;if(e.Util.IS_NODE&&(s=X["resolve"](s)),(s.indexOf("\\")>=0||n.file.indexOf("\\")>=0)&&(r="\\"),i=e.Util.IS_NODE?X["join"](s,n.file):s+r+n.file,!0===this.files[i])return this.reset();this.files[i]=!0}if(t["imports"]&&t["imports"].length>0){var a,u=!1;"object"===typeof n?(this.importRoot=n["root"],u=!0,a=this.importRoot,n=n["file"],(a.indexOf("\\")>=0||n.indexOf("\\")>=0)&&(r="\\")):"string"===typeof n?this.importRoot?a=this.importRoot:n.indexOf("/")>=0?(a=n.replace(/\/[^\/]*$/,""),""===a&&(a="/")):n.indexOf("\\")>=0?(a=n.replace(/\\[^\\]*$/,""),r="\\"):a=".":a=null;for(var c=0;c<t["imports"].length;c++)if("string"===typeof t["imports"][c]){if(!a)throw Error("cannot determine import root");var f=t["imports"][c];if("google/protobuf/descriptor.proto"===f)continue;if(f=e.Util.IS_NODE?X["join"](a,f):a+r+f,!0===this.files[f])continue;/\.proto$/i.test(f)&&!e.DotProto&&(f=f.replace(/\.proto$/,".json"));var l=e.Util.fetch(f);if(null===l)throw Error("failed to import '"+f+"' in '"+n+"': file not found");/\.json$/i.test(f)?this["import"](JSON.parse(l+""),f):this["import"](e.DotProto.Parser.parse(l),f)}else n?/\.(\w+)$/.test(n)?this["import"](t["imports"][c],n.replace(/^(.+)\.(\w+)$/,(function(e,t,n){return t+"_import"+c+"."+n}))):this["import"](t["imports"][c],n+"_import"+c):this["import"](t["imports"][c]);u&&(this.importRoot=null)}t["package"]&&this.define(t["package"]),t["syntax"]&&o(t);var h=this.ptr;return t["options"]&&Object.keys(t["options"]).forEach((function(e){h.options[e]=t["options"][e]})),t["messages"]&&(this.create(t["messages"]),this.ptr=h),t["enums"]&&(this.create(t["enums"]),this.ptr=h),t["services"]&&(this.create(t["services"]),this.ptr=h),t["extends"]&&this.create(t["extends"]),this.reset()},i.resolveAll=function(){var r;if(null==this.ptr||"object"===typeof this.ptr.type)return this;if(this.ptr instanceof n.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof n.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(r=(this.ptr instanceof n.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!r)throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=r,r instanceof n.Enum){if(this.ptr.type=e.TYPES["enum"],"proto3"===this.ptr.syntax&&"proto3"!==r.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(r instanceof n.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=r.isGroup?e.TYPES["group"]:e.TYPES["message"]}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==e.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(r=this.ptr.parent.resolve(this.ptr.requestName,!0),!r||!(r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=r,r=this.ptr.parent.resolve(this.ptr.responseName,!0),!r||!(r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=r}else if(!(this.ptr instanceof e.Reflect.Message.OneOf)&&!(this.ptr instanceof e.Reflect.Extension)&&!(this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},i.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"===typeof e?e.split("."):e,n=this.result,r=0;r<t.length;r++){if(!n[t[r]]){n=null;break}n=n[t[r]]}return n},i.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},i.toString=function(){return"Builder"},r.Message=function(){},r.Enum=function(){},r.Service=function(){},r}(r,r.Lang,r.Reflect),r.Map=function(e,t){var n=function(e,n){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=this.keyElem.valueFromString(r[i]),s=this.valueElem.verifyValue(n[r[i]]);this.map[this.keyElem.valueToString(o)]={key:o,value:s}}},r=n.prototype;function i(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}return r.clear=function(){this.map={}},r["delete"]=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},r.entries=function(){for(var e,t=[],n=Object.keys(this.map),r=0;r<n.length;r++)t.push([(e=this.map[n[r]]).key,e.value]);return i(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].key);return i(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].value);return i(e)},r.forEach=function(e,t){for(var n,r=Object.keys(this.map),i=0;i<r.length;i++)e.call(t,(n=this.map[r[i]]).value,n.key,this)},r.set=function(e,t){var n=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:r},this},r.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));if(t in this.map)return this.map[t].value},r.has=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));return t in this.map},n}(0,r.Reflect),r.newBuilder=function(e){return e=e||{},"undefined"===typeof e["convertFieldsToCamelCase"]&&(e["convertFieldsToCamelCase"]=r.convertFieldsToCamelCase),"undefined"===typeof e["populateAccessors"]&&(e["populateAccessors"]=r.populateAccessors),new r.Builder(e)},r.loadJson=function(e,t,n){return("string"===typeof t||t&&"string"===typeof t["file"]&&"string"===typeof t["root"])&&(n=t,t=null),t&&"object"===typeof t||(t=r.newBuilder()),"string"===typeof e&&(e=JSON.parse(e)),t["import"](e,n),t.resolveAll(),t},r.loadJsonFile=function(e,t,n){if(t&&"object"===typeof t?(n=t,t=null):t&&"function"===typeof t||(t=null),t)return r.Util.fetch("string"===typeof e?e:e["root"]+"/"+e["file"],(function(i){if(null!==i)try{t(null,r.loadJson(JSON.parse(i),n,e))}catch(o){t(o)}else t(Error("Failed to fetch file"))}));var i=r.Util.fetch("object"===typeof e?e["root"]+"/"+e["file"]:e);return null===i?null:r.loadJson(JSON.parse(i),n,e)},r}))})),ee=Z.newBuilder({})["import"]({package:"push_server.messages2",syntax:"proto2",options:{objc_class_prefix:"AVIM"},messages:[{name:"JsonObjectMessage",syntax:"proto2",fields:[{rule:"required",type:"string",name:"data",id:1}]},{name:"UnreadTuple",syntax:"proto2",fields:[{rule:"required",type:"string",name:"cid",id:1},{rule:"required",type:"int32",name:"unread",id:2},{rule:"optional",type:"string",name:"mid",id:3},{rule:"optional",type:"int64",name:"timestamp",id:4},{rule:"optional",type:"string",name:"from",id:5},{rule:"optional",type:"string",name:"data",id:6},{rule:"optional",type:"int64",name:"patchTimestamp",id:7},{rule:"optional",type:"bool",name:"mentioned",id:8},{rule:"optional",type:"bytes",name:"binaryMsg",id:9},{rule:"optional",type:"int32",name:"convType",id:10}]},{name:"LogItem",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"from",id:1},{rule:"optional",type:"string",name:"data",id:2},{rule:"optional",type:"int64",name:"timestamp",id:3},{rule:"optional",type:"string",name:"msgId",id:4},{rule:"optional",type:"int64",name:"ackAt",id:5},{rule:"optional",type:"int64",name:"readAt",id:6},{rule:"optional",type:"int64",name:"patchTimestamp",id:7},{rule:"optional",type:"bool",name:"mentionAll",id:8},{rule:"repeated",type:"string",name:"mentionPids",id:9},{rule:"optional",type:"bool",name:"bin",id:10},{rule:"optional",type:"int32",name:"convType",id:11}]},{name:"ConvMemberInfo",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"pid",id:1},{rule:"optional",type:"string",name:"role",id:2},{rule:"optional",type:"string",name:"infoId",id:3}]},{name:"DataCommand",syntax:"proto2",fields:[{rule:"repeated",type:"string",name:"ids",id:1},{rule:"repeated",type:"JsonObjectMessage",name:"msg",id:2},{rule:"optional",type:"bool",name:"offline",id:3}]},{name:"SessionCommand",syntax:"proto2",fields:[{rule:"optional",type:"int64",name:"t",id:1},{rule:"optional",type:"string",name:"n",id:2},{rule:"optional",type:"string",name:"s",id:3},{rule:"optional",type:"string",name:"ua",id:4},{rule:"optional",type:"bool",name:"r",id:5},{rule:"optional",type:"string",name:"tag",id:6},{rule:"optional",type:"string",name:"deviceId",id:7},{rule:"repeated",type:"string",name:"sessionPeerIds",id:8},{rule:"repeated",type:"string",name:"onlineSessionPeerIds",id:9},{rule:"optional",type:"string",name:"st",id:10},{rule:"optional",type:"int32",name:"stTtl",id:11},{rule:"optional",type:"int32",name:"code",id:12},{rule:"optional",type:"string",name:"reason",id:13},{rule:"optional",type:"string",name:"deviceToken",id:14},{rule:"optional",type:"bool",name:"sp",id:15},{rule:"optional",type:"string",name:"detail",id:16},{rule:"optional",type:"int64",name:"lastUnreadNotifTime",id:17},{rule:"optional",type:"int64",name:"lastPatchTime",id:18},{rule:"optional",type:"int64",name:"configBitmap",id:19}]},{name:"ErrorCommand",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"code",id:1},{rule:"required",type:"string",name:"reason",id:2},{rule:"optional",type:"int32",name:"appCode",id:3},{rule:"optional",type:"string",name:"detail",id:4},{rule:"repeated",type:"string",name:"pids",id:5},{rule:"optional",type:"string",name:"appMsg",id:6}]},{name:"DirectCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"msg",id:1},{rule:"optional",type:"string",name:"uid",id:2},{rule:"optional",type:"string",name:"fromPeerId",id:3},{rule:"optional",type:"int64",name:"timestamp",id:4},{rule:"optional",type:"bool",name:"offline",id:5},{rule:"optional",type:"bool",name:"hasMore",id:6},{rule:"repeated",type:"string",name:"toPeerIds",id:7},{rule:"optional",type:"bool",name:"r",id:10},{rule:"optional",type:"string",name:"cid",id:11},{rule:"optional",type:"string",name:"id",id:12},{rule:"optional",type:"bool",name:"transient",id:13},{rule:"optional",type:"string",name:"dt",id:14},{rule:"optional",type:"string",name:"roomId",id:15},{rule:"optional",type:"string",name:"pushData",id:16},{rule:"optional",type:"bool",name:"will",id:17},{rule:"optional",type:"int64",name:"patchTimestamp",id:18},{rule:"optional",type:"bytes",name:"binaryMsg",id:19},{rule:"repeated",type:"string",name:"mentionPids",id:20},{rule:"optional",type:"bool",name:"mentionAll",id:21},{rule:"optional",type:"int32",name:"convType",id:22}]},{name:"AckCommand",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"code",id:1},{rule:"optional",type:"string",name:"reason",id:2},{rule:"optional",type:"string",name:"mid",id:3},{rule:"optional",type:"string",name:"cid",id:4},{rule:"optional",type:"int64",name:"t",id:5},{rule:"optional",type:"string",name:"uid",id:6},{rule:"optional",type:"int64",name:"fromts",id:7},{rule:"optional",type:"int64",name:"tots",id:8},{rule:"optional",type:"string",name:"type",id:9},{rule:"repeated",type:"string",name:"ids",id:10},{rule:"optional",type:"int32",name:"appCode",id:11},{rule:"optional",type:"string",name:"appMsg",id:12}]},{name:"UnreadCommand",syntax:"proto2",fields:[{rule:"repeated",type:"UnreadTuple",name:"convs",id:1},{rule:"optional",type:"int64",name:"notifTime",id:2}]},{name:"ConvCommand",syntax:"proto2",fields:[{rule:"repeated",type:"string",name:"m",id:1},{rule:"optional",type:"bool",name:"transient",id:2},{rule:"optional",type:"bool",name:"unique",id:3},{rule:"optional",type:"string",name:"cid",id:4},{rule:"optional",type:"string",name:"cdate",id:5},{rule:"optional",type:"string",name:"initBy",id:6},{rule:"optional",type:"string",name:"sort",id:7},{rule:"optional",type:"int32",name:"limit",id:8},{rule:"optional",type:"int32",name:"skip",id:9},{rule:"optional",type:"int32",name:"flag",id:10},{rule:"optional",type:"int32",name:"count",id:11},{rule:"optional",type:"string",name:"udate",id:12},{rule:"optional",type:"int64",name:"t",id:13},{rule:"optional",type:"string",name:"n",id:14},{rule:"optional",type:"string",name:"s",id:15},{rule:"optional",type:"bool",name:"statusSub",id:16},{rule:"optional",type:"bool",name:"statusPub",id:17},{rule:"optional",type:"int32",name:"statusTTL",id:18},{rule:"optional",type:"string",name:"uniqueId",id:19},{rule:"optional",type:"string",name:"targetClientId",id:20},{rule:"optional",type:"int64",name:"maxReadTimestamp",id:21},{rule:"optional",type:"int64",name:"maxAckTimestamp",id:22},{rule:"optional",type:"bool",name:"queryAllMembers",id:23},{rule:"repeated",type:"MaxReadTuple",name:"maxReadTuples",id:24},{rule:"repeated",type:"string",name:"cids",id:25},{rule:"optional",type:"ConvMemberInfo",name:"info",id:26},{rule:"optional",type:"bool",name:"tempConv",id:27},{rule:"optional",type:"int32",name:"tempConvTTL",id:28},{rule:"repeated",type:"string",name:"tempConvIds",id:29},{rule:"repeated",type:"string",name:"allowedPids",id:30},{rule:"repeated",type:"ErrorCommand",name:"failedPids",id:31},{rule:"optional",type:"string",name:"next",id:40},{rule:"optional",type:"JsonObjectMessage",name:"results",id:100},{rule:"optional",type:"JsonObjectMessage",name:"where",id:101},{rule:"optional",type:"JsonObjectMessage",name:"attr",id:103},{rule:"optional",type:"JsonObjectMessage",name:"attrModified",id:104}]},{name:"RoomCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"roomId",id:1},{rule:"optional",type:"string",name:"s",id:2},{rule:"optional",type:"int64",name:"t",id:3},{rule:"optional",type:"string",name:"n",id:4},{rule:"optional",type:"bool",name:"transient",id:5},{rule:"repeated",type:"string",name:"roomPeerIds",id:6},{rule:"optional",type:"string",name:"byPeerId",id:7}]},{name:"LogsCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"optional",type:"int32",name:"l",id:2},{rule:"optional",type:"int32",name:"limit",id:3},{rule:"optional",type:"int64",name:"t",id:4},{rule:"optional",type:"int64",name:"tt",id:5},{rule:"optional",type:"string",name:"tmid",id:6},{rule:"optional",type:"string",name:"mid",id:7},{rule:"optional",type:"string",name:"checksum",id:8},{rule:"optional",type:"bool",name:"stored",id:9},{rule:"optional",type:"QueryDirection",name:"direction",id:10,options:{default:"OLD"}},{rule:"optional",type:"bool",name:"tIncluded",id:11},{rule:"optional",type:"bool",name:"ttIncluded",id:12},{rule:"optional",type:"int32",name:"lctype",id:13},{rule:"repeated",type:"LogItem",name:"logs",id:105}],enums:[{name:"QueryDirection",syntax:"proto2",values:[{name:"OLD",id:1},{name:"NEW",id:2}]}]},{name:"RcpCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"id",id:1},{rule:"optional",type:"string",name:"cid",id:2},{rule:"optional",type:"int64",name:"t",id:3},{rule:"optional",type:"bool",name:"read",id:4},{rule:"optional",type:"string",name:"from",id:5}]},{name:"ReadTuple",syntax:"proto2",fields:[{rule:"required",type:"string",name:"cid",id:1},{rule:"optional",type:"int64",name:"timestamp",id:2},{rule:"optional",type:"string",name:"mid",id:3}]},{name:"MaxReadTuple",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"pid",id:1},{rule:"optional",type:"int64",name:"maxAckTimestamp",id:2},{rule:"optional",type:"int64",name:"maxReadTimestamp",id:3}]},{name:"ReadCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"repeated",type:"string",name:"cids",id:2},{rule:"repeated",type:"ReadTuple",name:"convs",id:3}]},{name:"PresenceCommand",syntax:"proto2",fields:[{rule:"optional",type:"StatusType",name:"status",id:1},{rule:"repeated",type:"string",name:"sessionPeerIds",id:2},{rule:"optional",type:"string",name:"cid",id:3}]},{name:"ReportCommand",syntax:"proto2",fields:[{rule:"optional",type:"bool",name:"initiative",id:1},{rule:"optional",type:"string",name:"type",id:2},{rule:"optional",type:"string",name:"data",id:3}]},{name:"PatchItem",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"optional",type:"string",name:"mid",id:2},{rule:"optional",type:"int64",name:"timestamp",id:3},{rule:"optional",type:"bool",name:"recall",id:4},{rule:"optional",type:"string",name:"data",id:5},{rule:"optional",type:"int64",name:"patchTimestamp",id:6},{rule:"optional",type:"string",name:"from",id:7},{rule:"optional",type:"bytes",name:"binaryMsg",id:8},{rule:"optional",type:"bool",name:"mentionAll",id:9},{rule:"repeated",type:"string",name:"mentionPids",id:10},{rule:"optional",type:"int64",name:"patchCode",id:11},{rule:"optional",type:"string",name:"patchReason",id:12}]},{name:"PatchCommand",syntax:"proto2",fields:[{rule:"repeated",type:"PatchItem",name:"patches",id:1},{rule:"optional",type:"int64",name:"lastPatchTime",id:2}]},{name:"PubsubCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"repeated",type:"string",name:"cids",id:2},{rule:"optional",type:"string",name:"topic",id:3},{rule:"optional",type:"string",name:"subtopic",id:4},{rule:"repeated",type:"string",name:"topics",id:5},{rule:"repeated",type:"string",name:"subtopics",id:6},{rule:"optional",type:"JsonObjectMessage",name:"results",id:7}]},{name:"BlacklistCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"srcCid",id:1},{rule:"repeated",type:"string",name:"toPids",id:2},{rule:"optional",type:"string",name:"srcPid",id:3},{rule:"repeated",type:"string",name:"toCids",id:4},{rule:"optional",type:"int32",name:"limit",id:5},{rule:"optional",type:"string",name:"next",id:6},{rule:"repeated",type:"string",name:"blockedPids",id:8},{rule:"repeated",type:"string",name:"blockedCids",id:9},{rule:"repeated",type:"string",name:"allowedPids",id:10},{rule:"repeated",type:"ErrorCommand",name:"failedPids",id:11},{rule:"optional",type:"int64",name:"t",id:12},{rule:"optional",type:"string",name:"n",id:13},{rule:"optional",type:"string",name:"s",id:14}]},{name:"GenericCommand",syntax:"proto2",fields:[{rule:"optional",type:"CommandType",name:"cmd",id:1},{rule:"optional",type:"OpType",name:"op",id:2},{rule:"optional",type:"string",name:"appId",id:3},{rule:"optional",type:"string",name:"peerId",id:4},{rule:"optional",type:"int32",name:"i",id:5},{rule:"optional",type:"string",name:"installationId",id:6},{rule:"optional",type:"int32",name:"priority",id:7},{rule:"optional",type:"int32",name:"service",id:8},{rule:"optional",type:"int64",name:"serverTs",id:9},{rule:"optional",type:"int64",name:"clientTs",id:10},{rule:"optional",type:"int32",name:"notificationType",id:11},{rule:"optional",type:"DataCommand",name:"dataMessage",id:101},{rule:"optional",type:"SessionCommand",name:"sessionMessage",id:102},{rule:"optional",type:"ErrorCommand",name:"errorMessage",id:103},{rule:"optional",type:"DirectCommand",name:"directMessage",id:104},{rule:"optional",type:"AckCommand",name:"ackMessage",id:105},{rule:"optional",type:"UnreadCommand",name:"unreadMessage",id:106},{rule:"optional",type:"ReadCommand",name:"readMessage",id:107},{rule:"optional",type:"RcpCommand",name:"rcpMessage",id:108},{rule:"optional",type:"LogsCommand",name:"logsMessage",id:109},{rule:"optional",type:"ConvCommand",name:"convMessage",id:110},{rule:"optional",type:"RoomCommand",name:"roomMessage",id:111},{rule:"optional",type:"PresenceCommand",name:"presenceMessage",id:112},{rule:"optional",type:"ReportCommand",name:"reportMessage",id:113},{rule:"optional",type:"PatchCommand",name:"patchMessage",id:114},{rule:"optional",type:"PubsubCommand",name:"pubsubMessage",id:115},{rule:"optional",type:"BlacklistCommand",name:"blacklistMessage",id:116}]}],enums:[{name:"CommandType",syntax:"proto2",values:[{name:"session",id:0},{name:"conv",id:1},{name:"direct",id:2},{name:"ack",id:3},{name:"rcp",id:4},{name:"unread",id:5},{name:"logs",id:6},{name:"error",id:7},{name:"login",id:8},{name:"data",id:9},{name:"room",id:10},{name:"read",id:11},{name:"presence",id:12},{name:"report",id:13},{name:"echo",id:14},{name:"loggedin",id:15},{name:"logout",id:16},{name:"loggedout",id:17},{name:"patch",id:18},{name:"pubsub",id:19},{name:"blacklist",id:20},{name:"goaway",id:21}]},{name:"OpType",syntax:"proto2",values:[{name:"open",id:1},{name:"add",id:2},{name:"remove",id:3},{name:"close",id:4},{name:"opened",id:5},{name:"closed",id:6},{name:"query",id:7},{name:"query_result",id:8},{name:"conflict",id:9},{name:"added",id:10},{name:"removed",id:11},{name:"refresh",id:12},{name:"refreshed",id:13},{name:"start",id:30},{name:"started",id:31},{name:"joined",id:32},{name:"members_joined",id:33},{name:"left",id:39},{name:"members_left",id:40},{name:"results",id:42},{name:"count",id:43},{name:"result",id:44},{name:"update",id:45},{name:"updated",id:46},{name:"mute",id:47},{name:"unmute",id:48},{name:"status",id:49},{name:"members",id:50},{name:"max_read",id:51},{name:"is_member",id:52},{name:"member_info_update",id:53},{name:"member_info_updated",id:54},{name:"member_info_changed",id:55},{name:"join",id:80},{name:"invite",id:81},{name:"leave",id:82},{name:"kick",id:83},{name:"reject",id:84},{name:"invited",id:85},{name:"kicked",id:86},{name:"upload",id:100},{name:"uploaded",id:101},{name:"subscribe",id:120},{name:"subscribed",id:121},{name:"unsubscribe",id:122},{name:"unsubscribed",id:123},{name:"is_subscribed",id:124},{name:"modify",id:150},{name:"modified",id:151},{name:"block",id:170},{name:"unblock",id:171},{name:"blocked",id:172},{name:"unblocked",id:173},{name:"members_blocked",id:174},{name:"members_unblocked",id:175},{name:"check_block",id:176},{name:"check_result",id:177},{name:"add_shutup",id:180},{name:"remove_shutup",id:181},{name:"query_shutup",id:182},{name:"shutup_added",id:183},{name:"shutup_removed",id:184},{name:"shutup_result",id:185},{name:"shutuped",id:186},{name:"unshutuped",id:187},{name:"members_shutuped",id:188},{name:"members_unshutuped",id:189},{name:"check_shutup",id:190}]},{name:"StatusType",syntax:"proto2",values:[{name:"on",id:1},{name:"off",id:2}]}],isNamespace:!0}).build(),te=ee.push_server.messages2,ne=te.JsonObjectMessage,re=te.UnreadTuple,ie=te.LogItem,oe=te.DataCommand,se=te.SessionCommand,ae=te.ErrorCommand,ue=te.DirectCommand,ce=te.AckCommand,fe=te.UnreadCommand,le=te.ConvCommand,he=te.RoomCommand,pe=te.LogsCommand,de=te.RcpCommand,ye=te.ReadTuple,ve=te.MaxReadTuple,ge=te.ReadCommand,me=te.PresenceCommand,_e=te.ReportCommand,be=te.GenericCommand,we=te.BlacklistCommand,Ee=te.PatchCommand,Oe=te.PatchItem,Se=te.ConvMemberInfo,Te=te.CommandType,Ae=te.OpType,Ie=te.StatusType,Ne=Object.freeze({__proto__:null,JsonObjectMessage:ne,UnreadTuple:re,LogItem:ie,DataCommand:oe,SessionCommand:se,ErrorCommand:ae,DirectCommand:ue,AckCommand:ce,UnreadCommand:fe,ConvCommand:le,RoomCommand:he,LogsCommand:pe,RcpCommand:de,ReadTuple:ye,MaxReadTuple:ve,ReadCommand:ge,PresenceCommand:me,ReportCommand:_e,GenericCommand:be,BlacklistCommand:we,PatchCommand:Ee,PatchItem:Oe,ConvMemberInfo:Se,CommandType:Te,OpType:Ae,StatusType:Ie}),Ce=o((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,r),!0;case 4:return f.fn.call(f.context,t,r,i),!0;case 5:return f.fn.call(f.context,t,r,i,o),!0;case 6:return f.fn.call(f.context,t,r,i,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var h,p=f.length;for(c=0;c<p;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,r);break;case 4:f[c].fn.call(f[c].context,t,r,i);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];f[c].fn.apply(f[c].context,u)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==t||i&&!a[u].once||r&&a[u].context!==r)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})),xe=o((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),s=new N(r||[]);return o._invoke=S(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",d={};function y(){}function v(){}function g(){}var m={};m[o]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(C([])));b&&b!==n&&r.call(b,o)&&(m=b);var w=g.prototype=y.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function O(e,t){function n(i,o,s,a){var u=c(e[i],e,o);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"===typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function S(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return x()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:l,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function C(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:x}}function x(){return{value:t,done:!0}}return v.prototype=w.constructor=g,g.constructor=v,g[a]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new O(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(w),w[a]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}})),Re=xe;function Pe(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(to){return void n(to)}a.done?t(u):Promise.resolve(u).then(r,i)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Pe(o,r,i,s,a,"next",e)}function a(e){Pe(o,r,i,s,a,"throw",e)}s(void 0)}))}}var ke=je;function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Me=Le;function De(e){if(Array.isArray(e))return Me(e)}var Be=De;function Ue(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var Fe=Ue;function qe(e,t){if(e){if("string"===typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}var Ve=qe;function Ye(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $e=Ye;function We(e){return Be(e)||Fe(e)||Ve(e)||$e()}var ze=We;function Ge(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var He=Ge;function Ke(e,t){if(null==e)return{};var n,r,i=He(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Je=Ke;function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Xe=Qe;function Ze(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var et=Ze,tt=1e3,nt=60*tt,rt=60*nt,it=24*rt,ot=7*it,st=365.25*it,at=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return ut(e);if("number"===n&&!1===isNaN(e))return t.long?ft(e):ct(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ut(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*st;case"weeks":case"week":case"w":return n*ot;case"days":case"day":case"d":return n*it;case"hours":case"hour":case"hrs":case"hr":case"h":return n*rt;case"minutes":case"minute":case"mins":case"min":case"m":return n*nt;case"seconds":case"second":case"secs":case"sec":case"s":return n*tt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function ct(e){var t=Math.abs(e);return t>=it?Math.round(e/it)+"d":t>=rt?Math.round(e/rt)+"h":t>=nt?Math.round(e/nt)+"m":t>=tt?Math.round(e/tt)+"s":e+"ms"}function ft(e){var t=Math.abs(e);return t>=it?lt(e,t,it,"day"):t>=rt?lt(e,t,rt,"hour"):t>=nt?lt(e,t,nt,"minute"):t>=tt?lt(e,t,tt,"second"):e+" ms"}function lt(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}function ht(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var o;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=s,a=Number(new Date),u=a-(o||a);i.diff=u,i.prev=o,i.curr=a,o=a,t[0]=n.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;c++;var o=n.formatters[r];if("function"===typeof o){var s=t[c];e=o.call(i,s),t.splice(c,1),c--}return e})),n.formatArgs.call(i,t);var f=i.log||n.log;f.apply(i,t)}}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=r,s.extend=i,"function"===typeof n.init&&n.init(s),n.instances.push(s),s}function r(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){return n(this.namespace+("undefined"===typeof t?":":t)+e)}function o(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&(e=r[t].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}}function s(){n.enable("")}function a(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}return n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=o,n.enabled=a,n.humanize=at,Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}var pt=ht,dt=o((function(e,t){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function s(){var e;return"object"===("undefined"===typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(to){}}function u(){var e;try{e=t.storage.getItem("debug")}catch(to){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=n.env.DEBUG),e}function c(){try{return localStorage}catch(to){}}t.log=s,t.formatArgs=o,t.save=a,t.load=u,t.useColors=i,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=pt(t);var f=e.exports.formatters;f.j=function(e){try{return JSON.stringify(e)}catch(to){return"[UnexpectedJSONParseError]: "+to.message}}}));dt.log,dt.formatArgs,dt.save,dt.load,dt.useColors,dt.storage,dt.colors;function yt(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var vt=yt,gt=Math.floor,mt=Math.random;function _t(e,t){return e+gt(mt()*(t-e+1))}var bt=_t;function wt(e,t){var n=-1,r=e.length,i=r-1;t=void 0===t?r:t;while(++n<t){var o=bt(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Et=wt;function Ot(e){return Et(vt(e))}var St=Ot;function Tt(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}var At=Tt;function It(e,t){return At(t,(function(t){return e[t]}))}var Nt=It;function Ct(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var xt=Ct,Rt="object"==typeof r&&r&&r.Object===Object&&r,Pt=Rt,jt="object"==typeof self&&self&&self.Object===Object&&self,kt=Pt||jt||Function("return this")(),Lt=kt,Mt=Lt.Symbol,Dt=Mt,Bt=Object.prototype,Ut=Bt.hasOwnProperty,Ft=Bt.toString,qt=Dt?Dt.toStringTag:void 0;function Vt(e){var t=Ut.call(e,qt),n=e[qt];try{e[qt]=void 0;var r=!0}catch(o){}var i=Ft.call(e);return r&&(t?e[qt]=n:delete e[qt]),i}var Yt=Vt,$t=Object.prototype,Wt=$t.toString;function zt(e){return Wt.call(e)}var Gt=zt,Ht="[object Null]",Kt="[object Undefined]",Jt=Dt?Dt.toStringTag:void 0;function Qt(e){return null==e?void 0===e?Kt:Ht:Jt&&Jt in Object(e)?Yt(e):Gt(e)}var Xt=Qt;function Zt(e){return null!=e&&"object"==typeof e}var en=Zt,tn="[object Arguments]";function nn(e){return en(e)&&Xt(e)==tn}var rn=nn,on=Object.prototype,sn=on.hasOwnProperty,an=on.propertyIsEnumerable,un=rn(function(){return arguments}())?rn:function(e){return en(e)&&sn.call(e,"callee")&&!an.call(e,"callee")},cn=un,fn=Array.isArray,ln=fn;function hn(){return!1}var pn=hn,dn=o((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n,o=i?Lt.Buffer:void 0,s=o?o.isBuffer:void 0,a=s||pn;e.exports=a})),yn=9007199254740991,vn=/^(?:0|[1-9]\d*)$/;function gn(e,t){var n=typeof e;return t=null==t?yn:t,!!t&&("number"==n||"symbol"!=n&&vn.test(e))&&e>-1&&e%1==0&&e<t}var mn=gn,_n=9007199254740991;function bn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_n}var wn=bn,En="[object Arguments]",On="[object Array]",Sn="[object Boolean]",Tn="[object Date]",An="[object Error]",In="[object Function]",Nn="[object Map]",Cn="[object Number]",xn="[object Object]",Rn="[object RegExp]",Pn="[object Set]",jn="[object String]",kn="[object WeakMap]",Ln="[object ArrayBuffer]",Mn="[object DataView]",Dn="[object Float32Array]",Bn="[object Float64Array]",Un="[object Int8Array]",Fn="[object Int16Array]",qn="[object Int32Array]",Vn="[object Uint8Array]",Yn="[object Uint8ClampedArray]",$n="[object Uint16Array]",Wn="[object Uint32Array]",zn={};function Gn(e){return en(e)&&wn(e.length)&&!!zn[Xt(e)]}zn[Dn]=zn[Bn]=zn[Un]=zn[Fn]=zn[qn]=zn[Vn]=zn[Yn]=zn[$n]=zn[Wn]=!0,zn[En]=zn[On]=zn[Ln]=zn[Sn]=zn[Mn]=zn[Tn]=zn[An]=zn[In]=zn[Nn]=zn[Cn]=zn[xn]=zn[Rn]=zn[Pn]=zn[jn]=zn[kn]=!1;var Hn=Gn;function Kn(e){return function(t){return e(t)}}var Jn=Kn,Qn=o((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n,o=i&&Pt.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s})),Xn=Qn&&Qn.isTypedArray,Zn=Xn?Jn(Xn):Hn,er=Zn,tr=Object.prototype,nr=tr.hasOwnProperty;function rr(e,t){var n=ln(e),r=!n&&cn(e),i=!n&&!r&&dn(e),o=!n&&!r&&!i&&er(e),s=n||r||i||o,a=s?xt(e.length,String):[],u=a.length;for(var c in e)!t&&!nr.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mn(c,u))||a.push(c);return a}var ir=rr,or=Object.prototype;function sr(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||or;return e===n}var ar=sr;function ur(e,t){return function(n){return e(t(n))}}var cr=ur,fr=cr(Object.keys,Object),lr=fr,hr=Object.prototype,pr=hr.hasOwnProperty;function dr(e){if(!ar(e))return lr(e);var t=[];for(var n in Object(e))pr.call(e,n)&&"constructor"!=n&&t.push(n);return t}var yr=dr;function vr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var gr=vr,mr="[object AsyncFunction]",_r="[object Function]",br="[object GeneratorFunction]",wr="[object Proxy]";function Er(e){if(!gr(e))return!1;var t=Xt(e);return t==_r||t==br||t==mr||t==wr}var Or=Er;function Sr(e){return null!=e&&wn(e.length)&&!Or(e)}var Tr=Sr;function Ar(e){return Tr(e)?ir(e):yr(e)}var Ir=Ar;function Nr(e){return null==e?[]:Nt(e,Ir(e))}var Cr=Nr;function xr(e){return Et(Cr(e))}var Rr=xr;function Pr(e){var t=ln(e)?St:Rr;return t(e)}var jr=Pr;function kr(e){if(Array.isArray(e))return e}var Lr=kr;function Mr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Dr=Mr;function Br(e){return Lr(e)||Fe(e)||Ve(e)||Dr()}var Ur=Br;function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t,n){return t&&Fr(e.prototype,t),n&&Fr(e,n),e}var Vr=qr;function Yr(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var $r=Yr,Wr=o((function(e,t){(function(){var n={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var r="string"==typeof e.initial?{state:e.initial}:e.initial,i=e.terminal||e["final"],o=t||e.target||{},s=e.events||[],a=e.callbacks||{},u={},c={},f=function(e){var t=Array.isArray(e.from)?e.from:e.from?[e.from]:[n.WILDCARD];u[e.name]=u[e.name]||{};for(var r=0;r<t.length;r++)c[t[r]]=c[t[r]]||[],c[t[r]].push(e.name),u[e.name][t[r]]=e.to||t[r];e.to&&(c[e.to]=c[e.to]||[])};r&&(r.event=r.event||"startup",f({name:r.event,from:"none",to:r.state}));for(var l=0;l<s.length;l++)f(s[l]);for(var h in u)u.hasOwnProperty(h)&&(o[h]=n.buildEvent(h,u[h]));for(var h in a)a.hasOwnProperty(h)&&(o[h]=a[h]);return o.current="none",o.is=function(e){return Array.isArray(e)?e.indexOf(this.current)>=0:this.current===e},o.can=function(e){return!this.transition&&void 0!==u[e]&&(u[e].hasOwnProperty(this.current)||u[e].hasOwnProperty(n.WILDCARD))},o.cannot=function(e){return!this.can(e)},o.transitions=function(){return(c[this.current]||[]).concat(c[n.WILDCARD]||[])},o.isFinished=function(){return this.is(i)},o.error=e.error||function(e,t,n,r,i,o,s){throw s||o},o.states=function(){return Object.keys(c).sort()},r&&!r.defer&&o[r.event](),o},doCallback:function(e,t,r,i,o,s){if(t)try{return t.apply(e,[r,i,o].concat(s))}catch(a){return e.error(r,i,o,s,n.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",a)}},beforeAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e["onbeforeevent"],t,r,i,o)},afterAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e["onafterevent"]||e["onevent"],t,r,i,o)},leaveAnyState:function(e,t,r,i,o){return n.doCallback(e,e["onleavestate"],t,r,i,o)},enterAnyState:function(e,t,r,i,o){return n.doCallback(e,e["onenterstate"]||e["onstate"],t,r,i,o)},changeState:function(e,t,r,i,o){return n.doCallback(e,e["onchangestate"],t,r,i,o)},beforeThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onbefore"+t],t,r,i,o)},afterThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onafter"+t]||e["on"+t],t,r,i,o)},leaveThisState:function(e,t,r,i,o){return n.doCallback(e,e["onleave"+r],t,r,i,o)},enterThisState:function(e,t,r,i,o){return n.doCallback(e,e["onenter"+i]||e["on"+i],t,r,i,o)},beforeEvent:function(e,t,r,i,o){if(!1===n.beforeThisEvent(e,t,r,i,o)||!1===n.beforeAnyEvent(e,t,r,i,o))return!1},afterEvent:function(e,t,r,i,o){n.afterThisEvent(e,t,r,i,o),n.afterAnyEvent(e,t,r,i,o)},leaveState:function(e,t,r,i,o){var s=n.leaveThisState(e,t,r,i,o),a=n.leaveAnyState(e,t,r,i,o);return!1!==s&&!1!==a&&(n.ASYNC===s||n.ASYNC===a?n.ASYNC:void 0)},enterState:function(e,t,r,i,o){n.enterThisState(e,t,r,i,o),n.enterAnyState(e,t,r,i,o)},buildEvent:function(e,t){return function(){var r=this.current,i=t[r]||(t[n.WILDCARD]!=n.WILDCARD?t[n.WILDCARD]:r)||r,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,r,i,o,n.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,r,i,o,n.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===n.beforeEvent(this,e,r,i,o))return n.Result.CANCELLED;if(r===i)return n.afterEvent(this,e,r,i,o),n.Result.NOTRANSITION;var s=this;this.transition=function(){return s.transition=null,s.current=i,n.enterState(s,e,r,i,o),n.changeState(s,e,r,i,o),n.afterEvent(s,e,r,i,o),n.Result.SUCCEEDED},this.transition.cancel=function(){s.transition=null,n.afterEvent(s,e,r,i,o)};var a=n.leaveState(this,e,r,i,o);return!1===a?(this.transition=null,n.Result.CANCELLED):n.ASYNC===a?n.Result.PENDING:this.transition?this.transition():void 0}}};e.exports&&(t=e.exports=n),t.StateMachine=n})()})),zr=(Wr.StateMachine,{}),Gr=function(e){var t=zr[e];if(void 0===t)throw new Error("".concat(e," adapter is not configured"));return t},Hr=function(e){Object.assign(zr,e)},Kr=cr(Object.getPrototypeOf,Object),Jr=Kr,Qr="[object Object]",Xr=Function.prototype,Zr=Object.prototype,ei=Xr.toString,ti=Zr.hasOwnProperty,ni=ei.call(Object);function ri(e){if(!en(e)||Xt(e)!=Qr)return!1;var t=Jr(e);if(null===t)return!0;var n=ti.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ei.call(n)==ni}var ii=ri,oi="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},si=Symbol("expired"),ai=dt("LC:Expirable"),ui=function(){function e(e,t){this.originalValue=e,"number"===typeof t&&(this.expiredAt=Date.now()+t)}return Vr(e,[{key:"value",get:function(){var e=this.expiredAt&&this.expiredAt<=Date.now();return e&&ai("expired: ".concat(this.originalValue)),e?si:this.originalValue}}]),e}();ui.EXPIRED=si;var ci=dt("LC:Cache"),fi=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous";this.name=e,this._map={}}var t=e.prototype;return t.get=function(e){var t=this._map[e];if(t){var n=t.value;if(n!==ui.EXPIRED)return ci("[%s] hit: %s",this.name,e),n;delete this._map[e]}return ci("[".concat(this.name,"] missed: ").concat(e)),null},t.set=function(e,t,n){ci("[%s] set: %s %d",this.name,e,n),this._map[e]=new ui(t,n)},e}();function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pi,di={enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LC*";return dt.enable(e)},disable:dt.disable},yi=function e(t){var n=new Promise(t[0]);return 1===t.length?n:n["catch"]((function(){return e(t.slice(1))}))},vi=function(e){return function(t){return e(t),t}},gi=function(e){return[function(t){return e(),t},function(t){throw e(),t}]},mi=function(e){return e?"string"===typeof e||"number"===typeof e?new Date(e):"Date"===e.__type&&e.iso?new Date(e.iso):"function"===typeof e.toNumber?new Date(e.toNumber()):e:e},_i=function(e){return e&&e.getTime?e.getTime():void 0},bi=function e(t){return t?"Date"===t.__type&&t.iso?new Date(t.iso):Array.isArray(t)?t.map(e):ii(t)?Object.keys(t).reduce((function(n,r){return hi(hi({},n),{},G({},r,e(t[r])))}),{}):t:t},wi=function e(t){return t instanceof Date?{__type:"Date",iso:t.toJSON()}:Array.isArray(t)?t.map(e):ii(t)?Object.keys(t).reduce((function(n,r){return hi(hi({},n),{},G({},r,e(t[r])))}),{}):t},Ei=function(e,t){return Object.keys(t).reduce((function(n,r){var i=e[r]||r;return Object.assign(n,G({},i,t[r]))}),{})},Oi=oi.navigator&&oi.navigator.userAgent&&-1!==oi.navigator.userAgent.indexOf("MSIE 10."),Si=function e(t,n){return t[n]||(t.__proto__?e(t.__proto__,n):void 0)},Ti=function(e,t){return Array.from(new Set([].concat(ze(e),ze(t))))},Ai=function(e,t){return Array.from(function(t){return new Set(e.filter((function(e){return!t.has(e)})))}(new Set(t)))},Ii=new WeakMap,Ni=function(e){return Ii.has(e)||Ii.set(e,{}),Ii.get(e)},Ci=function e(t,n){if(!ii(t))return t;var r=hi({},t);return Object.keys(r).forEach((function(t){var i=r[t];i===n?delete r[t]:r[t]=e(i,n)})),r},xi=function(e){return Ci(e,null)},Ri=function(e){return xi(JSON.parse(JSON.stringify(e)))},Pi=function(e){return Array.isArray(e)?e:void 0===e||null===e?[]:[e]},ji=function(e,t,n){var r=t.split("."),i=r.pop(),o=e;return r.forEach((function(e){void 0===o[e]&&(o[e]={}),o=o[e]})),o[i]=n,e},ki="object"===("undefined"===typeof wx?"undefined":u(wx))&&"function"===typeof wx.connectSocket,Li=function(e){return function(t,n,r){var i=r.value;if(i.length)throw new Error("throttled function should not accept any arguments");return hi(hi({},r),{},{value:function(){var t=this,r=Ni(this),o=r.throttleMeta;o||(o={},Ni(this).throttleMeta=o);var s=o,a=s[n];a||(a={},o[n]=a);var u=a,c=u.previouseTimestamp,f=void 0===c?0:c,l=u.timeout,h=Date.now(),p=e-(h-f);p<=0?(o[n].previouseTimestamp=h,i.apply(this)):l||(a.timeout=setTimeout((function(){a.previouseTimestamp=Date.now(),delete a.timeout,i.apply(t)}),p))}})}},Mi=function(e){return"-MdYXbMMI"!==e.slice(-9)},Di=function(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;var n=new Uint8Array(e),r=new Uint8Array(t);return!n.some((function(e,t){return e!==r[t]}))};function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fi=dt("LC:WebSocketPlus"),qi="open",Vi="disconnect",Yi="reconnect",$i="retry",Wi="schedule",zi="offline",Gi="online",Hi="error",Ki="message",Ji=18e4,Qi=38e4,Xi=function(e){return Math.min(1e3*Math.pow(2,e),3e5)},Zi=function(e,t,n){return Ui(Ui({},n),{},{value:function(){var e;this.checkConnectionAvailability(t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.value).call.apply(e,[this].concat(i))}})},eo=(pi=function(e){function t(t,n){var r;return r=e.call(this)||this,r.init(),r._protocol=n,Promise.resolve("function"===typeof t?t():t).then(Pi).then((function(e){return r._urls=e,r._open()})).then((function(){r.__postponeTimeoutTimer=r._postponeTimeoutTimer.bind(Xe(r)),oi.addEventListener&&(r.__pause=function(){r.can("pause")&&r.pause()},r.__resume=function(){r.can("resume")&&r.resume()},oi.addEventListener("offline",r.__pause),oi.addEventListener("online",r.__resume)),r.open()}))["catch"](r["throw"].bind(Xe(r))),r}et(t,e),Vr(t,[{key:"urls",get:function(){return this._urls},set:function(e){this._urls=Pi(e)}}]);var n=t.prototype;return n._open=function(){var e=this;return this._createWs(this._urls,this._protocol).then((function(t){var n=Ur(e._urls),r=n[0],i=n.slice(1);return e._urls=[].concat(ze(i),[r]),t}))},n._createWs=function(e,t){var n=this;return yi(e.map((function(e){return function(r,i){Fi("connect [".concat(e,"] ").concat(t));var o=Gr("WebSocket"),s=t?new o(e,t):new o(e);s.binaryType=n.binaryType||"arraybuffer",s.onopen=function(){return r(s)},s.onclose=function(t){return t instanceof Error?i(t):i(new Error("Failed to connect [".concat(e,"]")))},s.onerror=s.onclose}}))).then((function(e){return n._ws=e,n._ws.onclose=n._handleClose.bind(n),n._ws.onmessage=n._handleMessage.bind(n),e}))},n._destroyWs=function(){var e=this._ws;e&&(e.onopen=null,e.onclose=null,e.onerror=null,e.onmessage=null,this._ws=null,e.close())},n.onbeforeevent=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];Fi("".concat(e,": ").concat(t," -> ").concat(n," %o"),i)},n.onopen=function(){this.emit(qi)},n.onconnected=function(){this._startConnectionKeeper()},n.onleaveconnected=function(e,t,n){this._stopConnectionKeeper(),this._destroyWs(),"offline"!==n&&"disconnected"!==n||this.emit(Vi)},n.onpause=function(){this.emit(zi)},n.onbeforeresume=function(){this.emit(Gi)},n.onreconnect=function(){this.emit(Yi)},n.ondisconnected=function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=t===zi?0:Xi.call(null,i);Fi("schedule attempt=".concat(i," delay=").concat(o)),this.emit(Wi,i,o),this.__scheduledRetry&&clearTimeout(this.__scheduledRetry),this.__scheduledRetry=setTimeout((function(){r.is("disconnected")&&r.retry(i)}),o)},n.onretry=function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.emit($i,i),this._open().then((function(){return r.can("reconnect")&&r.reconnect()}),(function(){return r.can("fail")&&r.fail(i+1)}))},n.onerror=function(e,t,n,r){this.emit(Hi,r)},n.onclose=function(){oi.removeEventListener&&(this.__pause&&oi.removeEventListener("offline",this.__pause),this.__resume&&oi.removeEventListener("online",this.__resume))},n.checkConnectionAvailability=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"API";if(!this.is("connected")){var t=this.current;throw console.warn("".concat(e," should not be called when the connection is ").concat(t)),(this.is("disconnected")||this.is("reconnecting"))&&console.warn("disconnect and reconnect event should be handled to avoid such calls."),new Error("Connection unavailable")}},n._ping=function(){Fi("ping");try{this.ping()}catch(to){console.warn("websocket ping error: ".concat(to.message))}},n.ping=function(){this._ws.ping?this._ws.ping():console.warn("The WebSocket implement does not support sending ping frame.\n        Override ping method to use application defined ping/pong mechanism.")},n._postponeTimeoutTimer=function(){var e=this;Fi("_postponeTimeoutTimer"),this._clearTimeoutTimers(),this._timeoutTimer=setTimeout((function(){Fi("timeout"),e.disconnect()}),Qi)},n._clearTimeoutTimers=function(){this._timeoutTimer&&clearTimeout(this._timeoutTimer)},n._startConnectionKeeper=function(){Fi("start connection keeper"),this._heartbeatTimer=setInterval(this._ping.bind(this),Ji);var e=this._ws.addListener||this._ws.addEventListener;e?(e.call(this._ws,"message",this.__postponeTimeoutTimer),e.call(this._ws,"pong",this.__postponeTimeoutTimer),this._postponeTimeoutTimer()):Fi("connection keeper disabled due to the lack of #addEventListener.")},n._stopConnectionKeeper=function(){Fi("stop connection keeper");var e=this._ws.removeListener||this._ws.removeEventListener;e&&(e.call(this._ws,"message",this.__postponeTimeoutTimer),e.call(this._ws,"pong",this.__postponeTimeoutTimer),this._clearTimeoutTimers()),this._heartbeatTimer&&clearInterval(this._heartbeatTimer)},n._handleClose=function(e){Fi("ws closed [".concat(e.code,"] ").concat(e.reason)),this.isFinished()||this.handleClose(e)},n.handleClose=function(){this.disconnect()},n.send=function(e){Fi("send",e),this._ws.send(e)},n._handleMessage=function(e){Fi("message",e.data),this.handleMessage(e.data)},n.handleMessage=function(e){this.emit(Ki,e)},t}(Ce),$r(pi.prototype,"_ping",[Zi],Object.getOwnPropertyDescriptor(pi.prototype,"_ping"),pi.prototype),$r(pi.prototype,"send",[Zi],Object.getOwnPropertyDescriptor(pi.prototype,"send"),pi.prototype),pi);Wr.create({target:eo.prototype,initial:{state:"initialized",event:"init",defer:!0},terminal:"closed",events:[{name:"open",from:"initialized",to:"connected"},{name:"disconnect",from:"connected",to:"disconnected"},{name:"retry",from:"disconnected",to:"reconnecting"},{name:"fail",from:"reconnecting",to:"disconnected"},{name:"reconnect",from:"reconnecting",to:"connected"},{name:"pause",from:["connected","disconnected","reconnecting"],to:"offline"},{},{name:"resume",from:"offline",to:"disconnected"},{name:"close",from:["connected","disconnected","reconnecting","offline"],to:"closed"},{name:"throw",from:"*",to:"error"}]});var to=Object.freeze({1e3:{name:"CLOSE_NORMAL"},1006:{name:"CLOSE_ABNORMAL"},4100:{name:"APP_NOT_AVAILABLE",message:"App not exists or realtime message service is disabled."},4102:{name:"SIGNATURE_FAILED",message:"Login signature mismatch."},4103:{name:"INVALID_LOGIN",message:"Malformed clientId."},4105:{name:"SESSION_REQUIRED",message:"Message sent before session opened."},4107:{name:"READ_TIMEOUT"},4108:{name:"LOGIN_TIMEOUT"},4109:{name:"FRAME_TOO_LONG"},4110:{name:"INVALID_ORIGIN",message:"Access denied by domain whitelist."},4111:{name:"SESSION_CONFLICT"},4112:{name:"SESSION_TOKEN_EXPIRED"},4113:{name:"APP_QUOTA_EXCEEDED",message:"The daily active users limit exceeded."},4116:{name:"MESSAGE_SENT_QUOTA_EXCEEDED",message:"Command sent too fast."},4200:{name:"INTERNAL_ERROR",message:"Internal error, please contact LeanCloud for support."},4301:{name:"CONVERSATION_API_FAILED",message:"Upstream Conversatoin API failed, see error.detail for details."},4302:{name:"CONVERSATION_SIGNATURE_FAILED",message:"Conversation action signature mismatch."},4303:{name:"CONVERSATION_NOT_FOUND"},4304:{name:"CONVERSATION_FULL"},4305:{name:"CONVERSATION_REJECTED_BY_APP",message:"Conversation action rejected by hook."},4306:{name:"CONVERSATION_UPDATE_FAILED"},4307:{name:"CONVERSATION_READ_ONLY"},4308:{name:"CONVERSATION_NOT_ALLOWED"},4309:{name:"CONVERSATION_UPDATE_REJECTED",message:"Conversation update rejected because the client is not a member."},4310:{name:"CONVERSATION_QUERY_FAILED",message:"Conversation query failed because it is too expansive."},4311:{name:"CONVERSATION_LOG_FAILED"},4312:{name:"CONVERSATION_LOG_REJECTED",message:"Message query rejected because the client is not a member of the conversation."},4313:{name:"SYSTEM_CONVERSATION_REQUIRED"},4314:{name:"NORMAL_CONVERSATION_REQUIRED"},4315:{name:"CONVERSATION_BLACKLISTED",message:"Blacklisted in the conversation."},4316:{name:"TRANSIENT_CONVERSATION_REQUIRED"},4317:{name:"CONVERSATION_MEMBERSHIP_REQUIRED"},4318:{name:"CONVERSATION_API_QUOTA_EXCEEDED",message:"LeanCloud API quota exceeded. You may upgrade your plan."},4323:{name:"TEMPORARY_CONVERSATION_EXPIRED",message:"Temporary conversation expired or does not exist."},4401:{name:"INVALID_MESSAGING_TARGET",message:"Conversation does not exist or client is not a member."},4402:{name:"MESSAGE_REJECTED_BY_APP",message:"Message rejected by hook."},4403:{name:"MESSAGE_OWNERSHIP_REQUIRED"},4404:{name:"MESSAGE_NOT_FOUND"},4405:{name:"MESSAGE_UPDATE_REJECTED_BY_APP",message:"Message update rejected by hook."},4406:{name:"MESSAGE_EDIT_DISABLED"},4407:{name:"MESSAGE_RECALL_DISABLED"},5130:{name:"OWNER_PROMOTION_NOT_ALLOWED",message:"Updating a member's role to owner is not allowed."}}),no=Object.freeze(Object.keys(to).reduce((function(e,t){return Object.assign(e,G({},to[t].name,Number(t)))}),{})),ro=function(e){var t=e.code,n=e.reason,r=e.appCode,i=e.detail,o=e.error,s=n||i||o,a=n;!s&&to[t]&&(a=to[t].name,s=to[t].message||a),s||(s="Unknow Error: ".concat(t));var u=new Error(s);return Object.assign(u,{code:t,appCode:r,detail:i,name:a})},io=dt("LC:Connection"),oo=2e4,so=Symbol("expire"),ao=function(e){return!(e.cmd===Te.direct||e.cmd===Te.session&&e.op===Ae.open||e.cmd===Te.conv&&(e.op===Ae.start||e.op===Ae.update||e.op===Ae.members))},uo=function(e){function t(t,n){var r,i=n.format,o=n.version;io("initializing Connection");var s="lc.".concat(i,".").concat(o);return r=e.call(this,t,s)||this,r._protocolFormat=i,r._commands={},r._serialId=0,r}et(t,e);var n=t.prototype;return n.send=function(){var t=ke(Re.mark((function t(n){var r,i,o,s,a,u,c=this,f=arguments;return Re.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!(f.length>1&&void 0!==f[1])||f[1],!r){t.next=11;break}if(!ao(n)){t.next=8;break}if(i=n.toArrayBuffer(),s=Cr(this._commands).find((function(e){var t=e.buffer,r=e.command;return r.cmd===n.cmd&&r.op===n.op&&Di(t,i)})),!s){t.next=8;break}return console.warn("Duplicated command [cmd:".concat(n.cmd," op:").concat(n.op,"] is throttled.")),t.abrupt("return",s.promise);case 8:this._serialId+=1,o=this._serialId,n.i=o;case 11:if(io.enabled&&io("↑ %O sent",Ri(n)),"proto2base64"===this._protocolFormat?a=n.toBase64():n.toArrayBuffer&&(a=n.toArrayBuffer()),a){t.next=15;break}throw new TypeError("".concat(n," is not a GenericCommand"));case 15:if(e.prototype.send.call(this,a),r){t.next=18;break}return t.abrupt("return",void 0);case 18:return u=new Promise((function(e,t){c._commands[o]={command:n,buffer:i,resolve:e,reject:t,timeout:setTimeout((function(){c._commands[o]&&(io.enabled&&io("✗ %O timeout",Ri(n)),t(ro({error:"Command Timeout [cmd:".concat(n.cmd," op:").concat(n.op,"]"),name:"COMMAND_TIMEOUT"})),delete c._commands[o])}),oo)}})),this._commands[o].promise=u,t.abrupt("return",u);case 21:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}(),n.handleMessage=function(e){var t;try{t=be.decode(e),io.enabled&&io("↓ %O received",Ri(t))}catch(r){return void console.warn("Decode message failed:",r.message,e)}var n=t.i;if(n)this._commands[n]?(clearTimeout(this._commands[n].timeout),t.cmd===Te.error?this._commands[n].reject(ro(t.errorMessage)):this._commands[n].resolve(t),delete this._commands[n]):console.warn("Unexpected command received with serialId [".concat(n,"],\n         which have timed out or never been requested."));else switch(t.cmd){case Te.error:return void this.emit(Hi,ro(t.errorMessage));case Te.goaway:return void this.emit(so);default:this.emit(Ki,t)}},n.ping=function(){return this.send(new be({cmd:Te.echo}))["catch"]((function(e){return io("ping failed:",e)}))},t}(eo),co=o((function(e){var t;e.exports.timeout=function(e,n){var r,i=new t;return Promise.race([e,new Promise((function(e,t){r=setTimeout((function(){t(i)}),n)}))]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))};t=e.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},t.prototype=Object.create(Error.prototype),t.prototype.name="TimeoutError"})),fo=co.timeout,lo=(co.TimeoutError,dt("LC:request")),ho=function(e){var t=e.method,n=void 0===t?"GET":t,r=e.url,i=e.query,o=e.headers,s=e.data,a=e.timeout,u=r;if(i){var c=Object.keys(i).map((function(e){var t=i[e];if(void 0!==t){var n=ii(t)?JSON.stringify(t):t;return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n))}})).filter((function(e){return e})).join("&");u="".concat(u,"?").concat(c)}lo("Req: %O %O %O",n,u,{headers:o,data:s});var f=Gr("request"),l=f(u,{method:n,headers:o,data:s}).then((function(e){if(!1===e.ok){var t=ro(e.data);throw t.response=e,t}return lo("Res: %O %O %O",u,e.status,e.data),e.data}))["catch"]((function(e){throw e.response&&lo("Error: %O %O %O",u,e.response.status,e.response.data),e}));return a?fo(l,a):l},po=function(e){return function(t){var n=t.constructor;return Promise.resolve(t).then(e).then(vi((function(r){return void 0===r||null===r?console.warn("Middleware[".concat(e._pluginName||"anonymous plugin",":").concat(e.name||"anonymous middleware","] param/return types not match. It returns ").concat(r," while a ").concat(t.constructor.name," expected.")):r instanceof n?0:console.warn("Middleware[".concat(e._pluginName||"anonymous plugin",":").concat(e.name||"anonymous middleware","] param/return types not match. It returns a ").concat(r.constructor.name," while a ").concat(t.constructor.name," expected."))})))}},yo=function(e,t){e&&e.forEach((function(e){try{e(t)}catch(to){throw e._pluginName&&(to.message+="[".concat(e._pluginName,"]")),to}}))},vo=function(e){return function(t){return Pi(e).reduce((function(e,t){return e.then(po(t))["catch"]((function(e){throw t._pluginName&&(e.message+="[".concat(t._pluginName,"]")),e}))}),Promise.resolve(t))}},go=function(e,t){return Pi(e).reduce((function(e,n){return e.then((function(e){return!1!==e&&n.apply(void 0,ze(t))}))["catch"]((function(e){throw n._pluginName&&(e.message+="[".concat(n._pluginName,"]")),e}))}),Promise.resolve(!0))},mo="5.0.0-rc.5";function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var wo=dt("LC:Realtime"),Eo=new fi("push-router"),Oo={},So=function(e){function t(r){var i,o=r.plugins,s=Je(r,["plugins"]);wo("initializing Realtime %s %O",mo,s),i=e.call(this)||this;var a=s.appId;if("string"!==typeof a)throw new TypeError("appId [".concat(a,"] is not a string"));if(Oo[a])throw new Error("App [".concat(a,"] is aleady initialized."));if(Oo[a]=!0,"string"!==typeof s.appKey)throw new TypeError("appKey [".concat(s.appKey,"] is not a string"));if(Mi(a)&&!s.server)throw new TypeError("server option is required for apps from CN region");i._options=bo({appId:void 0,appKey:void 0,pushOfflineMessages:!1,noBinary:!1,ssl:!0,RTMServerName:"undefined"!==typeof n?n.env.RTM_SERVER_NAME:void 0},s),i._cache=new fi("endpoints");var u=Ni(Xe(i));u.clients=new Set,u.pendingClients=new Set;var c=[].concat(ze(Pi(t.__preRegisteredPlugins)),ze(Pi(o)));return wo("Using plugins %o",c.map((function(e){return e.name}))),i._plugins=c.reduce((function(e,t){return Object.keys(t).forEach((function(n){({}).hasOwnProperty.call(t,n)&&"name"!==n&&(t.name&&Pi(t[n]).forEach((function(e){e._pluginName=t.name})),e[n]=Pi(e[n]).concat(t[n]))})),e}),{}),yo(i._plugins.onRealtimeCreate,Xe(i)),i}et(t,e);var r=t.prototype;return r._request=function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a,u,c,f,l,h,p,d,y;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.method,r=t.url,i=t.version,o=void 0===i?"1.1":i,s=t.path,a=t.query,u=t.headers,c=t.data,f=r,f){e.next=9;break}return l=this._options,h=l.appId,p=l.server,e.next=6,this.constructor._getServerUrls({appId:h,server:p});case 6:d=e.sent,y=d.api,f="".concat(y,"/").concat(o).concat(s);case 9:return e.abrupt("return",ho({url:f,method:n,query:a,headers:bo({"X-LC-Id":this._options.appId,"X-LC-Key":this._options.appKey},u),data:c}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),r._open=function(){var e=this;if(this._openPromise)return this._openPromise;var t="protobuf2";this._options.noBinary&&(t="proto2base64");var n=3;this._options.pushOfflineMessages&&(n=1);var r={format:t,version:n};return this._openPromise=new Promise((function(t,n){wo("No connection established, create a new one.");var i=new uo((function(){return e._getRTMServers(e._options)}),r);i.on(qi,(function(){return t(i)})).on(Hi,n).on(so,ke(Re.mark((function t(){return Re.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return wo("Connection expired. Refresh endpoints."),e._cache.set("endpoints",null,0),t.next=4,e._getRTMServers(e._options);case 4:i.urls=t.sent,i.disconnect();case 6:case"end":return t.stop()}}),t)})))).on(Ki,e._dispatchCommand.bind(e)),[Vi,Yi,$i,Wi,zi,Gi].forEach((function(t){return i.on(t,(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];wo("".concat(t," event emitted. %o"),r),e.emit.apply(e,[t].concat(r)),t!==Yi&&Ni(e).clients.forEach((function(e){e.emit.apply(e,[t].concat(r))}))}))})),i.handleClose=function(e){var t=[no.APP_NOT_AVAILABLE,no.INVALID_LOGIN,no.INVALID_ORIGIN].some((function(t){return t===e.code}));t?this["throw"](ro(e)):this.disconnect()},Ni(e).connection=i})),this._openPromise},r._getRTMServers=function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.RTMServers){e.next=2;break}return e.abrupt("return",jr(Pi(t.RTMServers)));case 2:if(r=this._cache.get("endpoints"),!r){e.next=7;break}n=r,e.next=14;break;case 7:return e.next=9,this.constructor._fetchRTMServers(t);case 9:if(n=e.sent,i=n,o=i.server,s=i.secondary,a=i.ttl,"string"===typeof o||"string"===typeof s||"number"===typeof a){e.next=13;break}throw new Error("malformed RTM route response: ".concat(JSON.stringify(n)));case 13:this._cache.set("endpoints",n,1e3*n.ttl);case 14:return wo("endpoint info: %O",n),e.abrupt("return",[n.server,n.secondary]);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t._getServerUrls=function(){var e=ke(Re.mark((function e(t){var n,r,i,o;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.appId,r=t.server,wo("fetch server urls"),!r){e.next=6;break}if("string"===typeof r){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",{RTMRouter:r,api:r});case 6:if(i=Eo.get(n),!i){e.next=9;break}return e.abrupt("return",i);case 9:return o="https://",e.abrupt("return",ho({url:"https://app-router.com/2/route",query:{appId:n},timeout:2e4}).then(vi(wo)).then((function(e){var t=e.rtm_router_server,r=e.api_server,i=e.ttl,s=void 0===i?3600:i;if(!t)throw new Error("rtm router not exists");var a={RTMRouter:"".concat(o).concat(t),api:"".concat(o).concat(r)};return Eo.set(n,a,1e3*s),a}))["catch"]((function(){var e=n.slice(0,8).toLowerCase(),t="lncldglobal.com";return{RTMRouter:"".concat(o).concat(e,".rtm.").concat(t),api:"".concat(o).concat(e,".api.").concat(t)}})));case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),t._fetchRTMServers=function(e){var t=e.appId,n=e.ssl,r=e.server,i=e.RTMServerName;return wo("fetch endpoint info"),this._getServerUrls({appId:t,server:r}).then(vi(wo)).then((function(e){var r=e.RTMRouter;return ho({url:"".concat(r,"/v1/route"),query:{appId:t,secure:n,features:ki?"wechat":void 0,server:i,_t:Date.now()},timeout:2e4}).then(vi(wo))}))},r._close=function(){this._openPromise&&this._openPromise.then((function(e){return e.close()})),delete this._openPromise},r.retry=function(){var e=Ni(this),t=e.connection;if(!t)throw new Error("no connection established");if(t.cannot("retry"))throw new Error("retrying not allowed when not disconnected. the connection is now ".concat(t.current));return t.retry()},r.pause=function(){var e=Ni(this),t=e.connection;t&&t.can("pause")&&t.pause()},r.resume=function(){var e=Ni(this),t=e.connection;t&&t.can("resume")&&t.resume()},r._registerPending=function(e){Ni(this).pendingClients.add(e)},r._deregisterPending=function(e){Ni(this).pendingClients["delete"](e)},r._register=function(e){Ni(this).clients.add(e)},r._deregister=function(e){var t=Ni(this);t.clients["delete"](e),t.clients.size+t.pendingClients.size===0&&this._close()},r._dispatchCommand=function(e){return go(this._plugins.beforeCommandDispatch,[e,this]).then((function(t){return!!t&&wo("[WARN] Unexpected message received: %O",Ri(e))}))},t}(Ce),To=Promise,Ao=o((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),Io=[],No=0;No<256;++No)Io[No]=(No+256).toString(16).substr(1);function Co(e,t){var n=t||0,r=Io;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}var xo=Co;function Ro(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||Ao)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||xo(i)}var Po=Ro;function jo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}var ko=jo;function Lo(e,t){return Lr(e)||ko(e,t)||Ve(e,t)||Dr()}var Mo=Lo,Do=o((function(e,t){(function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,s,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),l=new Uint8Array(f);for(t=0;t<u;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],l[c++]=r<<2|i>>4,l[c++]=(15&i)<<4|o>>2,l[c++]=(3&o)<<6|63&s;return f}})()})),Bo=Do.encode,Uo=Do.decode;function Fo(){this.__data__=[],this.size=0}var qo=Fo;function Vo(e,t){return e===t||e!==e&&t!==t}var Yo=Vo;function $o(e,t){var n=e.length;while(n--)if(Yo(e[n][0],t))return n;return-1}var Wo=$o,zo=Array.prototype,Go=zo.splice;function Ho(e){var t=this.__data__,n=Wo(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Go.call(t,n,1),--this.size,!0}var Ko=Ho;function Jo(e){var t=this.__data__,n=Wo(t,e);return n<0?void 0:t[n][1]}var Qo=Jo;function Xo(e){return Wo(this.__data__,e)>-1}var Zo=Xo;function es(e,t){var n=this.__data__,r=Wo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ts=es;function ns(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}ns.prototype.clear=qo,ns.prototype["delete"]=Ko,ns.prototype.get=Qo,ns.prototype.has=Zo,ns.prototype.set=ts;var rs=ns;function is(){this.__data__=new rs,this.size=0}var os=is;function ss(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var as=ss;function us(e){return this.__data__.get(e)}var cs=us;function fs(e){return this.__data__.has(e)}var ls=fs,hs=Lt["__core-js_shared__"],ps=hs,ds=function(){var e=/[^.]+$/.exec(ps&&ps.keys&&ps.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ys(e){return!!ds&&ds in e}var vs=ys,gs=Function.prototype,ms=gs.toString;function _s(e){if(null!=e){try{return ms.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var bs=_s,ws=/[\\^$.*+?()[\]{}|]/g,Es=/^\[object .+?Constructor\]$/,Os=Function.prototype,Ss=Object.prototype,Ts=Os.toString,As=Ss.hasOwnProperty,Is=RegExp("^"+Ts.call(As).replace(ws,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ns(e){if(!gr(e)||vs(e))return!1;var t=Or(e)?Is:Es;return t.test(bs(e))}var Cs=Ns;function xs(e,t){return null==e?void 0:e[t]}var Rs=xs;function Ps(e,t){var n=Rs(e,t);return Cs(n)?n:void 0}var js=Ps,ks=js(Lt,"Map"),Ls=ks,Ms=js(Object,"create"),Ds=Ms;function Bs(){this.__data__=Ds?Ds(null):{},this.size=0}var Us=Bs;function Fs(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qs=Fs,Vs="__lodash_hash_undefined__",Ys=Object.prototype,$s=Ys.hasOwnProperty;function Ws(e){var t=this.__data__;if(Ds){var n=t[e];return n===Vs?void 0:n}return $s.call(t,e)?t[e]:void 0}var zs=Ws,Gs=Object.prototype,Hs=Gs.hasOwnProperty;function Ks(e){var t=this.__data__;return Ds?void 0!==t[e]:Hs.call(t,e)}var Js=Ks,Qs="__lodash_hash_undefined__";function Xs(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ds&&void 0===t?Qs:t,this}var Zs=Xs;function ea(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}ea.prototype.clear=Us,ea.prototype["delete"]=qs,ea.prototype.get=zs,ea.prototype.has=Js,ea.prototype.set=Zs;var ta=ea;function na(){this.size=0,this.__data__={hash:new ta,map:new(Ls||rs),string:new ta}}var ra=na;function ia(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var oa=ia;function sa(e,t){var n=e.__data__;return oa(t)?n["string"==typeof t?"string":"hash"]:n.map}var aa=sa;function ua(e){var t=aa(this,e)["delete"](e);return this.size-=t?1:0,t}var ca=ua;function fa(e){return aa(this,e).get(e)}var la=fa;function ha(e){return aa(this,e).has(e)}var pa=ha;function da(e,t){var n=aa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ya=da;function va(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}va.prototype.clear=ra,va.prototype["delete"]=ca,va.prototype.get=la,va.prototype.has=pa,va.prototype.set=ya;var ga=va,ma=200;function _a(e,t){var n=this.__data__;if(n instanceof rs){var r=n.__data__;if(!Ls||r.length<ma-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ga(r)}return n.set(e,t),this.size=n.size,this}var ba=_a;function wa(e){var t=this.__data__=new rs(e);this.size=t.size}wa.prototype.clear=os,wa.prototype["delete"]=as,wa.prototype.get=cs,wa.prototype.has=ls,wa.prototype.set=ba;var Ea=wa,Oa="__lodash_hash_undefined__";function Sa(e){return this.__data__.set(e,Oa),this}var Ta=Sa;function Aa(e){return this.__data__.has(e)}var Ia=Aa;function Na(e){var t=-1,n=null==e?0:e.length;this.__data__=new ga;while(++t<n)this.add(e[t])}Na.prototype.add=Na.prototype.push=Ta,Na.prototype.has=Ia;var Ca=Na;function xa(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var Ra=xa;function Pa(e,t){return e.has(t)}var ja=Pa,ka=1,La=2;function Ma(e,t,n,r,i,o){var s=n&ka,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var f=-1,l=!0,h=n&La?new Ca:void 0;o.set(e,t),o.set(t,e);while(++f<a){var p=e[f],d=t[f];if(r)var y=s?r(d,p,f,t,e,o):r(p,d,f,e,t,o);if(void 0!==y){if(y)continue;l=!1;break}if(h){if(!Ra(t,(function(e,t){if(!ja(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){l=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){l=!1;break}}return o["delete"](e),o["delete"](t),l}var Da=Ma,Ba=Lt.Uint8Array,Ua=Ba;function Fa(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var qa=Fa;function Va(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ya=Va,$a=1,Wa=2,za="[object Boolean]",Ga="[object Date]",Ha="[object Error]",Ka="[object Map]",Ja="[object Number]",Qa="[object RegExp]",Xa="[object Set]",Za="[object String]",eu="[object Symbol]",tu="[object ArrayBuffer]",nu="[object DataView]",ru=Dt?Dt.prototype:void 0,iu=ru?ru.valueOf:void 0;function ou(e,t,n,r,i,o,s){switch(n){case nu:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tu:return!(e.byteLength!=t.byteLength||!o(new Ua(e),new Ua(t)));case za:case Ga:case Ja:return Yo(+e,+t);case Ha:return e.name==t.name&&e.message==t.message;case Qa:case Za:return e==t+"";case Ka:var a=qa;case Xa:var u=r&$a;if(a||(a=Ya),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=Wa,s.set(e,t);var f=Da(a(e),a(t),r,i,o,s);return s["delete"](e),f;case eu:if(iu)return iu.call(e)==iu.call(t)}return!1}var su=ou;function au(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}var uu=au;function cu(e,t,n){var r=t(e);return ln(e)?r:uu(r,n(e))}var fu=cu;function lu(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var hu=lu;function pu(){return[]}var du=pu,yu=Object.prototype,vu=yu.propertyIsEnumerable,gu=Object.getOwnPropertySymbols,mu=gu?function(e){return null==e?[]:(e=Object(e),hu(gu(e),(function(t){return vu.call(e,t)})))}:du,_u=mu;function bu(e){return fu(e,Ir,_u)}var wu=bu,Eu=1,Ou=Object.prototype,Su=Ou.hasOwnProperty;function Tu(e,t,n,r,i,o){var s=n&Eu,a=wu(e),u=a.length,c=wu(t),f=c.length;if(u!=f&&!s)return!1;var l=u;while(l--){var h=a[l];if(!(s?h in t:Su.call(t,h)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);var y=s;while(++l<u){h=a[l];var v=e[h],g=t[h];if(r)var m=s?r(g,v,h,t,e,o):r(v,g,h,e,t,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){d=!1;break}y||(y="constructor"==h)}if(d&&!y){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(d=!1)}return o["delete"](e),o["delete"](t),d}var Au=Tu,Iu=js(Lt,"DataView"),Nu=Iu,Cu=js(Lt,"Promise"),xu=Cu,Ru=js(Lt,"Set"),Pu=Ru,ju=js(Lt,"WeakMap"),ku=ju,Lu="[object Map]",Mu="[object Object]",Du="[object Promise]",Bu="[object Set]",Uu="[object WeakMap]",Fu="[object DataView]",qu=bs(Nu),Vu=bs(Ls),Yu=bs(xu),$u=bs(Pu),Wu=bs(ku),zu=Xt;(Nu&&zu(new Nu(new ArrayBuffer(1)))!=Fu||Ls&&zu(new Ls)!=Lu||xu&&zu(xu.resolve())!=Du||Pu&&zu(new Pu)!=Bu||ku&&zu(new ku)!=Uu)&&(zu=function(e){var t=Xt(e),n=t==Mu?e.constructor:void 0,r=n?bs(n):"";if(r)switch(r){case qu:return Fu;case Vu:return Lu;case Yu:return Du;case $u:return Bu;case Wu:return Uu}return t});var Gu=zu,Hu=1,Ku="[object Arguments]",Ju="[object Array]",Qu="[object Object]",Xu=Object.prototype,Zu=Xu.hasOwnProperty;function ec(e,t,n,r,i,o){var s=ln(e),a=ln(t),u=s?Ju:Gu(e),c=a?Ju:Gu(t);u=u==Ku?Qu:u,c=c==Ku?Qu:c;var f=u==Qu,l=c==Qu,h=u==c;if(h&&dn(e)){if(!dn(t))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new Ea),s||er(e)?Da(e,t,n,r,i,o):su(e,t,u,n,r,i,o);if(!(n&Hu)){var p=f&&Zu.call(e,"__wrapped__"),d=l&&Zu.call(t,"__wrapped__");if(p||d){var y=p?e.value():e,v=d?t.value():t;return o||(o=new Ea),i(y,v,n,r,o)}}return!!h&&(o||(o=new Ea),Au(e,t,n,r,i,o))}var tc=ec;function nc(e,t,n,r,i){return e===t||(null==e||null==t||!en(e)&&!en(t)?e!==e&&t!==t:tc(e,t,n,r,nc,i))}var rc=nc,ic=1,oc=2;function sc(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;e=Object(e);while(i--){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}while(++i<o){a=n[i];var u=a[0],c=e[u],f=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var l=new Ea;if(r)var h=r(c,f,u,e,t,l);if(!(void 0===h?rc(f,c,ic|oc,r,l):h))return!1}}return!0}var ac=sc;function uc(e){return e===e&&!gr(e)}var cc=uc;function fc(e){var t=Ir(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,cc(i)]}return t}var lc=fc;function hc(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var pc=hc;function dc(e){var t=lc(e);return 1==t.length&&t[0][2]?pc(t[0][0],t[0][1]):function(n){return n===e||ac(n,e,t)}}var yc=dc,vc="[object Symbol]";function gc(e){return"symbol"==typeof e||en(e)&&Xt(e)==vc}var mc=gc,_c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bc=/^\w*$/;function wc(e,t){if(ln(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!mc(e))||(bc.test(e)||!_c.test(e)||null!=t&&e in Object(t))}var Ec=wc,Oc="Expected a function";function Sc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Oc);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Sc.Cache||ga),n}Sc.Cache=ga;var Tc=Sc,Ac=500;function Ic(e){var t=Tc(e,(function(e){return n.size===Ac&&n.clear(),e})),n=t.cache;return t}var Nc=Ic,Cc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xc=/\\(\\)?/g,Rc=Nc((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Cc,(function(e,n,r,i){t.push(r?i.replace(xc,"$1"):n||e)})),t})),Pc=Rc,jc=1/0,kc=Dt?Dt.prototype:void 0,Lc=kc?kc.toString:void 0;function Mc(e){if("string"==typeof e)return e;if(ln(e))return At(e,Mc)+"";if(mc(e))return Lc?Lc.call(e):"";var t=e+"";return"0"==t&&1/e==-jc?"-0":t}var Dc=Mc;function Bc(e){return null==e?"":Dc(e)}var Uc=Bc;function Fc(e,t){return ln(e)?e:Ec(e,t)?[e]:Pc(Uc(e))}var qc=Fc,Vc=1/0;function Yc(e){if("string"==typeof e||mc(e))return e;var t=e+"";return"0"==t&&1/e==-Vc?"-0":t}var $c=Yc;function Wc(e,t){t=qc(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[$c(t[n++])];return n&&n==r?e:void 0}var zc=Wc;function Gc(e,t,n){var r=null==e?void 0:zc(e,t);return void 0===r?n:r}var Hc=Gc;function Kc(e,t){return null!=e&&t in Object(e)}var Jc=Kc;function Qc(e,t,n){t=qc(t,e);var r=-1,i=t.length,o=!1;while(++r<i){var s=$c(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&wn(i)&&mn(s,i)&&(ln(e)||cn(e)))}var Xc=Qc;function Zc(e,t){return null!=e&&Xc(e,t,Jc)}var ef=Zc,tf=1,nf=2;function rf(e,t){return Ec(e)&&cc(t)?pc($c(e),t):function(n){var r=Hc(n,e);return void 0===r&&r===t?ef(n,e):rc(t,r,tf|nf)}}var of=rf;function sf(e){return e}var af=sf;function uf(e){return function(t){return null==t?void 0:t[e]}}var cf=uf;function ff(e){return function(t){return zc(t,e)}}var lf=ff;function hf(e){return Ec(e)?cf($c(e)):lf(e)}var pf=hf;function df(e){return"function"==typeof e?e:null==e?af:"object"==typeof e?ln(e)?of(e[0],e[1]):yc(e):pf(e)}var yf=df;function vf(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var gf=vf;function mf(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);while(++r<i)o[r]=e[r+t];return o}var _f=mf;function bf(e,t){return t.length<2?e:zc(e,_f(t,0,-1))}var wf=bf;function Ef(e,t){return t=qc(t,e),e=wf(e,t),null==e||delete e[$c(gf(t))]}var Of=Ef,Sf=Array.prototype,Tf=Sf.splice;function Af(e,t){var n=e?t.length:0,r=n-1;while(n--){var i=t[n];if(n==r||i!==o){var o=i;mn(i)?Tf.call(e,i,1):Of(e,i)}}return e}var If=Af;function Nf(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;t=yf(t);while(++r<o){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return If(e,i),n}var Cf=Nf,xf="[object Map]",Rf="[object Set]",Pf=Object.prototype,jf=Pf.hasOwnProperty;function kf(e){if(null==e)return!0;if(Tr(e)&&(ln(e)||"string"==typeof e||"function"==typeof e.splice||dn(e)||er(e)||cn(e)))return!e.length;var t=Gu(e);if(t==xf||t==Rf)return!e.size;if(ar(e))return!yr(e).length;for(var n in e)if(jf.call(e,n))return!1;return!0}var Lf=kf;function Mf(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var Df=Mf,Bf=function(){try{var e=js(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Uf=Bf;function Ff(e,t,n){"__proto__"==t&&Uf?Uf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var qf=Ff,Vf=Object.prototype,Yf=Vf.hasOwnProperty;function $f(e,t,n){var r=e[t];Yf.call(e,t)&&Yo(r,n)&&(void 0!==n||t in e)||qf(e,t,n)}var Wf=$f;function zf(e,t,n,r){var i=!n;n||(n={});var o=-1,s=t.length;while(++o<s){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;void 0===u&&(u=e[a]),i?qf(n,a,u):Wf(n,a,u)}return n}var Gf=zf;function Hf(e,t){return e&&Gf(t,Ir(t),e)}var Kf=Hf;function Jf(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var Qf=Jf,Xf=Object.prototype,Zf=Xf.hasOwnProperty;function el(e){if(!gr(e))return Qf(e);var t=ar(e),n=[];for(var r in e)("constructor"!=r||!t&&Zf.call(e,r))&&n.push(r);return n}var tl=el;function nl(e){return Tr(e)?ir(e,!0):tl(e)}var rl=nl;function il(e,t){return e&&Gf(t,rl(t),e)}var ol=il,sl=o((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n,o=i?Lt.Buffer:void 0,s=o?o.allocUnsafe:void 0;function a(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}e.exports=a}));function al(e,t){return Gf(e,_u(e),t)}var ul=al,cl=Object.getOwnPropertySymbols,fl=cl?function(e){var t=[];while(e)uu(t,_u(e)),e=Jr(e);return t}:du,ll=fl;function hl(e,t){return Gf(e,ll(e),t)}var pl=hl;function dl(e){return fu(e,rl,ll)}var yl=dl,vl=Object.prototype,gl=vl.hasOwnProperty;function ml(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&gl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var _l=ml;function bl(e){var t=new e.constructor(e.byteLength);return new Ua(t).set(new Ua(e)),t}var wl=bl;function El(e,t){var n=t?wl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Ol=El,Sl=/\w*$/;function Tl(e){var t=new e.constructor(e.source,Sl.exec(e));return t.lastIndex=e.lastIndex,t}var Al=Tl,Il=Dt?Dt.prototype:void 0,Nl=Il?Il.valueOf:void 0;function Cl(e){return Nl?Object(Nl.call(e)):{}}var xl=Cl;function Rl(e,t){var n=t?wl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Pl=Rl,jl="[object Boolean]",kl="[object Date]",Ll="[object Map]",Ml="[object Number]",Dl="[object RegExp]",Bl="[object Set]",Ul="[object String]",Fl="[object Symbol]",ql="[object ArrayBuffer]",Vl="[object DataView]",Yl="[object Float32Array]",$l="[object Float64Array]",Wl="[object Int8Array]",zl="[object Int16Array]",Gl="[object Int32Array]",Hl="[object Uint8Array]",Kl="[object Uint8ClampedArray]",Jl="[object Uint16Array]",Ql="[object Uint32Array]";function Xl(e,t,n){var r=e.constructor;switch(t){case ql:return wl(e);case jl:case kl:return new r(+e);case Vl:return Ol(e,n);case Yl:case $l:case Wl:case zl:case Gl:case Hl:case Kl:case Jl:case Ql:return Pl(e,n);case Ll:return new r;case Ml:case Ul:return new r(e);case Dl:return Al(e);case Bl:return new r;case Fl:return xl(e)}}var Zl=Xl,eh=Object.create,th=function(){function e(){}return function(t){if(!gr(t))return{};if(eh)return eh(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),nh=th;function rh(e){return"function"!=typeof e.constructor||ar(e)?{}:nh(Jr(e))}var ih=rh,oh="[object Map]";function sh(e){return en(e)&&Gu(e)==oh}var ah=sh,uh=Qn&&Qn.isMap,ch=uh?Jn(uh):ah,fh=ch,lh="[object Set]";function hh(e){return en(e)&&Gu(e)==lh}var ph=hh,dh=Qn&&Qn.isSet,yh=dh?Jn(dh):ph,vh=yh,gh=1,mh=2,_h=4,bh="[object Arguments]",wh="[object Array]",Eh="[object Boolean]",Oh="[object Date]",Sh="[object Error]",Th="[object Function]",Ah="[object GeneratorFunction]",Ih="[object Map]",Nh="[object Number]",Ch="[object Object]",xh="[object RegExp]",Rh="[object Set]",Ph="[object String]",jh="[object Symbol]",kh="[object WeakMap]",Lh="[object ArrayBuffer]",Mh="[object DataView]",Dh="[object Float32Array]",Bh="[object Float64Array]",Uh="[object Int8Array]",Fh="[object Int16Array]",qh="[object Int32Array]",Vh="[object Uint8Array]",Yh="[object Uint8ClampedArray]",$h="[object Uint16Array]",Wh="[object Uint32Array]",zh={};function Gh(e,t,n,r,i,o){var s,a=t&gh,u=t&mh,c=t&_h;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!gr(e))return e;var f=ln(e);if(f){if(s=_l(e),!a)return vt(e,s)}else{var l=Gu(e),h=l==Th||l==Ah;if(dn(e))return sl(e,a);if(l==Ch||l==bh||h&&!i){if(s=u||h?{}:ih(e),!a)return u?pl(e,ol(s,e)):ul(e,Kf(s,e))}else{if(!zh[l])return i?e:{};s=Zl(e,l,a)}}o||(o=new Ea);var p=o.get(e);if(p)return p;o.set(e,s),vh(e)?e.forEach((function(r){s.add(Gh(r,t,n,r,e,o))})):fh(e)&&e.forEach((function(r,i){s.set(i,Gh(r,t,n,i,e,o))}));var d=c?u?yl:wu:u?keysIn:Ir,y=f?void 0:d(e);return Df(y||e,(function(r,i){y&&(i=r,r=e[i]),Wf(s,i,Gh(r,t,n,i,e,o))})),s}zh[bh]=zh[wh]=zh[Lh]=zh[Mh]=zh[Eh]=zh[Oh]=zh[Dh]=zh[Bh]=zh[Uh]=zh[Fh]=zh[qh]=zh[Ih]=zh[Nh]=zh[Ch]=zh[xh]=zh[Rh]=zh[Ph]=zh[jh]=zh[Vh]=zh[Yh]=zh[$h]=zh[Wh]=!0,zh[Sh]=zh[Th]=zh[kh]=!1;var Hh=Gh,Kh=1,Jh=4;function Qh(e){return Hh(e,Kh|Jh)}var Xh=Qh;function Zh(e){return function(t,n,r){var i=Object(t);if(!Tr(t)){var o=yf(n);t=Ir(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var ep=Zh;function tp(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}var np=tp,rp=NaN,ip=/^\s+|\s+$/g,op=/^[-+]0x[0-9a-f]+$/i,sp=/^0b[01]+$/i,ap=/^0o[0-7]+$/i,up=parseInt;function cp(e){if("number"==typeof e)return e;if(mc(e))return rp;if(gr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=gr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ip,"");var n=sp.test(e);return n||ap.test(e)?up(e.slice(2),n?2:8):op.test(e)?rp:+e}var fp=cp,lp=1/0,hp=17976931348623157e292;function pp(e){if(!e)return 0===e?e:0;if(e=fp(e),e===lp||e===-lp){var t=e<0?-1:1;return t*hp}return e===e?e:0}var dp=pp;function yp(e){var t=dp(e),n=t%1;return t===t?n?t-n:t:0}var vp=yp,gp=Math.max;function mp(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vp(n);return i<0&&(i=gp(r+i,0)),np(e,yf(t),i)}var _p,bp=mp,wp=ep(bp),Ep=wp,Op="unreadmessagescountupdate",Sp="close",Tp="conflict",Ap="conversationinfoupdated",Ip="unhandledmessage",Np="invited",Cp="kicked",xp="membersjoined",Rp="membersleft",Pp="memberinfoupdated",jp="blocked",kp="unblocked",Lp="membersblocked",Mp="membersunblocked",Dp="muted",Bp="unmuted",Up="membersmuted",Fp="membersunmuted",qp="message",Vp="messagerecall",Yp="messageupdate",$p="lastdeliveredatupdate",Wp="lastreadatupdate",zp="infoupdated",Gp=Object.freeze({__proto__:null,UNREAD_MESSAGES_COUNT_UPDATE:Op,CLOSE:Sp,CONFLICT:Tp,CONVERSATION_INFO_UPDATED:Ap,UNHANDLED_MESSAGE:Ip,INVITED:Np,KICKED:Cp,MEMBERS_JOINED:xp,MEMBERS_LEFT:Rp,MEMBER_INFO_UPDATED:Pp,BLOCKED:jp,UNBLOCKED:kp,MEMBERS_BLOCKED:Lp,MEMBERS_UNBLOCKED:Mp,MUTED:Dp,UNMUTED:Bp,MEMBERS_MUTED:Up,MEMBERS_UNMUTED:Fp,MESSAGE:qp,MESSAGE_RECALL:Vp,MESSAGE_UPDATE:Yp,LAST_DELIVERED_AT_UPDATE:$p,LAST_READ_AT_UPDATE:Wp,INFO_UPDATED:zp});function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jp={NONE:Symbol("none"),SENDING:Symbol("sending"),SENT:Symbol("sent"),DELIVERED:Symbol("delivered"),FAILED:Symbol("failed")};Object.freeze(Jp);var Qp,Xp,Zp=(_p={},G(_p,Jp.NONE,!0),G(_p,Jp.SENDING,!0),G(_p,Jp.SENT,!0),G(_p,Jp.DELIVERED,!0),G(_p,Jp.READ,!0),G(_p,Jp.FAILED,!0),_p),ed=function(){function e(e){Object.assign(this,{content:e},{id:Po(),cid:null,timestamp:new Date,from:void 0,mentionList:[],mentionedAll:!1,_mentioned:!1}),this._setStatus(Jp.NONE)}var t=e.prototype;return t.getPayload=function(){return this.content},t._toJSON=function(){var e=this.id,t=this.cid,n=this.from,r=this.timestamp,i=this.deliveredAt,o=this.updatedAt,s=this.mentionList,a=this.mentionedAll,u=this.mentioned;return{id:e,cid:t,from:n,timestamp:r,deliveredAt:i,updatedAt:o,mentionList:s,mentionedAll:a,mentioned:u}},t.toJSON=function(){return Kp(Kp({},this._toJSON()),{},{data:this.content})},t.toFullJSON=function(){var e=this.content,t=this.id,n=this.cid,r=this.from,i=this.timestamp,o=this.deliveredAt,s=this._updatedAt,a=this.mentionList,u=this.mentionedAll;return{data:e,id:t,cid:n,from:r,timestamp:_i(i),deliveredAt:_i(o),updatedAt:_i(s),mentionList:a,mentionedAll:u}},t._setStatus=function(e){if(!Zp[e])throw new Error("Invalid message status");this._status=e},t._updateMentioned=function(e){this._mentioned=this.from!==e&&(this.mentionedAll||this.mentionList.indexOf(e)>-1)},t.getMentionList=function(){return this.mentionList},t.setMentionList=function(e){return this.mentionList=Pi(e),this},t.mentionAll=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.mentionedAll=Boolean(e),this},e.validate=function(){return!0},e.parse=function(e,t){return t||new this(e)},Vr(e,[{key:"status",get:function(){return this._status}},{key:"timestamp",get:function(){return this._timestamp},set:function(e){this._timestamp=mi(e)}},{key:"deliveredAt",get:function(){return this._deliveredAt},set:function(e){this._deliveredAt=mi(e)}},{key:"updatedAt",get:function(){return this._updatedAt||this.timestamp},set:function(e){this._updatedAt=mi(e)}},{key:"mentioned",get:function(){return this._mentioned}}]),e}(),td=function(e){if("number"!==typeof e)throw new TypeError("".concat(e," is not a Number"));return function(t){t.TYPE=e,t.validate=function(t){return t._lctype===e},t.prototype._getType=function(){return{_lctype:e}}}},nd=function(e){if("string"!==typeof e){if(!Array.isArray(e))throw new TypeError("".concat(e," is not an Array"));if(e.some((function(e){return"string"!==typeof e})))throw new TypeError("fields contains non-string typed member")}return function(t){var n=Oi?Si(t,"_customFields"):t._customFields;n=Array.isArray(n)?n:[],t._customFields=n.concat(e)}},rd=function(e){Oi&&(e.parse=Si(e,"parse"))};function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sd,ad,ud=(Qp=nd(["_lctext","_lcattrs"]),Qp(Xp=function(e){function t(){return e.apply(this,arguments)||this}et(t,e);var n=t.prototype;return n.setText=function(e){return this._lctext=e,this},n.getText=function(){return this._lctext},n.setAttributes=function(e){return this._lcattrs=e,this},n.getAttributes=function(){return this._lcattrs},n._getCustomFields=function(){var e=this,t=Array.isArray(this.constructor._customFields)?this.constructor._customFields:[];return t.reduce((function(t,n){return"string"!==typeof n||(t[n]=e[n]),t}),{})},n._getType=function(){throw new Error("not implemented")},n.getPayload=function(){return Ci(od(od({_lctext:this.getText(),_lcattrs:this.getAttributes()},this._getCustomFields()),this._getType()))},n.toJSON=function(){var t=this.type,n=this.text,r=this.attributes,i=this.summary;return od(od({},e.prototype._toJSON.call(this)),{},{type:t,text:n,attributes:r,summary:i})},n.toFullJSON=function(){return od(od({},e.prototype.toFullJSON.call(this)),{},{data:this.getPayload()})},t.parse=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new this;n.content=t;var r=Oi?Si(n.constructor,"_customFields"):n.constructor._customFields,i=Array.isArray(r)?r:[];return i=i.reduce((function(e,n){return"string"!==typeof n||(e[n]=t[n]),e}),{}),Object.assign(n,i),e.parse.call(this,t,n)},Vr(t,[{key:"type",get:function(){return this.constructor.TYPE}},{key:"text",set:function(e){return this.setText(e)},get:function(){return this.getText()}},{key:"attributes",set:function(e){return this.setAttributes(e)},get:function(){return this.getAttributes()}},{key:"summary",get:function(){return this.text}}]),t}(ed))||Xp),cd=(sd=td(-127),sd(ad=rd(ad=function(e){function t(){return e.apply(this,arguments)||this}return et(t,e),Vr(t,[{key:"summary",get:function(){return"[该消息已撤回]"}}]),t}(ud))||ad)||ad);function fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hd=dt("LC:Conversation"),pd=function(e){var t,n,r=e.getPayload();return r instanceof ArrayBuffer?n=r:t="string"!==typeof r?JSON.stringify(r):r,{msg:t,binaryMsg:n}},dd=pe.QueryDirection,yd=dd.NEW,vd=dd.OLD,gd={NEW_TO_OLD:vd,OLD_TO_NEW:yd};Object.freeze(gd);var md=function(e){function t(t,n){var r,i=t.id,o=t.lastMessageAt,s=t.lastMessage,a=t.lastDeliveredAt,u=t.lastReadAt,c=t.unreadMessagesCount,f=void 0===c?0:c,l=t.members,h=void 0===l?[]:l,p=t.mentioned,d=void 0!==p&&p,y=Je(t,["id","lastMessageAt","lastMessage","lastDeliveredAt","lastReadAt","unreadMessagesCount","members","mentioned"]);return r=e.call(this)||this,Object.assign(Xe(r),ld({id:i,lastMessageAt:o,lastMessage:s,members:h},y)),r.members=Array.from(new Set(r.members)),Object.assign(Ni(Xe(r)),{messagesWaitingForReceipt:{},lastDeliveredAt:a,lastReadAt:u,unreadMessagesCount:f,mentioned:d}),r._client=n,hd.enabled&&Cr(Gp).forEach((function(e){return r.on(e,(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r._debug("".concat(e," event emitted. %o"),n)}))})),yo(r._client._plugins.onConversationCreate,Xe(r)),r}et(t,e);var n=t.prototype;return n._setUnreadMessagesMentioned=function(e){Ni(this).unreadMessagesMentioned=Boolean(e)},n._setLastDeliveredAt=function(e){var t=mi(e);t<Ni(this).lastDeliveredAt||(Ni(this).lastDeliveredAt=t,this.emit($p))},n._setLastReadAt=function(e){var t=mi(e);t<Ni(this).lastReadAt||(Ni(this).lastReadAt=t,this.emit(Wp))},n.toFullJSON=function(){var e=this.id,t=this.members,n=this.lastMessageAt,r=this.lastDeliveredAt,i=this.lastReadAt,o=this.lastMessage,s=this.unreadMessagesCount;return{id:e,members:t,lastMessageAt:_i(n),lastDeliveredAt:_i(r),lastReadAt:_i(i),lastMessage:o?o.toFullJSON():void 0,unreadMessagesCount:s}},n.toJSON=function(){var e=this.id,t=this.members,n=this.lastMessageAt,r=this.lastDeliveredAt,i=this.lastReadAt,o=this.lastMessage,s=this.unreadMessagesCount,a=this.unreadMessagesMentioned;return{id:e,members:t,lastMessageAt:n,lastDeliveredAt:r,lastReadAt:i,lastMessage:o?o.toJSON():void 0,unreadMessagesCount:s,unreadMessagesMentioned:a}},n._debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];hd.apply(void 0,t.concat(["[".concat(this.id,"]")]))},n._send=function(e){var t;null===e.cmd&&(e.cmd="conv"),"conv"===e.cmd&&null===e.convMessage&&(e.convMessage=new le),e.convMessage&&null===e.convMessage.cid&&(e.convMessage.cid=this.id);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this._client)._send.apply(t,[e].concat(r))},n.send=function(){var e=ke(Re.mark((function e(t,n){var r,i,o,s,a,u,c,f,l,h,p,d,y,v,g,m,_;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._debug(t,"send"),t instanceof ed){e.next=3;break}throw new TypeError("".concat(t," is not a Message"));case 3:return r=ld(ld(ld({},t.constructor.sendOptions),"function"===typeof t.constructor.getSendOptions?t.constructor.getSendOptions(t):{}),n),i=r["transient"],o=r.receipt,s=r.priority,a=r.pushData,u=r.will,o&&(this["transient"]?console.warn("receipt option is ignored as the conversation is transient."):i?console.warn("receipt option is ignored as the message is sent transiently."):this.members.length>2&&console.warn("receipt option is recommended to be used in one-on-one conversation.")),s&&!this["transient"]&&console.warn("priority option is ignored as the conversation is not transient."),Object.assign(t,{cid:this.id,from:this._client.id}),t._setStatus(Jp.SENDING),c=pd(t),f=c.msg,l=c.binaryMsg,h=new be({cmd:"direct",directMessage:new ue({msg:f,binaryMsg:l,cid:this.id,r:o,transient:i,dt:t.id,pushData:JSON.stringify(a),will:u,mentionPids:t.mentionList,mentionAll:t.mentionedAll}),priority:s}),e.prev=10,e.next=13,this._send(h);case 13:if(p=e.sent,d=p.ackMessage,y=d.uid,v=d.t,g=d.code,m=d.reason,_=d.appCode,null===g){e.next=17;break}throw ro({code:g,reason:m,appCode:_});case 17:return Object.assign(t,{id:y,timestamp:v}),i||(this.lastMessage=t,this.lastMessageAt=t.timestamp),t._setStatus(Jp.SENT),o&&(Ni(this).messagesWaitingForReceipt[t.id]=t),e.abrupt("return",t);case 24:throw e.prev=24,e.t0=e["catch"](10),t._setStatus(Jp.FAILED),e.t0;case 28:case"end":return e.stop()}}),e,this,[[10,24]])})));function t(t,n){return e.apply(this,arguments)}return t}(),n._update=function(){var e=ke(Re.mark((function e(t,n,r){var i,o,s,a,u,c,f,l;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._debug("patch %O %O %O",t,n,r),!(t instanceof ed)){e.next=8;break}if(t.from===this._client.id){e.next=4;break}throw new Error("Updating message from others is not allowed");case 4:if(t.status===Jp.SENT||t.status===Jp.DELIVERED){e.next=6;break}throw new Error("Message is not sent");case 6:e.next=10;break;case 8:if(t.id&&t.timestamp){e.next=10;break}throw new TypeError("".concat(t," is not a Message"));case 10:return r||(s=pd(n),i=s.msg,o=s.binaryMsg),e.next=13,this._send(new be({cmd:Te.patch,op:Ae.modify,patchMessage:new Ee({patches:[new Oe({cid:this.id,mid:t.id,timestamp:Number(t.timestamp),recall:r,data:i,binaryMsg:o,mentionPids:n.mentionList,mentionAll:n.mentionedAll})],lastPatchTime:this._client._lastPatchTime})}));case 13:return a=t.id,u=t.cid,c=t.timestamp,f=t.from,l=t._status,Object.assign(n,{id:a,cid:u,timestamp:c,from:f,_status:l}),this.lastMessage.id===n.id&&(this.lastMessage=n),e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),n.count=function(){var e=ke(Re.mark((function e(){var t;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("count"),e.next=3,this._send(new be({op:"count"}));case 3:return t=e.sent,e.abrupt("return",t.convMessage.count);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n._addMembers=function(){},n._removeMembers=function(){},n.update=function(){var e=ke(Re.mark((function e(t,n){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n instanceof ed){e.next=2;break}throw new TypeError("".concat(n," is not a Message"));case 2:return e.abrupt("return",this._update(t,n,!1));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),n.recall=function(){var e=ke(Re.mark((function e(t){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._update(t,new cd,!0));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.queryMessages=function(){var e=ke(Re.mark((function e(){var t,n,r,i,o,s,a,u,c,f,l,h,p,d,y,v,g=this,m=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:{},this._debug("query messages %O",t),n=t.beforeTime,r=t.beforeMessageId,i=t.afterTime,o=t.afterMessageId,s=t.limit,a=t.direction,u=t.type,c=t.startTime,f=t.startMessageId,l=t.startClosed,h=t.endTime,p=t.endMessageId,d=t.endClosed,!(r||n||o||i)){e.next=6;break}return console.warn("DEPRECATION: queryMessages options beforeTime, beforeMessageId, afterTime and afterMessageId are deprecated in favor of startTime, startMessageId, endTime and endMessageId."),e.abrupt("return",this.queryMessages({startTime:n,startMessageId:r,endTime:i,endMessageId:o,limit:s}));case 6:if(!f||c){e.next=8;break}throw new Error("query option startMessageId must be used with option startTime");case 8:if(!p||h){e.next=10;break}throw new Error("query option endMessageId must be used with option endTime");case 10:return y={t:c,mid:f,tIncluded:l,tt:h,tmid:p,ttIncluded:d,l:s,lctype:u},y.t instanceof Date&&(y.t=y.t.getTime()),y.tt instanceof Date&&(y.tt=y.tt.getTime()),void 0!==a?y.direction=a:y.tt>y.t&&(y.direction=gd.OLD_TO_NEW),e.next=16,this._send(new be({cmd:"logs",logsMessage:new pe(Object.assign(y,{cid:this.id}))}));case 16:return v=e.sent,e.abrupt("return",Promise.all(v.logsMessage.logs.map(function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a,u,c,f,l,h,p,d;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.msgId,r=t.timestamp,i=t.patchTimestamp,o=t.from,s=t.ackAt,a=t.readAt,u=t.data,c=t.mentionAll,f=t.mentionPids,l=t.bin,h={data:u,bin:l,id:n,cid:g.id,timestamp:r,from:o,deliveredAt:s,updatedAt:i,mentionList:f,mentionedAll:c},e.next=4,g._client.parseMessage(h);case 4:return p=e.sent,d=Jp.SENT,2===g.members.length&&(s&&(d=Jp.DELIVERED),s&&g._setLastDeliveredAt(s),a&&g._setLastReadAt(a)),p._setStatus(d),e.abrupt("return",p);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.createMessagesIterator=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.beforeTime,i=n.beforeMessageId,o=n.limit;return{next:function(){return e=void 0===e?t.queryMessages({limit:o,startTime:r,startMessageId:i}):e.then((function(e){return 0===e.length||e.length<o?[]:t.queryMessages({startTime:e[0].timestamp,startMessageId:e[0].id,limit:o})})),e.then((function(e){return{value:Array.from(e),done:0===e.length||e.length<o}}))}}},n.read=function(){var e=ke(Re.mark((function e(){var t;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.unreadMessagesCount=0,this._setUnreadMessagesMentioned(!1),!this["transient"]){e.next=4;break}return e.abrupt("return",this);case 4:return t=this._client,Ni(t).readConversationsBuffer||(Ni(t).readConversationsBuffer=new Set),Ni(t).readConversationsBuffer.add(this),t._doSendRead(),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n._handleReceipt=function(e){var t=e.messageId,n=e.timestamp,r=e.read;r?this._setLastReadAt(n):this._setLastDeliveredAt(n);var i=Ni(this),o=i.messagesWaitingForReceipt,s=o[t];s&&(s._setStatus(Jp.DELIVERED),s.deliveredAt=n,delete o[t])},n.fetchReceiptTimestamps=function(){var e=ke(Re.mark((function e(){var t,n,r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._send(new be({op:"max_read"}));case 2:return t=e.sent,n=t.convMessage,r=n.maxReadTimestamp,i=n.maxAckTimestamp,this._setLastDeliveredAt(i),this._setLastReadAt(r),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n._fetchAllReceiptTimestamps=function(){var e=new le({queryAllMembers:!0});return this._send(new be({op:"max_read",convMessage:e})).then((function(e){var t=e.convMessage.maxReadTuples;return t.filter((function(e){return e.maxAckTimestamp||e.maxReadTimestamp})).map((function(e){var t=e.pid,n=e.maxAckTimestamp,r=e.maxReadTimestamp;return{pid:t,lastDeliveredAt:mi(n),lastReadAt:mi(r)}}))}))},Vr(t,[{key:"unreadMessagesMentioned",get:function(){return Ni(this).unreadMessagesMentioned}},{key:"unreadMessagesCount",set:function(e){e!==this.unreadMessagesCount&&(Ni(this).unreadMessagesCount=e,this._client.emit(Op,[this]))},get:function(){return Ni(this).unreadMessagesCount}},{key:"lastMessageAt",set:function(e){var t=mi(e);t<=this._lastMessageAt||(this._lastMessageAt=t)},get:function(){return this._lastMessageAt}},{key:"lastDeliveredAt",get:function(){return 2!==this.members.length?null:Ni(this).lastDeliveredAt}},{key:"lastReadAt",get:function(){return 2!==this.members.length?null:Ni(this).lastReadAt}}]),t}(Ce),_d=dt("LC:SignatureFactoryRunner");function bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.signature,n=e.timestamp,r=e.nonce;if("string"!==typeof t||"number"!==typeof n||"string"!==typeof r)throw new Error("malformed signature");return{signature:t,timestamp:n,nonce:r}}var wd=function(e,t){return Promise.resolve().then((function(){return _d("call signatureFactory with %O",t),e.apply(void 0,ze(t))})).then(vi((function(e){return _d("sign result %O",e)})),(function(e){throw e.message="sign error: ".concat(e.message),_d(e),e})).then(bd)};function Ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ed(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sd=function(e){var t=e.allowedPids,n=e.failedPids;return{successfulClientIds:t,failures:n.map((function(e){var t=e.pids,n=Je(e,["pids"]);return Object.assign(ro(n),{clientIds:t})}))}},Td=function(e){function t(t,n,r){var i,o=n.creator,s=n.createdAt,a=n.updatedAt,u=n["transient"],c=void 0!==u&&u,f=n.system,l=void 0!==f&&f,h=n.muted,p=void 0!==h&&h,d=n.mutedMembers,y=void 0===d?[]:d,v=Je(n,["creator","createdAt","updatedAt","transient","system","muted","mutedMembers"]);return i=e.call(this,Od(Od({},t),{},{creator:o,createdAt:s,updatedAt:a,mutedMembers:y,transient:c,system:l,muted:p,_attributes:v}),r)||this,i._reset(),i}et(t,e);var n=t.prototype;return n.get=function(e){return Hc(Ni(this).currentAttributes,e)},n.set=function(e,t){this._debug("set [".concat(e,"]: ").concat(t));var n=Ni(this),r=n.pendingAttributes,i=Object.keys(r),o=new RegExp("^".concat(e)),s=i.filter(o.test.bind(o));if(s.forEach((function(e){delete r[e]})),s.length)r[e]=t;else{var a=Ep(i,(function(t){return 0===e.indexOf(t)}));a?ji(r[a],e.slice(a.length+1),t):r[e]=t}return this._buildCurrentAttributes(),this},n._buildCurrentAttributes=function(){var e=Ni(this),t=e.pendingAttributes;Ni(this).currentAttributes=Object.keys(t).reduce((function(e,n){return ji(e,n,t[n])}),Xh(this._attributes))},n._updateServerAttributes=function(e){var t=this;Object.keys(e).forEach((function(n){return ji(t._attributes,n,e[n])})),this._buildCurrentAttributes()},n._reset=function(){Object.assign(Ni(this),{pendingAttributes:{},currentAttributes:this._attributes})},n.save=function(){var e=ke(Re.mark((function e(){var t,n,r;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._debug("save"),t=Ni(this).pendingAttributes,!Lf(t)){e.next=5;break}return this._debug("nothing touched, resolve with self"),e.abrupt("return",this);case 5:return this._debug("attr: %O",t),n=new le({attr:new ne({data:JSON.stringify(wi(t))})}),e.next=9,this._send(new be({op:"update",convMessage:n}));case 9:return r=e.sent,this.updatedAt=r.convMessage.udate,this._attributes=Ni(this).currentAttributes,Ni(this).pendingAttributes={},e.abrupt("return",this);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.fetch=function(){var e=ke(Re.mark((function e(){var t;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this._client.getQuery().equalTo("objectId",this.id),e.next=3,t.find();case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.mute=function(){var e=ke(Re.mark((function e(){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("mute"),e.next=3,this._send(new be({op:"mute"}));case 3:return this["transient"]||(this.muted=!0,this.mutedMembers=Ti(this.mutedMembers,[this._client.id])),e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.unmute=function(){var e=ke(Re.mark((function e(){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("unmute"),e.next=3,this._send(new be({op:"unmute"}));case 3:return this["transient"]||(this.muted=!1,this.mutedMembers=Ai(this.mutedMembers,[this._client.id])),e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n._appendConversationSignature=function(){var e=ke(Re.mark((function e(t,n,r){var i,o;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._client.options.conversationSignatureFactory){e.next=6;break}return i=[this.id,this._client.id,r.sort(),n],e.next=4,wd(this._client.options.conversationSignatureFactory,i);case 4:o=e.sent,Object.assign(t.convMessage,Ei({signature:"s",timestamp:"t",nonce:"n"},o));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),n._appendBlacklistSignature=function(){var e=ke(Re.mark((function e(t,n,r){var i,o;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._client.options.blacklistSignatureFactory){e.next=6;break}return i=[this.id,this._client.id,r.sort(),n],e.next=4,wd(this._client.options.blacklistSignatureFactory,i);case 4:o=e.sent,Object.assign(t.blacklistMessage,Ei({signature:"s",timestamp:"t",nonce:"n"},o));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),n.add=function(){var e=ke(Re.mark((function e(t){var n,r,i,o;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("add",t),"string"===typeof t&&(t=[t]),n=new be({op:"add",convMessage:new le({m:t})}),e.next=5,this._appendConversationSignature(n,"invite",t);case 5:return e.next=7,this._send(n);case 7:return r=e.sent,i=r.convMessage,o=r.convMessage.allowedPids,this._addMembers(o),e.abrupt("return",Sd(i));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.remove=function(){var e=ke(Re.mark((function e(t){var n,r,i,o;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("remove",t),"string"===typeof t&&(t=[t]),n=new be({op:"remove",convMessage:new le({m:t})}),e.next=5,this._appendConversationSignature(n,"kick",t);case 5:return e.next=7,this._send(n);case 7:return r=e.sent,i=r.convMessage,o=r.convMessage.allowedPids,this._removeMembers(o),e.abrupt("return",Sd(i));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.join=function(){var e=ke(Re.mark((function e(){var t=this;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("join"),e.abrupt("return",this.add(this._client.id).then((function(e){var n=e.failures;if(n[0])throw n[0];return t})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.quit=function(){var e=ke(Re.mark((function e(){var t=this;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("quit"),e.abrupt("return",this.remove(this._client.id).then((function(e){var n=e.failures;if(n[0])throw n[0];return t})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.muteMembers=function(){var e=ke(Re.mark((function e(t){var n,r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("mute",t),t=Pi(t),n=new be({op:Ae.add_shutup,convMessage:new le({m:t})}),e.next=5,this._send(n);case 5:return r=e.sent,i=r.convMessage,e.abrupt("return",Sd(i));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.unmuteMembers=function(){var e=ke(Re.mark((function e(t){var n,r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("unmute",t),t=Pi(t),n=new be({op:Ae.remove_shutup,convMessage:new le({m:t})}),e.next=5,this._send(n);case 5:return r=e.sent,i=r.convMessage,e.abrupt("return",Sd(i));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.queryMutedMembers=function(){var e=ke(Re.mark((function e(){var t,n,r,i,o,s,a,u,c=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.limit,r=t.next,this._debug("query muted: limit %O, next: %O",n,r),i=new be({op:Ae.query_shutup,convMessage:new le({limit:n,next:r})}),e.next=5,this._send(i);case 5:return o=e.sent,s=o.convMessage,a=s.m,u=s.next,e.abrupt("return",{results:a,next:u});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.blockMembers=function(){var e=ke(Re.mark((function e(t){var n,r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("block",t),t=Pi(t),n=new be({cmd:"blacklist",op:Ae.block,blacklistMessage:new we({srcCid:this.id,toPids:t})}),e.next=5,this._appendBlacklistSignature(n,"conversation-block-clients",t);case 5:return e.next=7,this._send(n);case 7:return r=e.sent,i=r.blacklistMessage,e.abrupt("return",Sd(i));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.unblockMembers=function(){var e=ke(Re.mark((function e(t){var n,r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._debug("unblock",t),t=Pi(t),n=new be({cmd:"blacklist",op:Ae.unblock,blacklistMessage:new we({srcCid:this.id,toPids:t})}),e.next=5,this._appendBlacklistSignature(n,"conversation-unblock-clients",t);case 5:return e.next=7,this._send(n);case 7:return r=e.sent,i=r.blacklistMessage,e.abrupt("return",Sd(i));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.queryBlockedMembers=function(){var e=ke(Re.mark((function e(){var t,n,r,i,o,s,a,u,c=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.limit,r=t.next,this._debug("query blocked: limit %O, next: %O",n,r),i=new be({cmd:"blacklist",op:Ae.query,blacklistMessage:new we({srcCid:this.id,limit:n,next:r})}),e.next=5,this._send(i);case 5:return o=e.sent,s=o.blacklistMessage,a=s.blockedPids,u=s.next,e.abrupt("return",{results:a,next:u});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.toFullJSON=function(){var t=this.creator,n=this.system,r=this["transient"],i=this.createdAt,o=this.updatedAt,s=this._attributes;return Od(Od({},e.prototype.toFullJSON.call(this)),{},{creator:t,system:n,transient:r,createdAt:_i(i),updatedAt:_i(o)},s)},n.toJSON=function(){var t=this.creator,n=this.system,r=this["transient"],i=this.muted,o=this.mutedMembers,s=this.createdAt,a=this.updatedAt,u=this._attributes;return Od(Od({},e.prototype.toJSON.call(this)),{},{creator:t,system:n,transient:r,muted:i,mutedMembers:o,createdAt:s,updatedAt:a},u)},Vr(t,[{key:"createdAt",set:function(e){this._createdAt=mi(e)},get:function(){return this._createdAt}},{key:"updatedAt",set:function(e){this._updatedAt=mi(e)},get:function(){return this._updatedAt}},{key:"name",get:function(){return this.get("name")},set:function(e){this.set("name",e)}}]),t}(md),Ad={OWNER:"Owner",MANAGER:"Manager",MEMBER:"Member"};Object.freeze(Ad);var Id=function(){function e(e){var t=e.conversation,n=e.memberId,r=e.role;if(!t)throw new Error("conversation requried");if(!n)throw new Error("memberId requried");Object.assign(Ni(this),{conversation:t,memberId:n,role:r})}var t=e.prototype;return t.toJSON=function(){var e=this.conversationId,t=this.memberId,n=this.role,r=this.isOwner;return{conversationId:e,memberId:t,role:n,isOwner:r}},Vr(e,[{key:"conversationId",get:function(){return Ni(this).conversation.id}},{key:"memberId",get:function(){return Ni(this).memberId}},{key:"role",get:function(){return this.isOwner?Ad.OWNER:Ni(this).role}},{key:"isOwner",get:function(){return this.memberId===Ni(this).conversation.creator}}]),e}(),Nd=function(e){function t(){return e.apply(this,arguments)||this}et(t,e);var n=t.prototype;return n._addMembers=function(t){var n=this;e.prototype._addMembers.call(this,t),this.members=Ti(this.members,t);var r=Ni(this),i=r.memberInfoMap;i&&t.forEach((function(e){i[e]=i[e]||new Id({conversation:n,memberId:e,role:Ad.MEMBER})}))},n._removeMembers=function(t){e.prototype._removeMembers.call(this,t),this.members=Ai(this.members,t);var n=Ni(this),r=n.memberInfoMap;r&&t.forEach((function(e){delete r[e]}))},n._fetchAllMemberInfo=function(){var e=ke(Re.mark((function e(){var t,n,r,i=this;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._client._requestWithSessionToken({method:"GET",path:"/classes/_ConversationMemberInfo",query:{where:{cid:this.id}}});case 2:return t=e.sent,n=t.results.map((function(e){return new Id({conversation:i,memberId:e.clientId,role:e.role})})),r={},n.forEach((function(e){r[e.memberId]=e})),this.members.forEach((function(e){r[e]=r[e]||new Id({conversation:i,memberId:e,role:Ad.MEMBER})})),Ni(this).memberInfoMap=r,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.getAllMemberInfo=function(){var e=ke(Re.mark((function e(){var t,n,r,i,o,s=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.noCache,r=void 0!==n&&n,i=Ni(this),o=i.memberInfoMap,o&&!r){e.next=6;break}return e.next=5,this._fetchAllMemberInfo();case 5:o=e.sent;case 6:return e.abrupt("return",this.members.map((function(e){return o[e]})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.getMemberInfo=function(){var e=ke(Re.mark((function e(t){var n,r;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(-1!==this.members.indexOf(t)){e.next=2;break}throw new Error("".concat(t," is not the mumber of conversation[").concat(this.id,"]"));case 2:if(n=Ni(this),r=n.memberInfoMap,r&&r[t]){e.next=6;break}return e.next=6,this.getAllMemberInfo();case 6:return e.abrupt("return",Ni(this).memberInfoMap[t]);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.updateMemberRole=function(){var e=ke(Re.mark((function e(t,n){var r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._debug("update member role"),n!==Ad.OWNER){e.next=3;break}throw ro({code:no.OWNER_PROMOTION_NOT_ALLOWED});case 3:return e.next=5,this._send(new be({op:Ae.member_info_update,convMessage:new le({targetClientId:t,info:new Se({pid:t,role:n})})}));case 5:return r=Ni(this),i=r.memberInfos,i&&i[t]&&(Ni(i[t]).role=n),e.abrupt("return",this);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),t}(Td),Cd=function(e){function t(){return e.apply(this,arguments)||this}return et(t,e),t}(Td),xd=function(e){function t(){return e.apply(this,arguments)||this}et(t,e);var n=t.prototype;return n.subscribe=function(){var e=ke(Re.mark((function e(){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.join());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.unsubscribe=function(){var e=ke(Re.mark((function e(){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.quit());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),t}(Td);function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jd,kd,Ld,Md=function(e){return e.code===no.CONVERSATION_NOT_FOUND?ro({code:no.TEMPORARY_CONVERSATION_EXPIRED}):e},Dd=function(e){function t(t,n,r){var i=n.expiredAt;return e.call(this,Pd(Pd({},t),{},{expiredAt:i}),r)||this}et(t,e);var n=t.prototype;return n._send=function(){var t=ke(Re.mark((function t(){var n,r,i,o,s=arguments;return Re.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.expired){t.next=2;break}throw ro({code:no.TEMPORARY_CONVERSATION_EXPIRED});case 2:for(t.prev=2,r=s.length,i=new Array(r),o=0;o<r;o++)i[o]=s[o];return t.next=6,(n=e.prototype._send).call.apply(n,[this].concat(i));case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t["catch"](2),Md(t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function n(){return t.apply(this,arguments)}return n}(),n.send=function(){var t=ke(Re.mark((function t(){var n,r,i,o,s=arguments;return Re.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(t.prev=0,r=s.length,i=new Array(r),o=0;o<r;o++)i[o]=s[o];return t.next=4,(n=e.prototype.send).call.apply(n,[this].concat(i));case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t["catch"](0),Md(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}(),n.toFullJSON=function(){var t=this.expiredAt;return Pd(Pd({},e.prototype.toFullJSON.call(this)),{},{expiredAt:_i(t)})},n.toJSON=function(){var t=this.expiredAt,n=this.expired;return Pd(Pd({},e.prototype.toJSON.call(this)),{},{expiredAt:t,expired:n})},Vr(t,[{key:"expiredAt",set:function(e){this._expiredAt=mi(e)},get:function(){return this._expiredAt}},{key:"expired",get:function(){return this.expiredAt<new Date}}]),t}(md),Bd=dt("LC:ConversationQuery"),Ud=function(){function e(e){this._client=e,this._where={},this._extraOptions={}}e._encode=function(e){return e instanceof Date?{__type:"Date",iso:e.toJSON()}:e instanceof RegExp?e.source:e},e._quote=function(e){return"\\Q".concat(e.replace("\\E","\\E\\\\E\\Q"),"\\E")},e._calculateFlag=function(e){return["withLastMessagesRefreshed","compact"].reduce((function(t,n){return(t<<1)+Boolean(e[n])}),0)},e.and=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length<2)throw new Error("The queries must contain at least two elements");if(!n.every((function(t){return t instanceof e})))throw new Error("The element of queries must be an instance of ConversationQuery");var i=new e(n[0]._client);return i._where.$and=n.map((function(e){return e._where})),i},e.or=function(){var t=e.and.apply(e,arguments);return t._where.$or=t._where.$and,delete t._where.$and,t};var t=e.prototype;return t._addCondition=function(e,t,n){return this._where[e]||(this._where[e]={}),this._where[e][t]=this.constructor._encode(n),this},t.toJSON=function(){var e={where:this._where,flag:this.constructor._calculateFlag(this._extraOptions)};return"undefined"!==typeof this._skip&&(e.skip=this._skip),"undefined"!==typeof this._limit&&(e.limit=this._limit),"undefined"!==typeof this._order&&(e.sort=this._order),Bd(e),e},t.containsMembers=function(e){return this.containsAll("m",e)},t.withMembers=function(e,t){var n=new Set(e);return t&&n.add(this._client.id),this.sizeEqualTo("m",n.size),this.containsMembers(Array.from(n))},t.equalTo=function(e,t){return this._where[e]=this.constructor._encode(t),this},t.lessThan=function(e,t){return this._addCondition(e,"$lt",t)},t.lessThanOrEqualTo=function(e,t){return this._addCondition(e,"$lte",t)},t.greaterThan=function(e,t){return this._addCondition(e,"$gt",t)},t.greaterThanOrEqualTo=function(e,t){return this._addCondition(e,"$gte",t)},t.notEqualTo=function(e,t){return this._addCondition(e,"$ne",t)},t.exists=function(e){return this._addCondition(e,"$exists",!0)},t.doesNotExist=function(e){return this._addCondition(e,"$exists",!1)},t.containedIn=function(e,t){return this._addCondition(e,"$in",t)},t.notContainsIn=function(e,t){return this._addCondition(e,"$nin",t)},t.containsAll=function(e,t){return this._addCondition(e,"$all",t)},t.contains=function(t,n){return this._addCondition(t,"$regex",e._quote(n))},t.startsWith=function(t,n){return this._addCondition(t,"$regex","^".concat(e._quote(n)))},t.endsWith=function(t,n){return this._addCondition(t,"$regex","".concat(e._quote(n),"$"))},t.matches=function(e,t){this._addCondition(e,"$regex",t);var n="";return t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n&&n.length&&this._addCondition(e,"$options",n),this},t.sizeEqualTo=function(e,t){return this._addCondition(e,"$size",t)},t.limit=function(e){return this._limit=e,this},t.skip=function(e){return this._skip=e,this},t.ascending=function(e){return this._order=e,this},t.addAscending=function(e){return this._order?this._order+=",".concat(e):this._order=e,this},t.descending=function(e){return this._order="-".concat(e),this},t.addDescending=function(e){return this._order?this._order+=",-".concat(e):this._order="-".concat(e),this},t.withLastMessagesRefreshed=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._extraOptions.withLastMessagesRefreshed=e,this},t.compact=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._extraOptions.compact=e,this},t.find=function(){var e=ke(Re.mark((function e(){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._client._executeQuery(this));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),t.first=function(){var e=ke(Re.mark((function e(){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.limit(1).find();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),e}(),Fd=dt("LC:SessionManager"),qd=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refresh,n=e.onBeforeGetSessionToken;this.refresh=t,this._onBeforeGetSessionToken=n,this.setSessionToken(null,0)}var t=e.prototype;return t.setSessionToken=function(e,t){Fd("set session token",e,t);var n=new ui(e,1e3*t);return this._sessionToken=n,delete this._pendingSessionTokenPromise,n},t.setSessionTokenAsync=function(){var e=ke(Re.mark((function e(t){var n,r=this;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._sessionToken,this._pendingSessionTokenPromise=t["catch"]((function(e){throw r._sessionToken=n,e})),e.t0=this.setSessionToken,e.t1=this,e.t2=ze,e.next=7,this._pendingSessionTokenPromise;case 7:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.abrupt("return",e.t0.apply.call(e.t0,e.t1,e.t4));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t.getSessionToken=function(){var e=ke(Re.mark((function e(){var t,n,r,i,o,s,a,u,c=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.autoRefresh,r=void 0===n||n,Fd("get session token"),this._onBeforeGetSessionToken&&this._onBeforeGetSessionToken(this),e.t0=this._sessionToken,e.t0){e.next=8;break}return e.next=7,this._pendingSessionTokenPromise;case 7:e.t0=e.sent;case 8:if(i=e.t0,o=i.value,s=i.originalValue,o!==ui.EXPIRED||!r||!this.refresh){e.next=19;break}return Fd("refresh expired session token"),e.next=15,this.setSessionTokenAsync(this.refresh(this,s));case 15:return a=e.sent,u=a.value,Fd("session token",u),e.abrupt("return",u);case 19:return Fd("session token",o),e.abrupt("return",o);case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),t.revoke=function(){this._sessionToken&&(this._sessionToken.expiredAt=-1)},e}();function Vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $d,Wd=dt("LC:IMClient"),zd=Np,Gd=Cp,Hd=xp,Kd=Rp,Jd=Pp,Qd=jp,Xd=kp,Zd=Lp,ey=Mp,ty=Dp,ny=Bp,ry=Up,iy=Fp,oy=qp,sy=Op,ay=Sp,uy=Tp,cy=Ip,fy=Ap,ly=Vp,hy=Yp,py=zp,dy=function(e){return/^_tmp:/.test(e)},yy=59,vy=(jd=Li(1e3),kd=Li(1e3),Ld=function(e){function t(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(void 0!==t&&"string"!==typeof t)throw new TypeError("Client id [".concat(t,"] is not a String"));if(n=e.call(this)||this,Object.assign(Xe(n),{id:t,options:r},i),!n._messageParser)throw new Error("IMClient must be initialized with a MessageParser");return n._conversationCache=new fi("client:".concat(n.id)),n._ackMessageBuffer={},Ni(Xe(n)).lastPatchTime=Date.now(),Ni(Xe(n)).lastNotificationTime=void 0,Ni(Xe(n))._eventemitter=new Ce,Wd.enabled&&Cr(Gp).forEach((function(e){return n.on(e,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n._debug("".concat(e," event emitted. %o"),r)}))})),yo(n._plugins.onIMClientCreate,Xe(n)),n}et(t,e);var n=t.prototype;return n._debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Wd.apply(void 0,t.concat(["[".concat(this.id,"]")]))},n._dispatchCommand=function(){var e=ke(Re.mark((function e(t){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._debug(Ri(t),"received"),t.serverTs&&1===t.notificationType&&(Ni(this).lastNotificationTime=_i(mi(t.serverTs))),e.t0=t.cmd,e.next=e.t0===Te.conv?5:e.t0===Te.direct?6:e.t0===Te.session?7:e.t0===Te.unread?8:e.t0===Te.rcp?9:e.t0===Te.patch?10:11;break;case 5:return e.abrupt("return",this._dispatchConvMessage(t));case 6:return e.abrupt("return",this._dispatchDirectMessage(t));case 7:return e.abrupt("return",this._dispatchSessionMessage(t));case 8:return e.abrupt("return",this._dispatchUnreadMessage(t));case 9:return e.abrupt("return",this._dispatchRcpMessage(t));case 10:return e.abrupt("return",this._dispatchPatchMessage(t));case 11:return e.abrupt("return",this.emit(cy,t));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._dispatchSessionMessage=function(){var e=ke(Re.mark((function e(t){var n,r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.sessionMessage,r=n.code,i=n.reason,e.t0=t.op,e.next=e.t0===Ae.closed?4:8;break;case 4:if(Ni(this)._eventemitter.emit("close"),r!==no.SESSION_CONFLICT){e.next=7;break}return e.abrupt("return",this.emit(uy,{reason:i}));case 7:return e.abrupt("return",this.emit(ay,{code:r,reason:i}));case 8:throw this.emit(cy,t),new Error("Unrecognized session command");case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._dispatchUnreadMessage=function(e){var t=this,n=e.unreadMessage,r=n.convs,i=n.notifTime;return Ni(this).lastUnreadNotifTime=i,this.getConversations(r.map((function(e){return e.cid}))).then((function(){return Promise.all(r.map((function(e){var n,r=e.cid,i=e.unread,o=e.mid,s=e.timestamp,a=e.from,u=e.data,c=e.binaryMsg,f=e.patchTimestamp,l=e.mentioned,h=t._conversationCache.get(r);return h?(s&&(n=mi(s),h.lastMessageAt=n),(o?t._messageParser.parse(c||u).then((function(e){var t={id:o,cid:r,timestamp:n,updatedAt:f,from:a};Object.assign(e,t),h.lastMessage=e})):Promise.resolve()).then((function(){h._setUnreadMessagesMentioned(l);var e=i===Ni(h).unreadMessagesCount;return e?null:(Ni(h).unreadMessagesCount=i,h)}))):null}))).then((function(e){return e.filter((function(e){return e}))}))})).then((function(e){e.length&&t.emit(sy,e)}))},n._dispatchRcpMessage=function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.rcpMessage,r=t.rcpMessage.read,i=n.cid,o=n.id,s=mi(n.t),a=this._conversationCache.get(i),a){e.next=7;break}return e.abrupt("return");case 7:a._handleReceipt({messageId:o,timestamp:s,read:r});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._dispatchPatchMessage=function(e){var t=this,n=e.patchMessage.patches;return this.getConversations(n.map((function(e){return e.cid}))).then((function(){return Promise.all(n.map((function(e){var n=e.cid,r=e.mid,i=e.timestamp,o=e.recall,s=e.data,a=e.patchTimestamp,u=e.from,c=e.binaryMsg,f=e.mentionAll,l=e.mentionPids,h=e.patchCode,p=e.patchReason,d=t._conversationCache.get(n);return d?t._messageParser.parse(c||s).then((function(e){var s,c=_i(mi(a)),y={id:r,cid:n,timestamp:i,updatedAt:c,from:u,mentionList:l,mentionedAll:f};Object.assign(e,y),e._setStatus(Jp.SENT),e._updateMentioned(t.id),Ni(t).lastPatchTime<c&&(Ni(t).lastPatchTime=c),d.lastMessage&&d.lastMessage.id===r&&(d.lastMessage=e),h&&(s={code:h.toNumber(),detail:p}),o?(t.emit(ly,e,d,s),d.emit(ly,e,s)):(t.emit(hy,e,d,s),d.emit(hy,e,s))})):null})))}))},n._dispatchConvMessage=function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a,u,c,f,l,h,p,d,y,v,g,m,_,b,w,E,O,S,T,A,I,N;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.convMessage,r=t.convMessage,i=r.initBy,o=r.m,s=r.info,a=r.attr,e.next=3,this.getConversation(n.cid);case 3:u=e.sent,e.t0=t.op,e.next=e.t0===Ae.joined?7:e.t0===Ae.left?12:e.t0===Ae.members_joined?17:e.t0===Ae.members_left?22:e.t0===Ae.members_blocked?27:e.t0===Ae.members_unblocked?31:e.t0===Ae.blocked?35:e.t0===Ae.unblocked?39:e.t0===Ae.members_shutuped?43:e.t0===Ae.members_unshutuped?47:e.t0===Ae.shutuped?51:e.t0===Ae.unshutuped?55:e.t0===Ae.member_info_changed?59:e.t0===Ae.updated?71:77;break;case 7:return u._addMembers([this.id]),c={invitedBy:i},this.emit(zd,c,u),u.emit(zd,c),e.abrupt("return");case 12:return u._removeMembers([this.id]),f={kickedBy:i},this.emit(Gd,f,u),u.emit(Gd,f),e.abrupt("return");case 17:return u._addMembers(o),l={invitedBy:i,members:o},this.emit(Hd,l,u),u.emit(Hd,l),e.abrupt("return");case 22:return u._removeMembers(o),h={kickedBy:i,members:o},this.emit(Kd,h,u),u.emit(Kd,h),e.abrupt("return");case 27:return p={blockedBy:i,members:o},this.emit(Zd,p,u),u.emit(Zd,p),e.abrupt("return");case 31:return d={unblockedBy:i,members:o},this.emit(ey,d,u),u.emit(ey,d),e.abrupt("return");case 35:return y={blockedBy:i},this.emit(Qd,y,u),u.emit(Qd,y),e.abrupt("return");case 39:return v={unblockedBy:i},this.emit(Xd,v,u),u.emit(Xd,v),e.abrupt("return");case 43:return g={mutedBy:i,members:o},this.emit(ry,g,u),u.emit(ry,g),e.abrupt("return");case 47:return m={unmutedBy:i,members:o},this.emit(iy,m,u),u.emit(iy,m),e.abrupt("return");case 51:return _={mutedBy:i},this.emit(ty,_,u),u.emit(ty,_),e.abrupt("return");case 55:return b={unmutedBy:i},this.emit(ny,b,u),u.emit(ny,b),e.abrupt("return");case 59:if(w=s.pid,E=s.role,O=Ni(u),S=O.memberInfoMap,S||E){e.next=63;break}return e.abrupt("return");case 63:return e.next=65,u.getMemberInfo(w);case 65:return T=e.sent,Ni(T).role=E,A={member:w,memberInfo:T,updatedBy:i},this.emit(Jd,A,u),u.emit(Jd,A),e.abrupt("return");case 71:return I=bi(JSON.parse(a.data)),u._updateServerAttributes(I),N={attributes:I,updatedBy:i},this.emit(fy,N,u),u.emit(py,N),e.abrupt("return");case 77:throw this.emit(cy,t),new Error("Unrecognized conversation command");case 79:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._dispatchDirectMessage=function(e){var t=this,n=e.directMessage,r=e.directMessage,i=r.id,o=r.cid,s=r.fromPeerId,a=r.timestamp,u=r["transient"],c=r.patchTimestamp,f=r.mentionPids,l=r.mentionAll,h=r.binaryMsg,p=r.msg,d=h?h.toArrayBuffer():p;return Promise.all([this.getConversation(n.cid),this._messageParser.parse(d)]).then((function(e){var n=Mo(e,2),r=n[0],h=n[1];if(r){var p={id:i,cid:o,timestamp:a,updatedAt:c,from:s,mentionList:f,mentionedAll:l};return Object.assign(h,p),h._updateMentioned(t.id),h._setStatus(Jp.SENT),h.from!==t.id&&(u||r["transient"]||t._sendAck(h)),t._dispatchParsedMessage(h,r)}}))},n._dispatchParsedMessage=function(e,t){var n=this;return go(this._plugins.beforeMessageDispatch,[e,t]).then((function(r){!1!==r&&(t.lastMessage=e,t.lastMessageAt=e.timestamp,e.from!==n.id&&(t.unreadMessagesCount+=1,e.mentioned&&t._setUnreadMessagesMentioned(!0)),n.emit(oy,e,t),t.emit(oy,e))}))},n._sendAck=function(e){this._debug("send ack for %O",e);var t=e.cid;if(!t)throw new Error("missing cid");return this._ackMessageBuffer[t]||(this._ackMessageBuffer[t]=[]),this._ackMessageBuffer[t].push(e),this._doSendAck()},n._doSendAck=function(){var e=this;this._connection.is("connected")&&(this._debug("do send ack %O",this._ackMessageBuffer),Promise.all(Object.keys(this._ackMessageBuffer).map((function(t){var n=e._ackMessageBuffer[t],r=n.map((function(e){return e.timestamp})),i=new be({cmd:"ack",peerId:e.id,ackMessage:new ce({cid:t,fromts:Math.min.apply(null,r),tots:Math.max.apply(null,r)})});return delete e._ackMessageBuffer[t],e._send(i,!1)["catch"]((function(r){e._debug("send ack failed: %O",r),e._ackMessageBuffer[t]=n}))}))))},n._omitPeerId=function(e){Ni(this).peerIdOmittable=e},n._send=function(e){var t,n=e;!Ni(this).peerIdOmittable&&this.id&&(n.peerId=this.id);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(t=this._connection).send.apply(t,[n].concat(i))},n._open=function(){var e=ke(Re.mark((function e(t,n,r){var i,o,s,a,u,c,f,l,h,p,d,y,v,g,m,_,b,w,E=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=E.length>3&&void 0!==E[3]&&E[3],this._debug("open session"),o=Ni(this),s=o.lastUnreadNotifTime,a=o.lastPatchTime,u=o.lastNotificationTime,c=new be({cmd:"session",op:"open",appId:t,peerId:this.id,sessionMessage:new se({ua:"js/".concat(mo),r:i,lastUnreadNotifTime:s,lastPatchTime:a,configBitmap:yy})}),i){e.next=13;break}if(Object.assign(c.sessionMessage,Ri({tag:n,deviceId:r})),!this.options.signatureFactory){e.next=11;break}return e.next=9,wd(this.options.signatureFactory,[this._identity]);case 9:f=e.sent,Object.assign(c.sessionMessage,Ei({signature:"s",timestamp:"t",nonce:"n"},f));case 11:e.next=17;break;case 13:return e.next=15,this._sessionManager.getSessionToken({autoRefresh:!1});case 15:l=e.sent,l&&l!==ui.EXPIRED&&Object.assign(c.sessionMessage,{st:l});case 17:return e.prev=17,e.next=20,this._send(c);case 20:h=e.sent,e.next=32;break;case 23:if(e.prev=23,e.t0=e["catch"](17),e.t0.code!==no.SESSION_TOKEN_EXPIRED){e.next=31;break}if(this._sessionManager){e.next=28;break}throw new Error("Unexpected session expiration");case 28:return Wd("Session token expired, reopening"),this._sessionManager.revoke(),e.abrupt("return",this._open(t,n,r,i));case 31:throw e.t0;case 32:if(p=h,d=p.peerId,y=p.sessionMessage,v=p.sessionMessage,g=v.st,m=v.stTtl,_=v.code,b=p.serverTs,!_){e.next=35;break}throw ro(y);case 35:return d?(this.id=d,this._identity||(this._identity=d),g&&(this._sessionManager=this._sessionManager||this._createSessionManager(),this._sessionManager.setSessionToken(g,m)),w=_i(mi(b)),b&&(Ni(this).lastPatchTime=w),u?this._syncNotifications(u)["catch"]((function(e){return console.warn("Syncing notifications failed:",e)})):Ni(this).lastNotificationTime=w):console.warn("Unexpected session opened without peerId."),e.abrupt("return",void 0);case 37:case"end":return e.stop()}}),e,this,[[17,23]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),n._syncNotifications=function(){var e=ke(Re.mark((function e(t){var n,r,i,o=this;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._fetchNotifications(t);case 2:if(n=e.sent,r=n.hasMore,i=n.notifications,i.forEach((function(e){var t=e.cmd,n=e.op,r=e.serverTs,i=e.notificationType,s=Je(e,["cmd","op","serverTs","notificationType"]);o._dispatchCommand(G({cmd:Te[t],op:Ae[n],serverTs:r,notificationType:i},"".concat(t,"Message"),s))})),!r){e.next=8;break}return e.abrupt("return",this._syncNotifications(Ni(this).lastNotificationTime));case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._fetchNotifications=function(){var e=ke(Re.mark((function e(t){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestWithSessionToken({method:"GET",path:"/rtm/notifications",query:{start_ts:t,notification_type:"permanent"}}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._createSessionManager=function(){var e=this;return Wd("create SessionManager"),new qd({onBeforeGetSessionToken:this._connection.checkConnectionAvailability.bind(this._connection),refresh:function(t,n){return t.setSessionTokenAsync(Promise.resolve(new be({cmd:"session",op:"refresh",sessionMessage:new se({ua:"js/".concat(mo),st:n})})).then(function(){var t=ke(Re.mark((function t(n){var r;return Re.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.options.signatureFactory){t.next=5;break}return t.next=3,wd(e.options.signatureFactory,[e._identity]);case 3:r=t.sent,Object.assign(n.sessionMessage,Ei({signature:"s",timestamp:"t",nonce:"n"},r));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then(e._send.bind(e)).then((function(e){var t=e.sessionMessage,n=t.st,r=t.stTtl;return[n,r]})))}})},n._requestWithSessionToken=function(){var e=ke(Re.mark((function e(t){var n,r,i,o;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.headers,r=t.query,i=Je(t,["headers","query"]),e.next=3,this._sessionManager.getSessionToken();case 3:return o=e.sent,e.abrupt("return",this._request(Yd({headers:Yd({"X-LC-IM-Session-Token":o},n),query:Yd({client_id:this.id},r)},i)));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.close=function(){var e=ke(Re.mark((function e(){var t,n;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._debug("close session"),t=Ni(this)._eventemitter,t.emit("beforeclose"),!this._connection.is("connected")){e.next=7;break}return n=new be({cmd:"session",op:"close"}),e.next=7,this._send(n);case 7:t.emit("close"),this.emit(ay,{code:0});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.ping=function(){var e=ke(Re.mark((function e(t){var n,r;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._debug("ping"),t instanceof Array){e.next=3;break}throw new TypeError("clientIds ".concat(t," is not an Array"));case 3:if(t.length){e.next=5;break}return e.abrupt("return",Promise.resolve([]));case 5:return n=new be({cmd:"session",op:"query",sessionMessage:new se({sessionPeerIds:t})}),e.next=8,this._send(n);case 8:return r=e.sent,e.abrupt("return",r.sessionMessage.onlineSessionPeerIds);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getConversation=function(){var e=ke(Re.mark((function e(t){var n,r,i=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],"string"===typeof t){e.next=3;break}throw new TypeError("".concat(t," is not a String"));case 3:if(n){e.next=7;break}if(r=this._conversationCache.get(t),!r){e.next=7;break}return e.abrupt("return",r);case 7:if(!dy(t)){e.next=14;break}return e.next=10,this._getTemporaryConversations([t]);case 10:if(e.t0=e.sent[0],e.t0){e.next=13;break}e.t0=null;case 13:return e.abrupt("return",e.t0);case 14:return e.abrupt("return",this.getQuery().equalTo("objectId",t).find().then((function(e){return e[0]||null})));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getConversations=function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a=this,u=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]&&u[1],r=n?t:t.filter((function(e){return null===a._conversationCache.get(e)})),!r.length){e.next=9;break}return i=Cf(r,dy),o=[],r.length&&o.push(this.getQuery().containedIn("objectId",r).limit(999).find()),i.length&&(s=i.map(this._getTemporaryConversations.bind(this)),o.push.apply(o,ze(s))),e.next=9,Promise.all(o);case 9:return e.abrupt("return",t.map((function(e){return a._conversationCache.get(e)})));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._getTemporaryConversations=function(){var e=ke(Re.mark((function e(t){var n,r;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new be({cmd:"conv",op:"query",convMessage:new le({tempConvIds:t})}),e.next=3,this._send(n);case 3:return r=e.sent,e.abrupt("return",this._handleQueryResults(r));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getQuery=function(){return new Ud(this)},n.getChatRoomQuery=function(){return this.getQuery().equalTo("tr",!0)},n.getServiceConversationQuery=function(){return this.getQuery().equalTo("sys",!0)},n._executeQuery=function(){var e=ke(Re.mark((function e(t){var n,r,i;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.toJSON(),n.where=new ne({data:JSON.stringify(wi(n.where))}),r=new be({cmd:"conv",op:"query",convMessage:new le(n)}),e.next=5,this._send(r);case 5:return i=e.sent,e.abrupt("return",this._handleQueryResults(i));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._handleQueryResults=function(){var e=ke(Re.mark((function e(t){var n,r;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,n=bi(JSON.parse(t.convMessage.results.data)),e.next=8;break;case 4:throw e.prev=4,e.t0=e["catch"](0),r=JSON.stringify(Ri(t)),new Error("Parse query result failed: ".concat(e.t0.message,". Command: ").concat(r));case 8:return e.next=10,Promise.all(n.map(this._parseConversationFromRawData.bind(this)));case 10:return n=e.sent,e.abrupt("return",n.map(this._upsertConversationToCache.bind(this)));case 12:case"end":return e.stop()}}),e,this,[[0,4]])})));function t(t){return e.apply(this,arguments)}return t}(),n._upsertConversationToCache=function(e){var t=this._conversationCache.get(e.id);return t?(this._debug("update cached conversation"),["creator","createdAt","updatedAt","lastMessageAt","lastMessage","mutedMembers","members","_attributes","transient","muted"].forEach((function(n){var r=e[n];void 0!==r&&(t[n]=r)})),t._reset&&t._reset()):(t=e,this._debug("no match, set cache"),this._conversationCache.set(e.id,e)),t},n.parseMessage=function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.data,r=t.bin,i=void 0!==r&&r,o=Je(t,["data","bin"]),s=i?Uo(n):n,e.next=4,this._messageParser.parse(s);case 4:return a=e.sent,Object.assign(a,o),a._updateMentioned(this.id),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.parseConversation=function(){var e=ke(Re.mark((function e(t){var n,r,i,o,s,a,u,c,f,l,h,p,d;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.id,r=t.lastMessageAt,i=t.lastMessage,o=t.lastDeliveredAt,s=t.lastReadAt,a=t.unreadMessagesCount,u=t.members,c=t.mentioned,f=Je(t,["id","lastMessageAt","lastMessage","lastDeliveredAt","lastReadAt","unreadMessagesCount","members","mentioned"]),l={id:n,lastMessageAt:r,lastMessage:i,lastDeliveredAt:o,lastReadAt:s,unreadMessagesCount:a,members:u,mentioned:c},!i){e.next=7;break}return e.next=5,this.parseMessage(i);case 5:l.lastMessage=e.sent,l.lastMessage._setStatus(Jp.SENT);case 7:if(h=f["transient"],p=f.system,d=f.expiredAt,!h){e.next=10;break}return e.abrupt("return",new Cd(l,f,this));case 10:if(!p){e.next=12;break}return e.abrupt("return",new xd(l,f,this));case 12:if(!d&&!dy(n)){e.next=14;break}return e.abrupt("return",new Dd(l,{expiredAt:d},this));case 14:return e.abrupt("return",new Nd(l,f,this));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._parseConversationFromRawData=function(){var e=ke(Re.mark((function e(t){var n,r;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Ei({objectId:"id",lm:"lastMessageAt",m:"members",tr:"transient",sys:"system",c:"creator",mu:"mutedMembers"},t),n.msg&&(n.lastMessage={data:n.msg,bin:n.bin,from:n.msg_from,id:n.msg_mid,timestamp:n.msg_timestamp,updatedAt:n.patch_timestamp},delete n.lastMessageFrom,delete n.lastMessageId,delete n.lastMessageTimestamp,delete n.lastMessagePatchTimestamp),r=n.ttl,r&&(n.expiredAt=Date.now()+1e3*r),e.abrupt("return",this.parseConversation(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.createConversation=function(){var e=ke(Re.mark((function e(){var t,n,r,i,o,s,a,u,c,f,l,h,p,d,y,v,g,m,_,b,w,E,O=arguments;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=O.length>0&&void 0!==O[0]?O[0]:{},n=t.members,r=t.name,i=t["transient"],o=t.unique,s=void 0===o||o,a=t._tempConv,u=t._tempConvTTL,c=Je(t,["members","name","transient","unique","_tempConv","_tempConvTTL"]),i||Array.isArray(n)){e.next=3;break}throw new TypeError("conversation members ".concat(n," is not an array"));case 3:if(f=new Set(n),f.add(this.id),f=Array.from(f).sort(),l=c||{},!r){e.next=11;break}if("string"===typeof r){e.next=10;break}throw new TypeError("conversation name ".concat(r," is not a string"));case 10:l.name=r;case 11:if(l=new ne({data:JSON.stringify(wi(l))}),h={m:f,attr:l,transient:i,unique:s,tempConv:a,tempConvTTL:u},p=new be({cmd:"conv",op:"start",convMessage:new le(h)}),!this.options.conversationSignatureFactory){e.next=20;break}return d=[null,this._identity,f,"create"],e.next=18,wd(this.options.conversationSignatureFactory,d);case 18:y=e.sent,Object.assign(p.convMessage,Ei({signature:"s",timestamp:"t",nonce:"n"},y));case 20:return e.next=22,this._send(p);case 22:return v=e.sent,g=v.convMessage,m=g.cid,_=g.cdate,b=g.tempConvTTL,w=Yd({name:r,transient:i,unique:s,id:m,createdAt:_,updatedAt:_,lastMessageAt:null,creator:this.id,members:i?[]:f},c),b&&(w.expiredAt=Date.now()+1e3*b),e.next=31,this.parseConversation(w);case 31:return E=e.sent,e.abrupt("return",this._upsertConversationToCache(E));case 33:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),n.createChatRoom=function(){var e=ke(Re.mark((function e(t){return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createConversation(Yd(Yd({},t),{},{transient:!0,members:null,unique:!1,_tempConv:!1})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.createTemporaryConversation=function(){var e=ke(Re.mark((function e(t){var n,r;return Re.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.ttl,r=Je(t,["ttl"]),e.abrupt("return",this.createConversation(Yd(Yd({},r),{},{transient:!1,unique:!1,_tempConv:!0,_tempConvTTL:n})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._doSendRead=function(){var e=this;if(this._connection.is("connected")){var t=Ni(this).readConversationsBuffer,n=Array.from(t);if(n.length){var r=n.map((function(e){if(!(e instanceof md))throw new TypeError("".concat(e," is not a Conversation"));return e.id}));this._debug("mark [".concat(r,"] as read")),t.clear(),this._sendReadCommand(n)["catch"]((function(r){e._debug("send read failed: %O",r),n.forEach(t.add.bind(t))}))}}},n._sendReadCommand=function(e){var t=this;return this._send(new be({cmd:"read",readMessage:new ge({convs:e.map((function(e){return new ye({cid:e.id,mid:e.lastMessage&&e.lastMessage.from!==t.id?e.lastMessage.id:void 0,timestamp:(e.lastMessageAt||new Date).getTime()})}))})}),!1)},t}(Ce),$r(Ld.prototype,"_doSendAck",[jd],Object.getOwnPropertyDescriptor(Ld.prototype,"_doSendAck"),Ld.prototype),$r(Ld.prototype,"_doSendRead",[kd],Object.getOwnPropertyDescriptor(Ld.prototype,"_doSendRead"),Ld.prototype),Ld),gy="reconnecterror",my=Object.freeze({__proto__:null,RECONNECT_ERROR:gy,DISCONNECT:Vi,RECONNECT:Yi,RETRY:$i,SCHEDULE:Wi,OFFLINE:zi,ONLINE:Gi});function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function by(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_y(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wy,Ey,Oy,Sy=rd($d=function(e){function t(t){if(!(t instanceof ArrayBuffer))throw new TypeError("".concat(t," is not an ArrayBuffer"));return e.call(this,t)||this}et(t,e),t.validate=function(e){return e instanceof ArrayBuffer};var n=t.prototype;return n.toJSON=function(){return by(by({},e.prototype._toJSON.call(this)),{},{data:Bo(this.content)})},n.toFullJSON=function(){return by(by({},e.prototype.toFullJSON.call(this)),{},{bin:!0,data:Bo(this.content)})},Vr(t,[{key:"buffer",get:function(){return this.content},set:function(e){this.content=e}}]),t}(ed))||$d,Ty=(wy=td(-1),wy(Ey=rd(Ey=function(e){function t(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof n)throw new TypeError("".concat(n," is not a string"));return t=e.call(this)||this,t.setText(n),t}return et(t,e),t}(ud))||Ey)||Ey);function Ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ay(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ny(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Cy(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(a)throw o}}}}function Cy(e,t){if(e){if("string"===typeof e)return xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xy(e,t):void 0}}function xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ry=dt("LC:MessageParser"),Py=function(e,t,n){var r=n.value;n.value=function(e){var t;if("string"!==typeof e)t=e;else try{t=JSON.parse(e)}catch(to){t=e}return r.call(this,t)}},jy=function(e,t,n){var r=n.value;n.value=function(e){var t=this;return Promise.resolve(e).then(vo(this._plugins.beforeMessageParse)).then((function(e){return r.call(t,e)})).then(vo(this._plugins.afterMessageParse))}},ky=(Oy=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._plugins=e,this._messageClasses=[],this.register(e.messageClasses)}var t=e.prototype;return t.register=function(e){var t=this;Pi(e).map((function(e){return t._register(e)}))},t._register=function(e){if(!(e&&e.parse&&e.prototype&&e.prototype.getPayload))throw new TypeError("Invalid messageClass");this._messageClasses.unshift(e)},t.parse=function(e){Ry("parsing message: %O",e);var t,n=Ny(this._messageClasses);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=ii(e)?Iy({},e):e,o=void 0,s=void 0;try{o=r.validate(i)}catch(to){}if(o){try{s=r.parse(i)}catch(to){console.warn("parsing a valid message content error",{error:to,Klass:r,content:i})}if(void 0!==s)return Ry("parse result: %O",s),s}}}catch(a){n.e(a)}finally{n.f()}throw new Error("No Message Class matched")},e}(),$r(Oy.prototype,"parse",[Py,jy],Object.getOwnPropertyDescriptor(Oy.prototype,"parse"),Oy.prototype),Oy);function Ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ly(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dy=dt("LC:IMPlugin"),By={HIGH:1,NORMAL:2,LOW:3};Object.freeze(By);var Uy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{get:function(){return this.get(e)},set:function(t){this.set(e,t)}};Object.defineProperty(Nd.prototype,e,t)},Fy=function(e){var t=Po();e._IMClients={},e._IMClientsCreationCount=0;var n=new ky(e._plugins);e._messageParser=n;var r=function(){var t=ke(Re.mark((function t(n){return Re.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e._request({method:"POST",path:"/rtm/sign",data:{session_token:n.getSessionToken()}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=n.register.bind(n),o=function(){var i=ke(Re.mark((function i(o){var s,a,u,c,f,l,h,p,d,y,v,g=arguments;return Re.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=g.length>1&&void 0!==g[1]?g[1]:{},u=a.tag,c=a.isReconnect,f=Je(a,["tag","isReconnect"]),l=g.length>2?g[2]:void 0,p={},!o){i.next=19;break}if("string"!==typeof o){i.next=8;break}h=o,i.next=17;break;case 8:if(!o.id||!o.getSessionToken){i.next=16;break}if(h=o.id,d=o.getSessionToken(),d){i.next=13;break}throw new Error("User must be authenticated");case 13:p.signatureFactory=r,i.next=17;break;case 16:throw new TypeError("Identity must be a String or an AV.User");case 17:if(void 0===e._IMClients[h]){i.next=19;break}return i.abrupt("return",e._IMClients[h]);case 19:return l&&console.warn("DEPRECATION createIMClient tag param: Use options.tag instead."),y=u||l,v=(s=e._open().then((function(r){var i=new vy(h,My(My({},p),f),{_connection:r,_request:e._request.bind(e),_messageParser:n,_plugins:e._plugins,_identity:o});return r.on(Yi,(function(){return i._open(e._options.appId,y,t,!0).then((function(){return i.emit(Yi)}),(function(e){return i.emit(gy,e)}))})),Ni(i)._eventemitter.on("beforeclose",(function(){delete e._IMClients[i.id],e._firstIMClient===i&&delete e._firstIMClient}),e),Ni(i)._eventemitter.on("close",(function(){e._deregister(i)}),e),i._open(e._options.appId,y,t,c).then((function(){return e._IMClients[i.id]=i,e._IMClientsCreationCount+=1,1===e._IMClientsCreationCount?(i._omitPeerId(!0),e._firstIMClient=i):e._IMClientsCreationCount>1&&e._firstIMClient&&e._firstIMClient._omitPeerId(!1),e._register(i),i}))["catch"]((function(t){throw delete e._IMClients[i.id],t}))}))).then.apply(s,ze(gi((function(){e._deregisterPending(v)})))),o&&(e._IMClients[h]=v),e._registerPending(v),i.abrupt("return",v);case 25:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}();Object.assign(e,{register:i,createIMClient:o})},qy=function(e,t){var n=null===e.service||2===e.service;if(!n)return!0;var r=e.peerId?t._IMClients[e.peerId]:t._firstIMClient;return r?Promise.resolve(r).then((function(t){return t._dispatchCommand(e)}))["catch"](Dy):Dy("[WARN] Unexpected message received without any live client match: %O",Ri(e)),!1},Vy={name:"leancloud-realtime-plugin-im",onRealtimeCreate:Fy,beforeCommandDispatch:qy,messageClasses:[ed,Sy,cd,Ty]};function Yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}So.defineConversationProperty=Uy,So.__preRegisteredPlugins=[Vy];var Wy=$y($y({},my),Gp);Hr({WebSocket:W,request:$}),t.BinaryMessage=Sy,t.ChatRoom=Cd,t.Conversation=Nd,t.ConversationMemberRole=Ad,t.ConversationQuery=Ud,t.ErrorCode=no,t.Event=Wy,t.EventEmitter=Ce,t.IE10Compatible=rd,t.IMPlugin=Vy,t.Message=ed,t.MessageParser=ky,t.MessagePriority=By,t.MessageQueryDirection=gd,t.MessageStatus=Jp,t.Promise=To,t.Protocals=Ne,t.Protocols=Ne,t.Realtime=So,t.RecalledMessage=cd,t.ServiceConversation=xd,t.TemporaryConversation=Dd,t.TextMessage=Ty,t.TypedMessage=ud,t.debug=di,t.defineConversationProperty=Uy,t.getAdapter=Gr,t.messageField=nd,t.messageType=td,t.setAdapters=Hr,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,n("c8ba"))},4916:function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,a=Number(new Date),u=a-(n||a);o.diff=u,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var i=r.formatters[n];if("function"===typeof i){var s=t[c];e=i.call(o,s),t.splice(c,1),c--}return e})),r.formatArgs.call(o,t);var f=o.log||r.log;f.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}function s(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}}function a(){r.enable("")}function u(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=s,r.enabled=u,r.humanize=n("1468"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4b26":function(e,t,n){"use strict";t.__esModule=!0;var r=n("2b0e"),i=s(r),o=n("5924");function s(e){return e&&e.__esModule?e:{default:e}}var a=!1,u=!1,c=void 0,f=function(){if(!i.default.prototype.$isServer){var e=h.modalDom;return e?a=!0:(a=!1,e=document.createElement("div"),h.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){h.doOnModalClick&&h.doOnModalClick()}))),e}},l={},h={modalFade:!0,getInstance:function(e){return l[e]},register:function(e,t){e&&t&&(l[e]=t)},deregister:function(e){e&&(l[e]=null,delete l[e])},nextZIndex:function(){return h.zIndex++},modalStack:[],doOnModalClick:function(){var e=h.modalStack[h.modalStack.length-1];if(e){var t=h.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,r,s){if(!i.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=s;for(var u=this.modalStack,c=0,l=u.length;c<l;c++){var h=u[c];if(h.id===e)return}var p=f();if((0,o.addClass)(p,"v-modal"),this.modalFade&&!a&&(0,o.addClass)(p,"v-modal-enter"),r){var d=r.trim().split(/\s+/);d.forEach((function(e){return(0,o.addClass)(p,e)}))}setTimeout((function(){(0,o.removeClass)(p,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(p):document.body.appendChild(p),t&&(p.style.zIndex=t),p.tabIndex=0,p.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})}},closeModal:function(e){var t=this.modalStack,n=f();if(t.length>0){var r=t[t.length-1];if(r.id===e){if(r.modalClass){var i=r.modalClass.trim().split(/\s+/);i.forEach((function(e){return(0,o.removeClass)(n,e)}))}t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(var s=t.length-1;s>=0;s--)if(t[s].id===e){t.splice(s,1);break}}0===t.length&&(this.modalFade&&(0,o.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",h.modalDom=void 0),(0,o.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(h,"zIndex",{configurable:!0,get:function(){return u||(c=c||(i.default.prototype.$ELEMENT||{}).zIndex||2e3,u=!0),c},set:function(e){c=e}});var p=function(){if(!i.default.prototype.$isServer&&h.modalStack.length>0){var e=h.modalStack[h.modalStack.length-1];if(!e)return;var t=h.getInstance(e.id);return t}};i.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=p();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t.default=h},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),f=o(s,c);if(e&&n!=n){while(c>f)if(a=u[f++],a!=a)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=n("ae40"),a=o("filter"),u=s("filter");r({target:"Array",proto:!0,forced:!a||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),s=n("e95a"),a=n("50c4"),u=n("8418"),c=n("35a1");e.exports=function(e){var t,n,f,l,h,p,d=i(e),y="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,m=void 0!==g,_=c(d),b=0;if(m&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==_||y==Array&&s(_))for(t=a(d.length),n=new y(t);t>b;b++)p=m?g(d[b],b):d[b],u(n,b,p);else for(l=_.call(d),h=l.next,n=new y;!(f=h.call(l)).done;b++)p=m?o(l,g,[f.value,b],!0):f.value,u(n,b,p);return n.length=b,n}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"50d8":function(e,t){function n(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=n},5128:function(e,t,n){"use strict";t.__esModule=!0,t.PopupManager=void 0;var r=n("2b0e"),i=h(r),o=n("7f4d"),s=h(o),a=n("4b26"),u=h(a),c=n("e62d"),f=h(c),l=n("5924");function h(e){return e&&e.__esModule?e:{default:e}}var p=1,d=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+p++,u.default.register(this._popupId,this)},beforeDestroy:function(){u.default.deregister(this._popupId),u.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,i.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,s.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),r):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(u.default.zIndex=r),n&&(this._closing&&(u.default.closeModal(this._popupId),this._closing=!1),u.default.openModal(this._popupId,u.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,l.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,l.getStyle)(document.body,"paddingRight"),10)),d=(0,f.default)();var i=document.documentElement.clientHeight<document.body.scrollHeight,o=(0,l.getStyle)(document.body,"overflowY");d>0&&(i||"scroll"===o)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+d+"px"),(0,l.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=u.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){u.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,l.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=u.default},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"51ef":function(e,t,n){e.exports=n("ecb6")},"53ec":function(e,t,n){function r(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n("4160"),n("13d5"),n("fb6a"),n("b64b"),n("159b"),e.exports=r},"55b5":function(e,t){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}e.exports=n},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56b0":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("17b0"),t),i(n("f5e5"),t)},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"57a5":function(e,t,n){var r=n("91e9"),i=r(Object.keys,Object);e.exports=i},"585a":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("c8ba"))},5924:function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=y,t.addClass=v,t.removeClass=g,t.setStyle=_;var i=n("2b0e"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var a=o.default.prototype.$isServer,u=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/,f=a?0:Number(document.documentMode),l=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},h=function(e){return e.replace(u,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(c,"Moz$1")},p=t.on=function(){return!a&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),d=t.off=function(){return!a&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}();t.once=function(e,t,n){var r=function r(){n&&n.apply(this,arguments),d(e,t,r)};p(e,t,r)};function y(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function v(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),i=0,o=r.length;i<o;i++){var s=r[i];s&&(e.classList?e.classList.add(s):y(e,s)||(n+=" "+s))}e.classList||(e.className=n)}}function g(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",i=0,o=n.length;i<o;i++){var s=n[i];s&&(e.classList?e.classList.remove(s):y(e,s)&&(r=r.replace(" "+s+" "," ")))}e.classList||(e.className=l(r))}}var m=t.getStyle=f<9?function(e,t){if(!a){if(!e||!t)return null;t=h(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(n){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!a){if(!e||!t)return null;t=h(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(r){return e.style[t]}}};function _(e,t,n){if(e&&t)if("object"===("undefined"===typeof t?"undefined":r(t)))for(var i in t)t.hasOwnProperty(i)&&_(e,i,t[i]);else t=h(t),"opacity"===t&&f<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[t]=n}var b=t.isScroll=function(e,t){if(!a){var n=null!==t||void 0!==t,r=m(e,n?t?"overflow-y":"overflow-x":"overflow");return r.match(/(scroll|auto)/)}};t.getScrollContainer=function(e,t){if(!a){var n=e;while(n){if([window,document,document.documentElement].includes(n))return window;if(b(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(a||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},5980:function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){(function(){var t=e,n=t.lib,r=n.Base,i=t.enc,o=i.Utf8,s=t.algo;s.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})})()}))},"5a43":function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n},"5ab7":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new s(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,o,s){var a=i?i+e:e;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var h,p=f.length;for(c=0;c<p;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;case 4:f[c].fn.call(f[c].context,t,n,r);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];f[c].fn.apply(f[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||u(this,o);else{for(var a=0,c=[],f=s.length;a<f;a++)(s[a].fn!==t||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},"5bc3":function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),u=n("7b0b"),c=n("44ad"),f=Object.assign,l=Object.defineProperty;e.exports=!f||i((function(){if(r&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||o(f({},t)).join("")!=i}))?function(e,t){var n=u(e),i=arguments.length,f=1,l=s.f,h=a.f;while(i>f){var p,d=c(arguments[f++]),y=l?o(d).concat(l(d)):o(d),v=y.length,g=0;while(v>g)p=y[g++],r&&!h.call(d,p)||(n[p]=d[p])}return n}:f},"60ed":function(e,t,n){var r=n("3729"),i=n("2dcb"),o=n("1310"),s="[object Object]",a=Function.prototype,u=Object.prototype,c=a.toString,f=u.hasOwnProperty,l=c.call(Object);function h(e){if(!o(e)||r(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}e.exports=h},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,s,a=String(i(t)),u=r(n),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},6613:function(e,t,n){n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0"),n("3ca3");var r=n("5a43");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i},6747:function(e,t){var n=Array.isArray;e.exports=n},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),u=n("861d"),c=n("9112"),f=n("5135"),l=n("c6cd"),h=n("f772"),p=n("d012"),d=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},v=function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var g=l.state||(l.state=new d),m=g.get,_=g.has,b=g.set;r=function(e,t){return t.facade=e,b.call(g,e,t),t},i=function(e){return m.call(g,e)||{}},o=function(e){return _.call(g,e)}}else{var w=h("state");p[w]=!0,r=function(e,t){return t.facade=e,c(e,w,t),t},i=function(e){return f(e,w)?e[w]:{}},o=function(e){return f(e,w)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:v}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),u=n("69f3"),c=u.get,f=u.enforce,l=String(String).split("String");(e.exports=function(e,t,n,a){var u,c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),u=f(n),u.source||(u.source=l.join("string"==typeof t?t:""))),e!==r?(c?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"6fcd":function(e,t,n){var r=n("50d8"),i=n("d370"),o=n("6747"),s=n("0d24"),a=n("c098"),u=n("73ac"),c=Object.prototype,f=c.hasOwnProperty;function l(e,t){var n=o(e),c=!n&&i(e),l=!n&&!c&&s(e),h=!n&&!c&&!l&&u(e),p=n||c||l||h,d=p?r(e.length,String):[],y=d.length;for(var v in e)!t&&!f.call(e,v)||p&&("length"==v||l&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,y))||d.push(v);return d}e.exports=l},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),e.exports=r},7297:function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);r=0;for(var i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"73ac":function(e,t,n){var r=n("743f"),i=n("b047"),o=n("99d3"),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"743f":function(e,t,n){var r=n("3729"),i=n("b218"),o=n("1310"),s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",l="[object Function]",h="[object Map]",p="[object Number]",d="[object Object]",y="[object RegExp]",v="[object Set]",g="[object String]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",C="[object Uint32Array]",x={};function R(e){return o(e)&&i(e.length)&&!!x[r(e)]}x[w]=x[E]=x[O]=x[S]=x[T]=x[A]=x[I]=x[N]=x[C]=!0,x[s]=x[a]=x[_]=x[u]=x[b]=x[c]=x[f]=x[l]=x[h]=x[p]=x[d]=x[y]=x[v]=x[g]=x[m]=!1,e.exports=R},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7948:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}e.exports=n},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),u=n("1be4"),c=n("cc12"),f=n("f772"),l=">",h="<",p="prototype",d="script",y=f("IE_PROTO"),v=function(){},g=function(e){return h+d+l+e+h+"/"+d+l},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=c("iframe"),n="java"+d+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=r?m(r):_();var e=s.length;while(e--)delete b[p][s[e]];return b()};a[y]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[p]=i(e),n=new v,v[p]=null,n[y]=e):n=b(),void 0===t?n:o(n,t)}},"7da0":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.upload=t.request=void 0;var o=n("b7e1"),s=n("db82");function a(e){return{ok:e.ok,status:e.status,headers:e.header,data:e.body}}t.request=function(e,t){var n=this;void 0===t&&(t={});var u=t.method,c=void 0===u?"GET":u,f=t.data,l=t.headers,h=t.onprogress,p=t.signal;if(null===p||void 0===p?void 0:p.aborted)return Promise.reject(new o.AbortError("Request aborted"));var d=s(c,e);return l&&d.set(l),h&&d.on("progress",h),new Promise((function(e,t){return r(n,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:p&&p.addEventListener("abort",(function(){t(new o.AbortError("Request aborted")),d.abort()})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d.send(f)];case 2:return n=i.sent(),e(a(n)),[3,4];case 3:return r=i.sent(),s=r,s.response?e(a(s.response)):t(r),[3,4];case 4:return[2]}}))}))}))},t.upload=function(e,t,n){void 0===n&&(n={});var u=n.method,c=void 0===u?"POST":u,f=n.data,l=n.headers,h=n.onprogress,p=n.signal;if(null===p||void 0===p?void 0:p.aborted)return Promise.reject(new o.AbortError("Request aborted"));var d=s(c,e).attach(t.field,t.data,t.name);return f&&d.field(f),l&&d.set(l),h&&d.on("progress",h),new Promise((function(e,t){return r(void 0,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:p&&p.addEventListener("abort",(function(){t(new o.AbortError("Request aborted")),d.abort()})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d];case 2:return n=i.sent(),e(a(n)),[3,4];case 3:return r=i.sent(),s=r,s.response?e(a(s.response)):t(r),[3,4];case 4:return[2]}}))}))}))}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,o=n("44d2"),s=n("ae40"),a="find",u=!0,c=s(a);a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),u=n("9112"),c=n("6eeb"),f=n("b622"),l=n("c430"),h=n("3f8c"),p=n("ae93"),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=f("iterator"),g="keys",m="values",_="entries",b=function(){return this};e.exports=function(e,t,n,f,p,w,E){i(n,t,f);var O,S,T,A=function(e){if(e===p&&R)return R;if(!y&&e in C)return C[e];switch(e){case g:return function(){return new n(this,e)};case m:return function(){return new n(this,e)};case _:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",N=!1,C=e.prototype,x=C[v]||C["@@iterator"]||p&&C[p],R=!y&&x||A(p),P="Array"==t&&C.entries||x;if(P&&(O=o(P.call(new e)),d!==Object.prototype&&O.next&&(l||o(O)===d||(s?s(O,d):"function"!=typeof O[v]&&u(O,v,b)),a(O,I,!0,!0),l&&(h[I]=b))),p==m&&x&&x.name!==m&&(N=!0,R=function(){return x.call(this)}),l&&!E||C[v]===R||u(C,v,R),h[t]=R,p)if(S={values:A(m),keys:w?R:A(g),entries:A(_)},E)for(T in S)(y||N||!(T in C))&&c(C,T,S[T]);else r({target:t,proto:!0,forced:y||N},S);return S}},"7f4d":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&(e[i]=o)}}return e}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},8122:function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=c,t.hasOwn=f,t.toObject=h,t.getPropByPath=p,t.rafThrottle=m,t.objToArray=_;var i=n("2b0e"),o=a(i),s=n("a742");function a(e){return e&&e.__esModule?e:{default:e}}var u=Object.prototype.hasOwnProperty;function c(){}function f(e,t){return u.call(e,t)}function l(e,t){for(var n in t)e[n]=t[n];return e}function h(e){for(var t={},n=0;n<e.length;n++)e[n]&&l(t,e[n]);return t}t.getValueByPath=function(e,t){t=t||"";for(var n=t.split("."),r=e,i=null,o=0,s=n.length;o<s;o++){var a=n[o];if(!r)break;if(o===s-1){i=r[a];break}r=r[a]}return i};function p(e,t,n){var r=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split("."),o=0,s=i.length;o<s-1;++o){if(!r&&!n)break;var a=i[o];if(!(a in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[a]}return{o:r,k:i[o],v:r?r[i[o]]:null}}t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var d=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},y=(t.arrayFind=function(e,t){var n=d(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;var t=["transform","transition","animation"],n=["ms-","webkit-"];return t.forEach((function(t){var r=e[t];t&&r&&n.forEach((function(n){e[n+t]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,s.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,s.isObject)(e),r=(0,s.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),v=t.arrayEquals=function(e,t){if(e=e||[],t=t||[],e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!y(e[n],t[n]))return!1;return!0},g=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?v(e,t):y(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"===typeof e)return!1;if("number"===typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1});function m(e){var t=!1;return function(){for(var n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,i),t=!1})))}}function _(e){return Array.isArray(e)?e:g(e)?[]:[e]}},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8a32":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.printGroupLog=t.throwError=t.printInfo=t.printError=t.printWarn=t.execCallback=t.createPromiseCallback=t.removeParam=t.getHash=t.getQuery=t.toQueryString=t.createSign=t.formatUrl=t.genSeqId=t.isFormData=t.isInstanceOf=t.isNull=t.isPalinObject=t.isUndefined=t.isString=t.isArray=void 0;var i=r(n("ed53")),o=r(n("1132")),s=r(n("f8d5")),a=n("56b0");function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){return"string"===typeof e}function f(e){return"undefined"===typeof e}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function h(e){return"[object Null]"===Object.prototype.toString.call(e)}function p(e,t){return e instanceof t}function d(e){return"[object FormData]"===Object.prototype.toString.call(e)}function y(){return Math.random().toString(16).slice(2)}function v(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),i="";for(var o in n)""===i?!r&&(t+="?"):i+="&",i+=o+"="+encodeURIComponent(n[o]);return t+=i,/^http(s)?\:\/\//.test(t)?t:""+e+t}function g(e){var t=o.default.stringify(e);return t=t.replace(/=+$/,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t}function m(e,t){var n={alg:"HS256",typ:"JWT"},r=g(s.default.parse(JSON.stringify(n))),o=g(s.default.parse(JSON.stringify(e))),a=r+"."+o,u=g(i.default(a,t));return a+"."+u}function _(e){void 0===e&&(e={});var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function b(e,t){if("undefined"===typeof window)return!1;var n=t||window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=n.substr(n.indexOf("?")+1).match(r);return null!=i?i[2]:""}function w(e,t){var n,r=t.split("?")[0],i=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){i=o.split("&");for(var s=i.length-1;s>=0;s-=1)n=i[s].split("=")[0],n===e&&i.splice(s,1);r=r+"?"+i.join("&")}return r}function E(){var e;if(!Promise){e=function(){},e.promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e}function O(e,t,n){if(void 0===n&&(n=null),e&&"function"===typeof e)return e(t,n);if(t)throw t;return n}function S(e,t){console.warn("["+a.getSdkName()+"]["+e+"]:"+t)}function T(e,t){console.error({code:e,msg:"["+a.getSdkName()+"]["+e+"]:"+t})}function A(e,t){console.log("["+a.getSdkName()+"]["+e+"]:"+t)}function I(e,t){throw new Error(JSON.stringify({code:e,msg:"["+a.getSdkName()+"]["+e+"]:"+t}))}function N(e){var t=e.title,n=e.subtitle,r=void 0===n?"":n,i=e.content,o=void 0===i?[]:i,s=e.printTrace,a=void 0!==s&&s,u=e.collapsed,c=void 0!==u&&u;c?console.groupCollapsed(t,r):console.group(t,r);for(var f=0,l=o;f<l.length;f++){var h=l[f],p=h.type,d=h.body;switch(p){case"info":console.log(d);break;case"warn":console.warn(d);break;case"error":console.error(d);break}}a&&console.trace("stack trace:"),console.groupEnd()}t.isArray=u,t.isString=c,t.isUndefined=f,t.isPalinObject=l,t.isNull=h,t.isInstanceOf=p,t.isFormData=d,t.genSeqId=y,t.formatUrl=v,t.createSign=m,t.toQueryString=_,t.getQuery=b,t.getHash=function(e){if("undefined"===typeof window)return"";var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},t.removeParam=w,t.createPromiseCallback=E,t.execCallback=O,t.printWarn=S,t.printError=T,t.printInfo=A,t.throwError=I,t.printGroupLog=N,t.sleep=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"90c9":function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n("f338");function o(e){if(e)return s(e)}function s(e){for(var t in o.prototype)Object.prototype.hasOwnProperty.call(o.prototype,t)&&(e[t]=o.prototype[t]);return e}e.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},o.prototype.parse=function(e){return this._parser=e,this},o.prototype.responseType=function(e){return this._responseType=e,this},o.prototype.serialize=function(e){return this._serializer=e,this},o.prototype.timeout=function(e){if(!e||"object"!==r(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},o.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var a=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(r){console.error(r)}if(t&&t.status&&t.status>=500&&501!==t.status)return!0;if(e){if(e.code&&a.includes(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},o.prototype.then=function(e,t){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){r.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)t(n.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=n.status,e.method=n.method,e.url=n.url,t(e)}})),r.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.use=function(e){return e(this),this},o.prototype.ok=function(e){if("function"!==typeof e)throw new Error("Callback required");return this._okCallback=e,this},o.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},o.prototype.get=function(e){return this._header[e.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(e,t){if(i(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},o.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},o.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(i(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"===typeof t&&(t=String(t)),this._getFormData().append(e,t),this},o.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},o.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e));break;default:break}return this},o.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},o.prototype.redirects=function(e){return this._maxRedirects=e,this},o.prototype.maxResponseSize=function(e){if("number"!==typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(e){var t=i(e),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&i(this._data))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._data[r]=e[r]);else"string"===typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},o.prototype.sortQuery=function(e){return this._sort="undefined"===typeof e||e,this},o.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.slice(t+1).split("&");"function"===typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,t)+"?"+n.join("&")}}},o.prototype._appendQueryString=function(){console.warn("Unsupported")},o.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error("".concat(e+t,"ms exceeded"));r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},o.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+l>=1?h/u:h*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*y}},"91e9":function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,f=void 0!==/()??/.exec("")[1],l=u||f||c;l&&(a=function(e){var t,n,i,a,l=this,h=c&&l.sticky,p=r.call(l),d=l.source,y=0,v=e;return h&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,y++),n=new RegExp("^(?:"+d+")",p)),f&&(n=new RegExp("^"+d+"$(?!\\s)",p)),u&&(t=l.lastIndex),i=o.call(h?n:l,v),h?i?(i.input=i.input.slice(y),i[0]=i[0].slice(y),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:u&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),f&&i&&i.length>1&&s.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),e.exports=a},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},"94f8":function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];(function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}var r=2,i=0;while(i<64)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++})();var c=[],f=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],f=n[5],l=n[6],h=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var d=c[p-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=c[p-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[p]=y+c[p-7]+g+c[p-16]}var m=a&f^~a&l,_=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),E=h+w+m+u[p]+c[p],O=b+_;h=l,l=f,f=a,a=s+E|0,s=o,o=i,i=r,r=E+O|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(f),n.HmacSHA256=o._createHmacHelper(f)}(Math),e.SHA256}))},9520:function(e,t,n){var r=n("3729"),i=n("1a8c"),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";function c(e){if(!i(e))return!1;var t=r(e);return t==s||t==a||t==o||t==u}e.exports=c},9523:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n},"954c":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.catchErrorsDecorator=void 0;var o=n("8a32"),s=n("56b0"),a=!1;"undefined"!==typeof navigator&&navigator.userAgent&&(a=-1!==navigator.userAgent.indexOf("Firefox"));var u=a?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,c=/https?\:\/\/.+\:\d*\/.*\.js\:\d+\:\d+/;function f(e){var t=e.mode,n=void 0===t?"async":t,a=e.customInfo,u=void 0===a?{}:a,c=e.title,f=e.messages,p=void 0===f?[]:f;return function(e,t,a){if(s.IS_DEBUG_MODE){var f=u.className||e.constructor.name,d=u.methodName||t,y=a.value,v=l(new Error);a.value="sync"===n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=h({err:new Error,className:f,methodName:d,sourceLink:v});try{return y.apply(this,e)}catch(u){var r=u,i=u.message,s={title:c||f+"."+d+" failed",content:[{type:"error",body:u}]};if(i&&/^\{.*\}$/.test(i)){var a=JSON.parse(i);s.subtitle=i,a.code&&(r=n||u,s.content=p.map((function(e){return{type:"info",body:e}})))}throw o.printGroupLog(s),r}}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,s,a,u;return i(this,(function(i){switch(i.label){case 0:t=h({err:new Error,className:f,methodName:d,sourceLink:v}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,y.apply(this,e)];case 2:return[2,i.sent()];case 3:throw n=i.sent(),r=n,s=n.message,a={title:c||f+"."+d+" failed",content:[{type:"error",body:n}]},s&&/^\{.*\}$/.test(s)&&(u=JSON.parse(s),a.subtitle=u,u.code&&(r=t||n,a.content=p.map((function(e){return{type:"info",body:e}})))),o.printGroupLog(a),r;case 4:return[2]}}))}))}}}}function l(e){var t="",n=e.stack.split("\n"),r=n.findIndex((function(e){return u.test(e)}));if(-1!==r){var i=c.exec(n[r+1]||"");t=i?i[0]:""}return t}function h(e){var t=e.err,n=e.className,r=e.methodName,i=e.sourceLink;if(!i)return null;var o,s=t.stack.split("\n"),u=a?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]\\s*\\(.*\\)$"),f=a?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]"),l=s.findIndex((function(e){return u.test(e)}));if(-1!==l){var h=s.filter((function(e,t){return t>l}));h.unshift(s[l].replace(f,n+"."+r).replace(c,i)),o=new Error,o.stack=(a?"@debugger":"Error")+"\n"+h.join("\n")}return o}t.catchErrorsDecorator=f},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new C(r||[]);return o._invoke=T(e,n,s),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",y={};function v(){}function g(){}function m(){}var _={};_[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(x([])));w&&w!==n&&r.call(w,o)&&(_=w);var E=m.prototype=v.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,a){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function T(e,t,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return R()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=A(s,n);if(a){if(a===y)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=f(e,t,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function A(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=f(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=E.constructor=m,m.constructor=g,g.displayName=u(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},O(S.prototype),S.prototype[s]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(E),u(E,a,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:x(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),a=n("7b0b"),u=n("50c4"),c=n("8418"),f=n("65f0"),l=n("1dde"),h=n("b622"),p=n("2d00"),d=h("isConcatSpreadable"),y=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!i((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),m=l("concat"),_=function(e){if(!s(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)},b=!g||!m;r({target:"Array",proto:!0,forced:b},{concat:function(e){var t,n,r,i,o,s=a(this),l=f(s,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],_(o)){if(i=u(o.length),h+i>y)throw TypeError(v);for(n=0;n<i;n++,h++)n in o&&c(l,h,o[n])}else{if(h>=y)throw TypeError(v);c(l,h++,o)}return l.length=h,l}})},"99d3":function(e,t,n){(function(e){var r=n("585a"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s&&r.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=u}).call(this,n("62e4")(e))},"9bdd":function(e,t,n){var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){throw i(e),s}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9d96":function(e,t,n){"use strict";function r(e){return a(e)||s(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function a(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){c.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._defaults.push({fn:e,args:n}),this}})),c.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,r(t.args))}))},e.exports=c},"9e69":function(e,t,n){var r=n("2b3e"),i=r.Symbol;e.exports=i},"9e8e":function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return qe}));var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function s(e,t){return t={exports:{}},e(t,t.exports),t.exports}for(var a=g,u=_,c=E,f=[],l=[],h="undefined"!==typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,y=p.length;d<y;++d)f[d]=p[d],l[p.charCodeAt(d)]=d;function v(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function g(e){var t=v(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function m(e,t,n){return 3*(t+n)/4-n}function _(e){var t,n,r=v(e),i=r[0],o=r[1],s=new h(m(e,i,o)),a=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===o&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s}function b(e){return f[e>>18&63]+f[e>>12&63]+f[e>>6&63]+f[63&e]}function w(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(b(r));return i.join("")}function E(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(w(e,s,s+o>a?a:s+o));return 1===r?(t=e[n-1],i.push(f[t>>2]+f[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(f[t>>10]+f[t>>4&63]+f[t<<2&63]+"=")),i.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;var O,S={byteLength:a,toByteArray:u,fromByteArray:c},T=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},A=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+l>=1?h/u:h*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*y},I={read:T,write:A},N=s((function(e,t){var n="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;var r=2147483647;function i(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return a(e,t,n)}function a(e,t,n){if("string"===typeof e)return l(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers["typeof"](e));if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=d(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers["typeof"](e))}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"===typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}function f(e){return u(e),o(e<0?0:0|y(e))}function l(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=o(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function h(e){for(var t=e.length<0?0:0|y(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function d(e){if(s.isBuffer(e)){var t=0|y(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||Q(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}function y(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),s.alloc(+e)}function g(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers["typeof"](e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return r?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Q(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(Q(a))return s;e[n+s]=a}return s}function O(e,t,n,r){return K(W(t,e.length-n),e,n,r)}function T(e,t,n,r){return K(z(t),e,n,r)}function A(e,t,n,r){return T(e,t,n,r)}function N(e,t,n,r){return K(H(t),e,n,r)}function C(e,t,n,r){return K(G(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?S.fromByteArray(e):S.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:o=e[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(f=u));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s,u>2047&&(u<55296||u>57343)&&(f=u));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,u>65535&&u<1114112&&(f=u))}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return j(r)}t.kMaxLength=r,s.TYPED_ARRAY_SUPPORT=i(),s.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return c(e,t,n)},s.allocUnsafe=function(e){return f(e)},s.allocUnsafeSlow=function(e){return f(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(J(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(J(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=g,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(J(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers["typeof"](e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,u=Math.min(o,a),c=this.slice(r,i),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return N(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function j(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=X[e[o]];return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,t,n,4),I.write(e,t,n,r,23,4),n+4}function V(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,t,n,8),I.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),I.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),I.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),I.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),I.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;U(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;U(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function $(e){if(e=e.split("=")[0],e=e.trim().replace(Y,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function W(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function H(e){return S.toByteArray($(e))}function K(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}var X=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()})),C=(N.Buffer,N.SlowBuffer,N.INSPECT_MAX_BYTES,N.kMaxLength,{});O="function"===typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var x=O,R=/%[sdj%]/g;function P(e){if(!X(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(D(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(R,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])K(s)||!ne(s)?o+=" "+s:o+=" "+D(s);return o}function j(t,n){if(ee(e.process))return function(){return j(t,n).apply(this,arguments)};var r=!1;function i(){return r||(console.error(n),r=!0),t.apply(this,arguments)}return i}var k,L={};function M(e){if(ee(k)&&(k=""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(k)){var t=0;L[e]=function(){var n=P.apply(null,arguments);console.error("%s %d: %s",e,t,n)}}else L[e]=function(){};return L[e]}function D(e,t){var n={seen:[],stylize:U};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),H(t)?n.showHidden=t:t&&pe(n,t),ee(n.showHidden)&&(n.showHidden=!1),ee(n.depth)&&(n.depth=2),ee(n.colors)&&(n.colors=!1),ee(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=B),q(n,e,n.depth)}function B(e,t){var n=D.styles[t];return n?"["+D.colors[n][0]+"m"+e+"["+D.colors[n][1]+"m":e}function U(e,t){return e}function F(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function q(e,t,n){if(e.customInspect&&t&&oe(t.inspect)&&t.inspect!==D&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return X(r)||(r=q(e,r,n)),r}var i=V(e,t);if(i)return i;var o=Object.keys(t),s=F(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),ie(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Y(t);if(0===o.length){if(oe(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(te(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(re(t))return e.stylize(Date.prototype.toString.call(t),"date");if(ie(t))return Y(t)}var u,c="",f=!1,l=["{","}"];if(G(t)&&(f=!0,l=["[","]"]),oe(t)){var h=t.name?": "+t.name:"";c=" [Function"+h+"]"}return te(t)&&(c=" "+RegExp.prototype.toString.call(t)),re(t)&&(c=" "+Date.prototype.toUTCString.call(t)),ie(t)&&(c=" "+Y(t)),0!==o.length||f&&0!=t.length?n<0?te(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?$(e,t,n,s,o):o.map((function(r){return W(e,t,n,s,r,f)})),e.seen.pop(),z(u,c,l)):l[0]+c+l[1]}function V(e,t){if(ee(t))return e.stylize("undefined","undefined");if(X(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return Q(t)?e.stylize(""+t,"number"):H(t)?e.stylize(""+t,"boolean"):K(t)?e.stylize("null","null"):void 0}function Y(e){return"["+Error.prototype.toString.call(e)+"]"}function $(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)de(t,String(s))?o.push(W(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(W(e,t,n,r,i,!0))})),o}function W(e,t,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),de(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=K(n)?q(e,u.value,null):q(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n"))):a=e.stylize("[Circular]","special")),ee(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function z(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function G(e){return Array.isArray(e)}function H(e){return"boolean"===typeof e}function K(e){return null===e}function J(e){return null==e}function Q(e){return"number"===typeof e}function X(e){return"string"===typeof e}function Z(e){return"symbol"===babelHelpers["typeof"](e)}function ee(e){return void 0===e}function te(e){return ne(e)&&"[object RegExp]"===ue(e)}function ne(e){return"object"===babelHelpers["typeof"](e)&&null!==e}function re(e){return ne(e)&&"[object Date]"===ue(e)}function ie(e){return ne(e)&&("[object Error]"===ue(e)||e instanceof Error)}function oe(e){return"function"===typeof e}function se(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===babelHelpers["typeof"](e)||"undefined"===typeof e}function ae(e){return r.isBuffer(e)}function ue(e){return Object.prototype.toString.call(e)}function ce(e){return e<10?"0"+e.toString(10):e.toString(10)}D.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},D.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var e=new Date,t=[ce(e.getHours()),ce(e.getMinutes()),ce(e.getSeconds())].join(":");return[e.getDate(),fe[e.getMonth()],t].join(" ")}function he(){console.log("%s - %s",le(),P.apply(null,arguments))}function pe(e,t){if(!t||!ne(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e}function de(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ye={inherits:x,_extend:pe,log:he,isBuffer:ae,isPrimitive:se,isFunction:oe,isError:ie,isDate:re,isObject:ne,isRegExp:te,isUndefined:ee,isSymbol:Z,isString:X,isNumber:Q,isNullOrUndefined:J,isNull:K,isBoolean:H,isArray:G,inspect:D,deprecate:j,format:P,debuglog:M},ve=s((function(e,t){function n(e){return e.toString().replace("function(","function (")}function r(e){const t=N.Buffer.alloc(e);for(let n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}if(Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.isBuffer=t.haveBuffer=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=n,t.randomBytes=r,"undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues)t.randomBytes=e=>window.crypto.getRandomValues(N.Buffer.alloc(e));else{try{t.randomBytes=C.randomBytes}catch(p){}null==t.randomBytes&&(t.randomBytes=r)}function o(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function s(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)}function a(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)}function u(){return"undefined"!==typeof i&&"undefined"!==typeof i.Buffer}function c(e){var t;return"object"===typeof e&&"Buffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}function f(e){return l(e)&&"[object Date]"===Object.prototype.toString.call(e)}function l(e){return"object"===typeof e&&null!==e}function h(e,t){if("undefined"===typeof window||"undefined"===typeof self)return ye.deprecate(e,t);let n=!1;function r(...r){return n||(console.warn(t),n=!0),e.apply(this,...r)}return r}t.isUint8Array=o,t.isBigInt64Array=s,t.isBigUInt64Array=a,t.haveBuffer=u,t.isBuffer=c,t.isDate=f,t.isObjectLike=l,t.deprecate=h}));o(ve);ve.deprecate,ve.isObjectLike,ve.isDate,ve.isBuffer,ve.haveBuffer,ve.isBigUInt64Array,ve.isBigInt64Array,ve.isUint8Array,ve.randomBytes,ve.normalizedFunctionString;var ge=s((function(e,t){function n(e){if(ve.isBuffer(e))return e;if(ArrayBuffer.isView(e))return N.Buffer.from(e.buffer);if(e instanceof ArrayBuffer)return N.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=n}));o(ge);ge.ensureBuffer;var me=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseUUID=void 0;const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function r(e){if("string"!==typeof e)throw new TypeError("Invalid type for UUID, expected string but got "+typeof e);if(!n.test(e))throw new TypeError("Invalid format for UUID: "+e);let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}t.parseUUID=r}));o(me);me.parseUUID;var _e=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;class n{constructor(e,t){if(null!=e&&"string"!==typeof e&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!==t&&void 0!==t?t:n.BSON_BINARY_SUBTYPE_DEFAULT,null==e?(this.buffer=N.Buffer.alloc(n.BUFFER_SIZE),this.position=0):("string"===typeof e?this.buffer=N.Buffer.from(e,"binary"):Array.isArray(e)?this.buffer=N.Buffer.from(e):this.buffer=ge.ensureBuffer(e),this.position=this.buffer.byteLength)}put(e){if("string"===typeof e&&1!==e.length)throw new TypeError("only accepts single character String");if("number"!==typeof e&&1!==e.length)throw new TypeError("only accepts single character Uint8Array or Array");let t;if(t="string"===typeof e?e.charCodeAt(0):"number"===typeof e?e:e[0],t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=t;else{const e=N.Buffer.alloc(n.BUFFER_SIZE+this.buffer.length);this.buffer.copy(e,0,0,this.buffer.length),this.buffer=e,this.buffer[this.position++]=t}}write(e,t){if(t="number"===typeof t?t:this.position,this.buffer.length<t+e.length){const t=N.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(t,0,0,this.buffer.length),this.buffer=t}ArrayBuffer.isView(e)?(this.buffer.set(ge.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"===typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)}read(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)}value(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)}length(){return this.position}toJSON(){return this.buffer.toString("base64")}toString(e){return this.buffer.toString(e)}toExtendedJSON(e){e=e||{};const t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}}static fromExtendedJSON(e,t){let r,i;if(t=t||{},"$binary"in e?t.legacy&&"string"===typeof e.$binary&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,r=N.Buffer.from(e.$binary,"base64")):"string"!==typeof e.$binary&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,r=N.Buffer.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,r=N.Buffer.from(me.parseUUID(e.$uuid))),!r)throw new TypeError("Unexpected Binary Extended JSON format "+JSON.stringify(e));return new n(r,i)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const e=this.value(!0);return`Binary("${e.toString("hex")}", ${this.sub_type})`}}t.Binary=n,n.BSON_BINARY_SUBTYPE_DEFAULT=0,n.BUFFER_SIZE=256,n.SUBTYPE_DEFAULT=0,n.SUBTYPE_FUNCTION=1,n.SUBTYPE_BYTE_ARRAY=2,n.SUBTYPE_UUID_OLD=3,n.SUBTYPE_UUID=4,n.SUBTYPE_MD5=5,n.SUBTYPE_USER_DEFINED=128,Object.defineProperty(n.prototype,"_bsontype",{value:"Binary"})}));o(_e);_e.Binary;var be=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;class n{constructor(e,t){this.code=e,this.scope=t}toJSON(){return{code:this.code,scope:this.scope}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new n(e.$code,e.$scope)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const e=this.toJSON();return`Code("${e.code}"${e.scope?", "+JSON.stringify(e.scope):""})`}}t.Code=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Code"})}));o(be);be.Code;var we=s((function(e,t){function n(e){return ve.isObjectLike(e)&&null!=e["$id"]&&null!=e["$ref"]}Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=n;class r{constructor(e,t,n,r){const i=e.split(".");2===i.length&&(n=i.shift(),e=i.shift()),this.collection=e,this.oid=t,this.db=n,this.fields=r||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){const e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let t={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields)),t}static fromExtendedJSON(e){const t=Object.assign({},e);return delete t.$ref,delete t.$id,delete t.$db,new r(e.$ref,e.$id,e.$db,t)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return`DBRef("${this.namespace}", "${e}"${this.db?`, "${this.db}"`:""})`}}t.DBRef=r,Object.defineProperty(r.prototype,"_bsontype",{value:"DBRef"})}));o(we);we.DBRef,we.isDBRefLike;var Ee=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;let n=void 0;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(l){}const r=65536,i=1<<24,o=r*r,s=o*o,a=s/2,u={},c={};class f{constructor(e=0,t=0,n){this.low=0|e,this.high=0|t,this.unsigned=!!n,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}static fromBits(e,t,n){return new f(e,t,n)}static fromInt(e,t){let n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=c[e],r)?r:(n=f.fromBits(e,(0|e)<0?-1:0,!0),i&&(c[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=u[e],r)?r:(n=f.fromBits(e,e<0?-1:0,!1),i&&(u[e]=n),n))}static fromNumber(e,t){if(isNaN(e))return t?f.UZERO:f.ZERO;if(t){if(e<0)return f.UZERO;if(e>=s)return f.MAX_UNSIGNED_VALUE}else{if(e<=-a)return f.MIN_VALUE;if(e+1>=a)return f.MAX_VALUE}return e<0?f.fromNumber(-e,t).neg():f.fromBits(e%o|0,e/o|0,t)}static fromBigInt(e,t){return f.fromString(e.toString(),t)}static fromString(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return f.ZERO;if("number"===typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");let r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f.fromString(e.substring(1),t,n).neg();const i=f.fromNumber(Math.pow(n,8));let o=f.ZERO;for(let s=0;s<e.length;s+=8){const t=Math.min(8,e.length-s),r=parseInt(e.substring(s,s+t),n);if(t<8){const e=f.fromNumber(Math.pow(n,t));o=o.mul(e).add(f.fromNumber(r))}else o=o.mul(i),o=o.add(f.fromNumber(r))}return o.unsigned=t,o}static fromBytes(e,t,n){return n?f.fromBytesLE(e,t):f.fromBytesBE(e,t)}static fromBytesLE(e,t){return new f(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}static fromBytesBE(e,t){return new f(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}static isLong(e){return ve.isObjectLike(e)&&!0===e["__isLong__"]}static fromValue(e,t){return"number"===typeof e?f.fromNumber(e,t):"string"===typeof e?f.fromString(e,t):f.fromBits(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}add(e){f.isLong(e)||(e=f.fromValue(e));const t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,u=65535&e.low;let c=0,l=0,h=0,p=0;return p+=i+u,h+=p>>>16,p&=65535,h+=r+a,l+=h>>>16,h&=65535,l+=n+s,c+=l>>>16,l&=65535,c+=t+o,c&=65535,f.fromBits(h<<16|p,c<<16|l,this.unsigned)}and(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(f.isLong(e)||(e=f.fromValue(e)),this.eq(e))return 0;const t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){if(f.isLong(e)||(e=f.fromValue(e)),e.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;const t=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high);return f.fromBits(t,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?f.UZERO:f.ZERO;let t,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return f.UZERO;if(e.gt(this.shru(1)))return f.UONE;i=f.UZERO}else{if(this.eq(f.MIN_VALUE)){if(e.eq(f.ONE)||e.eq(f.NEG_ONE))return f.MIN_VALUE;if(e.eq(f.MIN_VALUE))return f.ONE;{const n=this.shr(1);return t=n.div(e).shl(1),t.eq(f.ZERO)?e.isNegative()?f.ONE:f.NEG_ONE:(r=this.sub(e.mul(t)),i=t.add(r.div(e)),i)}}if(e.eq(f.MIN_VALUE))return this.unsigned?f.UZERO:f.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=f.ZERO}r=this;while(r.gte(e)){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));const n=Math.ceil(Math.log(t)/Math.LN2),o=n<=48?1:Math.pow(2,n-48);let s=f.fromNumber(t),a=s.mul(e);while(a.isNegative()||a.gt(r))t-=o,s=f.fromNumber(t,this.unsigned),a=s.mul(e);s.isZero()&&(s=f.ONE),i=i.add(s),r=r.sub(a)}return i}div(e){return this.divide(e)}equals(e){return f.isLong(e)||(e=f.fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(f.MIN_VALUE)?64:this.neg().getNumBitsAbs();const e=0!==this.high?this.high:this.low;let t;for(t=31;t>0;t--)if(0!==(e&1<<t))break;return 0!==this.high?t+33:t+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return 0===(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return 1===(1&this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return 0===this.high&&0===this.low}lessThan(e){return this.comp(e)<0}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return this.comp(e)<=0}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(f.isLong(e)||(e=f.fromValue(e)),n){const t=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high);return f.fromBits(t,n.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return f.ZERO;if(f.isLong(e)||(e=f.fromValue(e)),n){const t=n.mul(this.low,this.high,e.low,e.high);return f.fromBits(t,n.get_high(),this.unsigned)}if(e.isZero())return f.ZERO;if(this.eq(f.MIN_VALUE))return e.isOdd()?f.MIN_VALUE:f.ZERO;if(e.eq(f.MIN_VALUE))return this.isOdd()?f.MIN_VALUE:f.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f.TWO_PWR_24)&&e.lt(f.TWO_PWR_24))return f.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);const t=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,c=65535&e.low;let l=0,h=0,p=0,d=0;return d+=o*c,p+=d>>>16,d&=65535,p+=i*c,h+=p>>>16,p&=65535,p+=o*u,h+=p>>>16,p&=65535,h+=r*c,l+=h>>>16,h&=65535,h+=i*u,l+=h>>>16,h&=65535,h+=o*a,l+=h>>>16,h&=65535,l+=t*c+r*u+i*a+o*s,l&=65535,f.fromBits(p<<16|d,l<<16|h,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(f.MIN_VALUE)?f.MIN_VALUE:this.not().add(f.ONE)}neg(){return this.negate()}not(){return f.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return f.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?f.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):f.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return f.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?f.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):f.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(f.isLong(e)&&(e=e.toInt()),e&=63,0===e)return this;{const t=this.high;if(e<32){const n=this.low;return f.fromBits(n>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?f.fromBits(t,0,this.unsigned):f.fromBits(t>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return f.isLong(e)||(e=f.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*o+(this.low>>>0):this.high*o+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){const e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){const e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]}toSigned(){return this.unsigned?f.fromBits(this.low,this.high,!1):this}toString(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(f.MIN_VALUE)){const t=f.fromNumber(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}const t=f.fromNumber(Math.pow(e,6),this.unsigned);let n=this,r="";while(1){const i=n.div(t),o=n.sub(i.mul(t)).toInt()>>>0;let s=o.toString(e);if(n=i,n.isZero())return s+r;while(s.length<6)s="0"+s;r=""+s+r}}toUnsigned(){return this.unsigned?this:f.fromBits(this.low,this.high,!0)}xor(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,t){const n=f.fromString(e.$numberLong);return t&&t.relaxed?n.toNumber():n}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Long("${this.toString()}")`}}t.Long=f,f.TWO_PWR_24=f.fromInt(i),f.MAX_UNSIGNED_VALUE=f.fromBits(-1,-1,!0),f.ZERO=f.fromInt(0),f.UZERO=f.fromInt(0,!0),f.ONE=f.fromInt(1),f.UONE=f.fromInt(1,!0),f.NEG_ONE=f.fromInt(-1),f.MAX_VALUE=f.fromBits(-1,2147483647,!1),f.MIN_VALUE=f.fromBits(0,-2147483648,!1),Object.defineProperty(f.prototype,"__isLong__",{value:!0}),Object.defineProperty(f.prototype,"_bsontype",{value:"Long"})}));o(Ee);Ee.Long;var Oe=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;const n=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,r=/^(\+|-)?(Infinity|inf)$/i,i=/^(\+|-)?NaN$/i,o=6111,s=-6176,a=6176,u=34,c=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),f=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),l=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),h=/^([-+])?(\d+)?$/,p=31,d=16383,y=30,v=31;function g(e){return!isNaN(parseInt(e,10))}function m(e){const t=Ee.Long.fromNumber(1e9);let n=Ee.Long.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(let r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new Ee.Long(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function _(e,t){if(!e&&!t)return{high:Ee.Long.fromNumber(0),low:Ee.Long.fromNumber(0)};const n=e.shiftRightUnsigned(32),r=new Ee.Long(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new Ee.Long(t.getLowBits(),0);let s=n.multiply(i),a=n.multiply(o);const u=r.multiply(i);let c=r.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new Ee.Long(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),c=a.shiftLeft(32).add(new Ee.Long(c.getLowBits(),0)),{high:s,low:c}}function b(e,t){const n=e.high>>>0,r=t.high>>>0;if(n<r)return!0;if(n===r){const n=e.low>>>0,r=t.low>>>0;if(n<r)return!0}return!1}function w(e,t){throw new TypeError(`"${e}" is not a valid Decimal128 string - ${t}`)}class E{constructor(e){this.bytes=e}static fromString(e){let t=!1,p=!1,d=!1,y=0,v=0,m=0,O=0,S=0;const T=[0];let A=0,I=0,C=0,x=0,R=0,P=0,j=new Ee.Long(0,0),k=new Ee.Long(0,0),L=0,M=0;if(e.length>=7e3)throw new TypeError(e+" not a valid Decimal128 string");const D=e.match(n),B=e.match(r),U=e.match(i);if(!D&&!B&&!U||0===e.length)throw new TypeError(e+" not a valid Decimal128 string");if(D){const t=D[2],n=D[4],r=D[5],i=D[6];n&&void 0===i&&w(e,"missing exponent power"),n&&void 0===t&&w(e,"missing exponent base"),void 0===n&&(r||i)&&w(e,"missing e before exponent")}if("+"!==e[M]&&"-"!==e[M]||(t="-"===e[M++]),!g(e[M])&&"."!==e[M]){if("i"===e[M]||"I"===e[M])return new E(N.Buffer.from(t?f:l));if("N"===e[M])return new E(N.Buffer.from(c))}while(g(e[M])||"."===e[M])"."!==e[M]?(A<34&&("0"!==e[M]||d)&&(d||(S=v),d=!0,T[I++]=parseInt(e[M],10),A+=1),d&&(m+=1),p&&(O+=1),v+=1,M+=1):(p&&w(e,"contains multiple periods"),p=!0,M+=1);if(p&&!v)throw new TypeError(e+" not a valid Decimal128 string");if("e"===e[M]||"E"===e[M]){const t=e.substr(++M).match(h);if(!t||!t[2])return new E(N.Buffer.from(c));R=parseInt(t[0],10),M+=t[0].length}if(e[M])return new E(N.Buffer.from(c));if(C=0,A){if(x=A-1,y=m,1!==y)while("0"===e[S+y-1])y-=1}else C=0,x=0,T[0]=0,m=1,A=1,y=0;R<=O&&O-R>16384?R=s:R-=O;while(R>o){if(x+=1,x-C>u){const t=T.join("");if(t.match(/^0+$/)){R=o;break}w(e,"overflow")}R-=1}while(R<s||A<m){if(0===x&&y<A){R=s,y=0;break}if(A<m?m-=1:x-=1,R<o)R+=1;else{const t=T.join("");if(t.match(/^0+$/)){R=o;break}w(e,"overflow")}}if(x-C+1<y){let n=v;p&&(S+=1,n+=1),t&&(S+=1,n+=1);const r=parseInt(e[S+x+1],10);let i=0;if(r>=5&&(i=1,5===r))for(i=T[x]%2===1?1:0,P=S+x+2;P<n;P++)if(parseInt(e[P],10)){i=1;break}if(i){let e=x;for(;e>=0;e--)if(++T[e]>9&&(T[e]=0,0===e)){if(!(R<o))return new E(N.Buffer.from(t?f:l));R+=1,T[e]=1}}}if(j=Ee.Long.fromNumber(0),k=Ee.Long.fromNumber(0),0===y)j=Ee.Long.fromNumber(0),k=Ee.Long.fromNumber(0);else if(x-C<17){let e=C;for(k=Ee.Long.fromNumber(T[e++]),j=new Ee.Long(0,0);e<=x;e++)k=k.multiply(Ee.Long.fromNumber(10)),k=k.add(Ee.Long.fromNumber(T[e]))}else{let e=C;for(j=Ee.Long.fromNumber(T[e++]);e<=x-17;e++)j=j.multiply(Ee.Long.fromNumber(10)),j=j.add(Ee.Long.fromNumber(T[e]));for(k=Ee.Long.fromNumber(T[e++]);e<=x;e++)k=k.multiply(Ee.Long.fromNumber(10)),k=k.add(Ee.Long.fromNumber(T[e]))}const F=_(j,Ee.Long.fromString("100000000000000000"));F.low=F.low.add(k),b(F.low,k)&&(F.high=F.high.add(Ee.Long.fromNumber(1))),L=R+a;const q={low:Ee.Long.fromNumber(0),high:Ee.Long.fromNumber(0)};F.high.shiftRightUnsigned(49).and(Ee.Long.fromNumber(1)).equals(Ee.Long.fromNumber(1))?(q.high=q.high.or(Ee.Long.fromNumber(3).shiftLeft(61)),q.high=q.high.or(Ee.Long.fromNumber(L).and(Ee.Long.fromNumber(16383).shiftLeft(47))),q.high=q.high.or(F.high.and(Ee.Long.fromNumber(0x7fffffffffff)))):(q.high=q.high.or(Ee.Long.fromNumber(16383&L).shiftLeft(49)),q.high=q.high.or(F.high.and(Ee.Long.fromNumber(562949953421311)))),q.low=F.low,t&&(q.high=q.high.or(Ee.Long.fromString("9223372036854775808")));const V=N.Buffer.alloc(16);return M=0,V[M++]=255&q.low.low,V[M++]=q.low.low>>8&255,V[M++]=q.low.low>>16&255,V[M++]=q.low.low>>24&255,V[M++]=255&q.low.high,V[M++]=q.low.high>>8&255,V[M++]=q.low.high>>16&255,V[M++]=q.low.high>>24&255,V[M++]=255&q.high.low,V[M++]=q.high.low>>8&255,V[M++]=q.high.low>>16&255,V[M++]=q.high.low>>24&255,V[M++]=255&q.high.high,V[M++]=q.high.high>>8&255,V[M++]=q.high.high>>16&255,V[M++]=q.high.high>>24&255,new E(V)}toString(){let e,t=0;const n=new Array(36);for(let a=0;a<n.length;a++)n[a]=0;let r,i,o,s=0,u=!1,c={parts:[0,0,0,0]};const f=[];s=0;const l=this.bytes,h=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24,g=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24,_=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24,b=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24;s=0;const w={low:new Ee.Long(h,g),high:new Ee.Long(_,b)};w.high.lessThan(Ee.Long.ZERO)&&f.push("-");const E=b>>26&p;if(E>>3===3){if(E===y)return f.join("")+"Infinity";if(E===v)return"NaN";e=b>>15&d,r=8+(b>>14&1)}else r=b>>14&7,e=b>>17&d;const O=e-a;if(c.parts[0]=(16383&b)+((15&r)<<14),c.parts[1]=_,c.parts[2]=g,c.parts[3]=h,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])u=!0;else for(o=3;o>=0;o--){let e=0;const t=m(c);if(c=t.quotient,e=t.rem.low,e)for(i=8;i>=0;i--)n[9*o+i]=e%10,e=Math.floor(e/10)}if(u)t=1,n[s]=0;else{t=36;while(!n[s])t-=1,s+=1}const S=t-1+O;if(S>=34||S<=-7||O>0){if(t>34)return f.push("0"),O>0?f.push("E+"+O):O<0&&f.push("E"+O),f.join("");f.push(""+n[s++]),t-=1,t&&f.push(".");for(let e=0;e<t;e++)f.push(""+n[s++]);f.push("E"),S>0?f.push("+"+S):f.push(""+S)}else if(O>=0)for(let a=0;a<t;a++)f.push(""+n[s++]);else{let e=t+O;if(e>0)for(let t=0;t<e;t++)f.push(""+n[s++]);else f.push("0");f.push(".");while(e++<0)f.push("0");for(let r=0;r<t-Math.max(e-1,0);r++)f.push(""+n[s++])}return f.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return E.fromString(e.$numberDecimal)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Decimal128("${this.toString()}")`}}t.Decimal128=E,Object.defineProperty(E.prototype,"_bsontype",{value:"Decimal128"})}));o(Oe);Oe.Decimal128;var Se=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;class n{constructor(e){e instanceof Number&&(e=e.valueOf()),this.value=+e}valueOf(){return this.value}toJSON(){return this.value}toExtendedJSON(e){if(e&&(e.legacy||e.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};let t;return Number.isInteger(this.value)?(t=this.value.toFixed(1),t.length>=13&&(t=this.value.toExponential(13).toUpperCase())):t=this.value.toString(),{$numberDouble:t}}static fromExtendedJSON(e,t){const r=parseFloat(e.$numberDouble);return t&&t.relaxed?r:new n(r)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){const e=this.toExtendedJSON();return`Double(${e.$numberDouble})`}}t.Double=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Double"})}));o(Se);Se.Double;var Te=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;class n{constructor(e){e instanceof Number&&(e=e.valueOf()),this.value=+e}valueOf(){return this.value}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,t){return t&&t.relaxed?parseInt(e.$numberInt,10):new n(e.$numberInt)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Int32(${this.valueOf()})`}}t.Int32=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Int32"})}));o(Te);Te.Int32;var Ae=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;class n{toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new n}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"MaxKey()"}}t.MaxKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MaxKey"})}));o(Ae);Ae.MaxKey;var Ie=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;class n{toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new n}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"MinKey()"}}t.MinKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MinKey"})}));o(Ie);Ie.MinKey;var Ne=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;const n=ve.randomBytes(5),r=new RegExp("^[0-9a-fA-F]{24}$"),i=[];for(let c=0;c<256;c++)i[c]=(c<=15?"0":"")+c.toString(16);const o=[];let s=0;while(s<10)o[48+s]=s++;while(s<16)o[55+s]=o[87+s]=s++;const a=Symbol("id");class u{constructor(e){if(e instanceof u&&(this[a]=e.id,this.__id=e.__id),"object"===typeof e&&e&&"id"in e&&("toHexString"in e&&"function"===typeof e.toHexString?this[a]=N.Buffer.from(e.toHexString(),"hex"):this[a]="string"===typeof e.id?N.Buffer.from(e.id):e.id),null!=e&&"number"!==typeof e||(this[a]=u.generate("number"===typeof e?e:void 0),u.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(e)&&12===e.byteLength&&(this[a]=ge.ensureBuffer(e)),"string"===typeof e)if(12===e.length){const t=N.Buffer.from(e);12===t.byteLength&&(this[a]=t)}else{if(24!==e.length||!r.test(e))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[a]=N.Buffer.from(e,"hex")}u.cacheHexString&&(this.__id=this.id.toString("hex"))}get id(){return this[a]}set id(e){this[a]=e,u.cacheHexString&&(this.__id=e.toString("hex"))}get generationTime(){return this.id.readInt32BE(0)}set generationTime(e){this.id.writeUInt32BE(e,0)}toHexString(){if(u.cacheHexString&&this.__id)return this.__id;const e=this.id.toString("hex");return u.cacheHexString&&!this.__id&&(this.__id=e),e}static getInc(){return u.index=(u.index+1)%16777215}static generate(e){"number"!==typeof e&&(e=~~(Date.now()/1e3));const t=u.getInc(),r=N.Buffer.alloc(12);return r.writeUInt32BE(e,0),r[4]=n[0],r[5]=n[1],r[6]=n[2],r[7]=n[3],r[8]=n[4],r[11]=255&t,r[10]=t>>8&255,r[9]=t>>16&255,r}toString(e){return e?this.id.toString(e):this.toHexString()}toJSON(){return this.toHexString()}equals(e){return void 0!==e&&null!==e&&(e instanceof u?this.toString()===e.toString():"string"===typeof e&&u.isValid(e)&&12===e.length&&this.id instanceof N.Buffer?e===this.id.toString("binary"):"string"===typeof e&&u.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"===typeof e&&u.isValid(e)&&12===e.length?N.Buffer.from(e).equals(this.id):"object"===typeof e&&"toHexString"in e&&"function"===typeof e.toHexString&&e.toHexString()===this.toHexString())}getTimestamp(){const e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}static createPk(){return new u}static createFromTime(e){const t=N.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return t.writeUInt32BE(e,0),new u(t)}static createFromHexString(e){if("undefined"===typeof e||null!=e&&24!==e.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new u(N.Buffer.from(e,"hex"))}static isValid(e){return null!=e&&("number"===typeof e||("string"===typeof e?12===e.length||24===e.length&&r.test(e):e instanceof u||(e instanceof N.Buffer&&12===e.length||"object"===typeof e&&"toHexString"in e&&"function"===typeof e.toHexString&&("string"===typeof e.id?12===e.id.length:24===e.toHexString().length&&r.test(e.id.toString("hex"))))))}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new u(e.$oid)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`ObjectId("${this.toHexString()}")`}}t.ObjectId=u,u.index=~~(16777215*Math.random()),Object.defineProperty(u.prototype,"generate",{value:ve.deprecate(e=>u.generate(e),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(u.prototype,"getInc",{value:ve.deprecate(()=>u.getInc(),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u.prototype,"get_inc",{value:ve.deprecate(()=>u.getInc(),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u,"get_inc",{value:ve.deprecate(()=>u.getInc(),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u.prototype,"_bsontype",{value:"ObjectID"})}));o(Ne);Ne.ObjectId;var Ce=s((function(e,t){function n(e){return e.split("").sort().join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;class r{constructor(e,t){this.pattern=e,this.options=null!==t&&void 0!==t?t:"",n(this.options);for(let n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error(`The regular expression option [${this.options[n]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e){if("string"===typeof e.$regex)return new r(e.$regex,r.parseOptions(e.$options));if("BSONRegExp"===e.$regex._bsontype)return e}if("$regularExpression"in e)return new r(e.$regularExpression.pattern,r.parseOptions(e.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(e))}}t.BSONRegExp=r,Object.defineProperty(r.prototype,"_bsontype",{value:"BSONRegExp"})}));o(Ce);Ce.BSONRegExp;var xe=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;class n{constructor(e){this.value=e}valueOf(){return this.value}toString(){return this.value}inspect(){return`BSONSymbol("${this.value}")`}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new n(e.$symbol)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}}t.BSONSymbol=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Symbol"})}));o(xe);xe.BSONSymbol;var Re=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=Ee.Long;class n extends t.LongWithoutOverridesClass{constructor(e,t){Ee.Long.isLong(e)?super(e.low,e.high,!0):super(e,t,!0),Object.defineProperty(this,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1})}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new n(Ee.Long.fromInt(e,!0))}static fromNumber(e){return new n(Ee.Long.fromNumber(e,!0))}static fromBits(e,t){return new n(e,t)}static fromString(e,t){return new n(Ee.Long.fromString(e,!0,t))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(e){return new n(e.$timestamp.i,e.$timestamp.t)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Timestamp(${this.getLowBits().toString()}, ${this.getHighBits().toString()})`}}t.Timestamp=n,n.MAX_VALUE=Ee.Long.MAX_UNSIGNED_VALUE}));o(Re);Re.Timestamp,Re.LongWithoutOverridesClass;var Pe=s((function(e,t){function n(e){return ve.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"===typeof e._bsontype}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=n;const r=2147483647,i=-2147483648,o=0x8000000000000000,s=-0x8000000000000000,a={$oid:Ne.ObjectId,$binary:_e.Binary,$uuid:_e.Binary,$symbol:xe.BSONSymbol,$numberInt:Te.Int32,$numberDecimal:Oe.Decimal128,$numberDouble:Se.Double,$numberLong:Ee.Long,$minKey:Ie.MinKey,$maxKey:Ae.MaxKey,$regex:Ce.BSONRegExp,$regularExpression:Ce.BSONRegExp,$timestamp:Re.Timestamp};function u(e,t={}){if("number"===typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=i&&e<=r)return new Te.Int32(e);if(e>=s&&e<=o)return Ee.Long.fromNumber(e)}return new Se.Double(e)}if(null==e||"object"!==typeof e)return e;if(e.$undefined)return null;const n=Object.keys(e).filter(t=>t.startsWith("$")&&null!=e[t]);for(let r=0;r<n.length;r++){const i=a[n[r]];if(i)return i.fromExtendedJSON(e,t)}if(null!=e.$date){const n=e.$date,r=new Date;return t.legacy?"number"===typeof n?r.setTime(n):"string"===typeof n&&r.setTime(Date.parse(n)):"string"===typeof n?r.setTime(Date.parse(n)):Ee.Long.isLong(n)?r.setTime(n.toNumber()):"number"===typeof n&&t.relaxed&&r.setTime(n),r}if(null!=e.$code){const t=Object.assign({},e);return e.$scope&&(t.$scope=u(e.$scope)),be.Code.fromExtendedJSON(e)}if(null!=e.$ref||null!=e.$dbPointer){const t=e.$ref?e:e.$dbPointer;if(t instanceof we.DBRef)return t;const n=Object.keys(t).filter(e=>e.startsWith("$"));let r=!0;if(n.forEach(e=>{-1===["$ref","$id","$db"].indexOf(e)&&(r=!1)}),r)return we.DBRef.fromExtendedJSON(t)}return e}function c(e,t){return e.map(e=>l(e,t))}function f(e){const t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function l(e,t){if(Array.isArray(e))return c(e,t);if(void 0===e)return null;if(e instanceof Date){const n=e.getTime(),r=n>-1&&n<2534023188e5;return t.legacy?t.relaxed&&r?{$date:e.getTime()}:{$date:f(e)}:t.relaxed&&r?{$date:f(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"===typeof e&&!t.relaxed){if(Math.floor(e)===e){const t=e>=i&&e<=r,n=e>=s&&e<=o;if(t)return{$numberInt:e.toString()};if(n)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){let n=e.flags;if(void 0===n){const t=e.toString().match(/[gimuy]*$/);t&&(n=t[0])}const r=new Ce.BSONRegExp(e.source,n);return r.toExtendedJSON(t)}return null!=e&&"object"===typeof e?p(e,t):e}const h={Binary:e=>new _e.Binary(e.value(),e.sub_type),Code:e=>new be.Code(e.code,e.scope),DBRef:e=>new we.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields),Decimal128:e=>new Oe.Decimal128(e.bytes),Double:e=>new Se.Double(e.value),Int32:e=>new Te.Int32(e.value),Long:e=>Ee.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_),MaxKey:()=>new Ae.MaxKey,MinKey:()=>new Ie.MinKey,ObjectID:e=>new Ne.ObjectId(e),ObjectId:e=>new Ne.ObjectId(e),BSONRegExp:e=>new Ce.BSONRegExp(e.pattern,e.options),Symbol:e=>new xe.BSONSymbol(e.value),Timestamp:e=>Re.Timestamp.fromBits(e.low,e.high)};function p(e,t){if(null==e||"object"!==typeof e)throw new Error("not an object instance");const r=e._bsontype;if("undefined"===typeof r){const n={};for(const r in e)n[r]=l(e[r],t);return n}if(n(e)){let n=e;if("function"!==typeof n.toExtendedJSON){const t=h[e._bsontype];if(!t)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);n=t(n)}return"Code"===r&&n.scope?n=new be.Code(n.code,l(n.scope,t)):"DBRef"===r&&n.oid&&(n=new we.DBRef(n.collection,l(n.oid,t),n.db,n.fields)),n.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+typeof r)}(function(e){function t(e,t){const n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"===typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"===typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(e,t)=>u(t,n))}function n(e,t,n,r){null!=n&&"object"===typeof n&&(r=n,n=0),null==t||"object"!==typeof t||Array.isArray(t)||(r=t,t=void 0,n=0),r=Object.assign({},{relaxed:!0,legacy:!1},r);const i=l(e,r);return JSON.stringify(i,t,n)}function r(e,t){return t=t||{},JSON.parse(n(e,t))}function i(e,n){return n=n||{},t(JSON.stringify(e),n)}e.parse=t,e.stringify=n,e.serialize=r,e.deserialize=i})(t.EJSON||(t.EJSON={}))}));o(Pe);Pe.EJSON,Pe.isBSONType;var je=s((function(e,t){let n;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=n;const r=function(e){return e&&e.Math==Math&&e};function o(){return r("object"===typeof globalThis&&globalThis)||r("object"===typeof window&&window)||r("object"===typeof self&&self)||r("object"===typeof i&&i)||Function("return this")()}const s=o();Object.prototype.hasOwnProperty.call(s,"Map")?t.Map=n=s.Map:t.Map=n=class{constructor(e=[]){this._keys=[],this._values={};for(let t=0;t<e.length;t++){if(null==e[t])continue;const n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}}clear(){this._keys=[],this._values={}}delete(e){const t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)}entries(){let e=0;return{next:()=>{const t=this._keys[e++];return{value:void 0!==t?[t,this._values[t].v]:void 0,done:void 0===t}}}}forEach(e,t){t=t||this;for(let n=0;n<this._keys.length;n++){const r=this._keys[n];e.call(t,this._values[r].v,r,t)}}get(e){return this._values[e]?this._values[e].v:void 0}has(e){return null!=this._values[e]}keys(){let e=0;return{next:()=>{const t=this._keys[e++];return{value:void 0!==t?t:void 0,done:void 0===t}}}}set(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)}values(){let e=0;return{next:()=>{const t=this._keys[e++];return{value:void 0!==t?this._values[t].v:void 0,done:void 0===t}}}}get size(){return this._keys.length}}}));o(je);je.Map;var ke=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128}));o(ke);ke.BSON_BINARY_SUBTYPE_USER_DEFINED,ke.BSON_BINARY_SUBTYPE_MD5,ke.BSON_BINARY_SUBTYPE_UUID_NEW,ke.BSON_BINARY_SUBTYPE_UUID,ke.BSON_BINARY_SUBTYPE_BYTE_ARRAY,ke.BSON_BINARY_SUBTYPE_FUNCTION,ke.BSON_BINARY_SUBTYPE_DEFAULT,ke.BSON_DATA_MAX_KEY,ke.BSON_DATA_MIN_KEY,ke.BSON_DATA_DECIMAL128,ke.BSON_DATA_LONG,ke.BSON_DATA_TIMESTAMP,ke.BSON_DATA_INT,ke.BSON_DATA_CODE_W_SCOPE,ke.BSON_DATA_SYMBOL,ke.BSON_DATA_CODE,ke.BSON_DATA_DBPOINTER,ke.BSON_DATA_REGEXP,ke.BSON_DATA_NULL,ke.BSON_DATA_DATE,ke.BSON_DATA_BOOLEAN,ke.BSON_DATA_OID,ke.BSON_DATA_UNDEFINED,ke.BSON_DATA_BINARY,ke.BSON_DATA_ARRAY,ke.BSON_DATA_OBJECT,ke.BSON_DATA_STRING,ke.BSON_DATA_NUMBER,ke.JS_INT_MIN,ke.JS_INT_MAX,ke.BSON_INT64_MIN,ke.BSON_INT64_MAX,ke.BSON_INT32_MIN,ke.BSON_INT32_MAX;var Le=s((function(e,t){function n(e,t,n){let i=5;if(Array.isArray(e))for(let o=0;o<e.length;o++)i+=r(o.toString(),e[o],t,!0,n);else{e.toBSON&&(e=e.toBSON());for(const o in e)i+=r(o,e[o],t,!1,n)}return i}function r(e,t,r=!1,i=!1,o=!1){switch(t&&t.toBSON&&(t=t.toBSON()),typeof t){case"string":return 1+N.Buffer.byteLength(e,"utf8")+1+4+N.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=ke.JS_INT_MIN&&t<=ke.JS_INT_MAX&&t>=ke.BSON_INT32_MIN&&t<=ke.BSON_INT32_MAX?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return i||!o?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t["_bsontype"]||"MaxKey"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t["_bsontype"]||"ObjectID"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||ve.isDate(t))return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t["_bsontype"]||"Double"===t["_bsontype"]||"Timestamp"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t["_bsontype"])return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+N.Buffer.byteLength(t.code.toString(),"utf8")+1+n(t.scope,r,o):(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+N.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t["_bsontype"])return t.sub_type===_e.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+N.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t["_bsontype"]){const i=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(i["$db"]=t.db),(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+n(i,r,o)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+N.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t["_bsontype"]?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+N.Buffer.byteLength(t.pattern,"utf8")+1+N.Buffer.byteLength(t.options,"utf8")+1:(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+n(t,r,o)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+N.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+N.Buffer.byteLength(ve.normalizedFunctionString(t),"utf8")+1+n(t.scope,r,o);if(r)return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+N.Buffer.byteLength(ve.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=n}));o(Le);Le.calculateObjectSize;var Me=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0;const n=128,r=192,i=224,o=240,s=248,a=192,u=224,c=240,f=128;function l(e,t,l){let h=0;for(let p=t;p<l;p+=1){const t=e[p];if(h){if((t&r)!==f)return!1;h-=1}else if(t&n)if((t&i)===a)h=1;else if((t&o)===u)h=2;else{if((t&s)!==c)return!1;h=3}}return!h}t.validateUtf8=l}));o(Me);Me.validateUtf8;var De=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;const n=Ee.Long.fromNumber(ke.JS_INT_MAX),r=Ee.Long.fromNumber(ke.JS_INT_MIN),i={};function o(e,t,n){t=null==t?{}:t;const r=t&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is "+i);if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error(`buffer length ${e.length} must be >= bson size ${i}`);if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error(`buffer length ${e.length} must === bson size ${i}`);if(i+r>e.byteLength)throw new Error(`(bson size ${i} + options.index ${r} must be <= buffer length ${e.byteLength})`);if(0!==e[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return s(e,r,t,n)}function s(e,t,o,u=!1){const c=null!=o["evalFunctions"]&&o["evalFunctions"],f=null!=o["cacheFunctions"]&&o["cacheFunctions"],l=null==o["fieldsAsRaw"]?null:o["fieldsAsRaw"],h=null!=o["raw"]&&o["raw"],p="boolean"===typeof o["bsonRegExp"]&&o["bsonRegExp"],d=null!=o["promoteBuffers"]&&o["promoteBuffers"],y=null==o["promoteLongs"]||o["promoteLongs"],v=null==o["promoteValues"]||o["promoteValues"],g=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");const m=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(m<5||m>e.length)throw new Error("corrupt bson message");const _=u?[]:{};let b=0;const w=!1;while(!w){const g=e[t++];if(0===g)break;let m=t;while(0!==e[m]&&m<e.length)m++;if(m>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");const w=u?b++:e.toString("utf8",t,m);if(t=m+1,g===ke.BSON_DATA_STRING){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new Error("bad string length in bson");if(!Me.validateUtf8(e,t,t+n-1))throw new Error("Invalid UTF-8 string in BSON document");const r=e.toString("utf8",t,t+n-1);_[w]=r,t+=n}else if(g===ke.BSON_DATA_OID){const n=N.Buffer.alloc(12);e.copy(n,0,t,t+12),_[w]=new Ne.ObjectId(n),t+=12}else if(g===ke.BSON_DATA_INT&&!1===v)_[w]=new Te.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(g===ke.BSON_DATA_INT)_[w]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(g===ke.BSON_DATA_NUMBER&&!1===v)_[w]=new Se.Double(e.readDoubleLE(t)),t+=8;else if(g===ke.BSON_DATA_NUMBER)_[w]=e.readDoubleLE(t),t+=8;else if(g===ke.BSON_DATA_DATE){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,r=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;_[w]=new Date(new Ee.Long(n,r).toNumber())}else if(g===ke.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");_[w]=1===e[t++]}else if(g===ke.BSON_DATA_OBJECT){const n=t,r=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(r<=0||r>e.length-t)throw new Error("bad embedded document length in bson");_[w]=h?e.slice(t,t+r):s(e,n,o,!1),t+=r}else if(g===ke.BSON_DATA_ARRAY){const n=t,r=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;let i=o;const a=t+r;if(l&&l[w]){i={};for(const e in o)i[e]=o[e];i["raw"]=!0}if(_[w]=s(e,n,i,!0),t+=r,0!==e[t-1])throw new Error("invalid array terminator byte");if(t!==a)throw new Error("corrupted array bson")}else if(g===ke.BSON_DATA_UNDEFINED)_[w]=void 0;else if(g===ke.BSON_DATA_NULL)_[w]=null;else if(g===ke.BSON_DATA_LONG){const i=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,o=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,s=new Ee.Long(i,o);_[w]=y&&!0===v&&s.lessThanOrEqual(n)&&s.greaterThanOrEqual(r)?s.toNumber():s}else if(g===ke.BSON_DATA_DECIMAL128){const n=N.Buffer.alloc(16);e.copy(n,0,t,t+16),t+=16;const r=new Oe.Decimal128(n);"toObject"in r&&"function"===typeof r.toObject?_[w]=r.toObject():_[w]=r}else if(g===ke.BSON_DATA_BINARY){let n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;const r=n,i=e[t++];if(n<0)throw new Error("Negative binary type element size found");if(n>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e["slice"]){if(i===_e.Binary.SUBTYPE_BYTE_ARRAY){if(n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,n<0)throw new Error("Negative binary type element size found for subtype 0x02");if(n>r-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(n<r-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}_[w]=d&&v?e.slice(t,t+n):new _e.Binary(e.slice(t,t+n),i)}else{const o=N.Buffer.alloc(n);if(i===_e.Binary.SUBTYPE_BYTE_ARRAY){if(n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,n<0)throw new Error("Negative binary type element size found for subtype 0x02");if(n>r-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(n<r-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(m=0;m<n;m++)o[m]=e[t+m];_[w]=d&&v?o:new _e.Binary(o,i)}t+=n}else if(g===ke.BSON_DATA_REGEXP&&!1===p){m=t;while(0!==e[m]&&m<e.length)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");const n=e.toString("utf8",t,m);t=m+1,m=t;while(0!==e[m]&&m<e.length)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");const r=e.toString("utf8",t,m);t=m+1;const i=new Array(r.length);for(m=0;m<r.length;m++)switch(r[m]){case"m":i[m]="m";break;case"s":i[m]="g";break;case"i":i[m]="i";break}_[w]=new RegExp(n,i.join(""))}else if(g===ke.BSON_DATA_REGEXP&&!0===p){m=t;while(0!==e[m]&&m<e.length)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");const n=e.toString("utf8",t,m);t=m+1,m=t;while(0!==e[m]&&m<e.length)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");const r=e.toString("utf8",t,m);t=m+1,_[w]=new Ce.BSONRegExp(n,r)}else if(g===ke.BSON_DATA_SYMBOL){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new Error("bad string length in bson");const r=e.toString("utf8",t,t+n-1);_[w]=v?r:new xe.BSONSymbol(r),t+=n}else if(g===ke.BSON_DATA_TIMESTAMP){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,r=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;_[w]=new Re.Timestamp(n,r)}else if(g===ke.BSON_DATA_MIN_KEY)_[w]=new Ie.MinKey;else if(g===ke.BSON_DATA_MAX_KEY)_[w]=new Ae.MaxKey;else if(g===ke.BSON_DATA_CODE){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new Error("bad string length in bson");const r=e.toString("utf8",t,t+n-1);_[w]=c?f?a(r,i,_):a(r):new be.Code(r),t+=n}else if(g===ke.BSON_DATA_CODE_W_SCOPE){const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<13)throw new Error("code_w_scope total size shorter minimum expected length");const r=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(r<=0||r>e.length-t||0!==e[t+r-1])throw new Error("bad string length in bson");const u=e.toString("utf8",t,t+r-1);t+=r;const l=t,h=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,p=s(e,l,o,!1);if(t+=h,n<8+h+r)throw new Error("code_w_scope total size is too short, truncating scope");if(n>8+h+r)throw new Error("code_w_scope total size is too long, clips outer document");c?(_[w]=f?a(u,i,_):a(u),_[w].scope=p):_[w]=new be.Code(u,p)}else{if(g!==ke.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+g.toString(16)+' for fieldname "'+w+'"');{const n=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(n<=0||n>e.length-t||0!==e[t+n-1])throw new Error("bad string length in bson");if(!Me.validateUtf8(e,t,t+n-1))throw new Error("Invalid UTF-8 string in BSON document");const r=e.toString("utf8",t,t+n-1);t+=n;const i=N.Buffer.alloc(12);e.copy(i,0,t,t+12);const o=new Ne.ObjectId(i);t+=12,_[w]=new we.DBRef(r,o)}}}if(m!==t-g){if(u)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}const E=Object.keys(_).filter(e=>e.startsWith("$"));let O=!0;if(E.forEach(e=>{-1===["$ref","$id","$db"].indexOf(e)&&(O=!1)}),!O)return _;if(we.isDBRefLike(_)){const e=Object.assign({},_);return delete e.$ref,delete e.$id,delete e.$db,new we.DBRef(_.$ref,_.$id,_.$db,e)}return _}function a(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}t.deserialize=o}));o(De);De.deserialize;var Be=s((function(e,t){function n(e,t,n,r,i){let o,s;const a="big"===n,u=8*i-r-1,c=(1<<u)-1,f=c>>1;let l=-7,h=a?0:i-1;const p=a?1:-1;let d=e[t+h];for(h+=p,o=d&(1<<-l)-1,d>>=-l,l+=u;l>0;o=256*o+e[t+h],h+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=p,l-=8);if(0===o)o=1-f;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=f}return(d?-1:1)*s*Math.pow(2,o-r)}function r(e,t,n,r,i,o){let s,a,u;const c="big"===r;let f=8*o-i-1;const l=(1<<f)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;let d=c?o-1:0;const y=c?-1:1,v=t<0||0===t&&1/t<0?1:0;t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+h>=1?p/u:p*Math.pow(2,1-h),t*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0)),isNaN(t)&&(a=0);while(i>=8)e[n+d]=255&a,d+=y,a/=256,i-=8;s=s<<i|a,isNaN(t)&&(s+=8),f+=i;while(f>0)e[n+d]=255&s,d+=y,s/=256,f-=8;e[n+d-y]|=128*v}Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=n,t.writeIEEE754=r}));o(Be);Be.writeIEEE754,Be.readIEEE754;var Ue=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;const n=/\x00/,r=new Set(["$db","$ref","$id","$clusterTime"]);function i(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function o(e,t,n,r,i){e[r++]=ke.BSON_DATA_STRING;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+o+1,e[r-1]=0;const s=e.write(n,r+4,void 0,"utf8");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function s(e,t,n,r,i){if(Number.isInteger(n)&&n>=ke.BSON_INT32_MIN&&n<=ke.BSON_INT32_MAX){e[r++]=ke.BSON_DATA_INT;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255}else{e[r++]=ke.BSON_DATA_NUMBER;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0,Be.writeIEEE754(e,n,r,"little",52,8),r+=8}return r}function a(e,t,n,r,i){e[r++]=ke.BSON_DATA_NULL;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,r}function u(e,t,n,r,i){e[r++]=ke.BSON_DATA_BOOLEAN;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,e[r++]=n?1:0,r}function c(e,t,n,r,i){e[r++]=ke.BSON_DATA_DATE;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;const s=Ee.Long.fromNumber(n.getTime()),a=s.getLowBits(),u=s.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&u,e[r++]=u>>8&255,e[r++]=u>>16&255,e[r++]=u>>24&255,r}function f(e,t,r,i,o){e[i++]=ke.BSON_DATA_REGEXP;const s=o?e.write(t,i,void 0,"ascii"):e.write(t,i,void 0,"utf8");if(i+=s,e[i++]=0,r.source&&null!=r.source.match(n))throw Error("value "+r.source+" must not contain null bytes");return i+=e.write(r.source,i,void 0,"utf8"),e[i++]=0,r.ignoreCase&&(e[i++]=105),r.global&&(e[i++]=115),r.multiline&&(e[i++]=109),e[i++]=0,i}function l(e,t,r,i,o){e[i++]=ke.BSON_DATA_REGEXP;const s=o?e.write(t,i,void 0,"ascii"):e.write(t,i,void 0,"utf8");if(i+=s,e[i++]=0,null!=r.pattern.match(n))throw Error("pattern "+r.pattern+" must not contain null bytes");return i+=e.write(r.pattern,i,void 0,"utf8"),e[i++]=0,i+=e.write(r.options.split("").sort().join(""),i,void 0,"utf8"),e[i++]=0,i}function h(e,t,n,r,i){null===n?e[r++]=ke.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=ke.BSON_DATA_MIN_KEY:e[r++]=ke.BSON_DATA_MAX_KEY;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,r}function p(e,t,n,r,i){e[r++]=ke.BSON_DATA_OID;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");if(r+=o,e[r++]=0,"string"===typeof n.id)e.write(n.id,r,void 0,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function d(e,t,n,r,i){e[r++]=ke.BSON_DATA_BINARY;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;const s=n.length;return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=ke.BSON_BINARY_SUBTYPE_DEFAULT,e.set(ge.ensureBuffer(n),r),r+=s,r}function y(e,t,n,r,i=!1,o=0,s=!1,a=!0,u=!1,c=[]){for(let h=0;h<c.length;h++)if(c[h]===n)throw new Error("cyclic dependency detected");c.push(n),e[r++]=Array.isArray(n)?ke.BSON_DATA_ARRAY:ke.BSON_DATA_OBJECT;const f=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=f,e[r++]=0;const l=T(e,n,i,r,o+1,s,a,c);return c.pop(),l}function v(e,t,n,r,i){e[r++]=ke.BSON_DATA_DECIMAL128;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function g(e,t,n,r,i){e[r++]="Long"===n._bsontype?ke.BSON_DATA_LONG:ke.BSON_DATA_TIMESTAMP;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;const s=n.getLowBits(),a=n.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function m(e,t,n,r,i){n=n.valueOf(),e[r++]=ke.BSON_DATA_INT;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function _(e,t,n,r,i){e[r++]=ke.BSON_DATA_NUMBER;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,Be.writeIEEE754(e,n.value,r,"little",52,8),r+=8,r}function b(e,t,n,r,i=!1,o=0,s){e[r++]=ke.BSON_DATA_CODE;const a=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=a,e[r++]=0;const u=ve.normalizedFunctionString(n),c=e.write(u,r+4,void 0,"utf8")+1;return e[r]=255&c,e[r+1]=c>>8&255,e[r+2]=c>>16&255,e[r+3]=c>>24&255,r=r+4+c-1,e[r++]=0,r}function w(e,t,n,r,i=!1,o=0,s=!1,a=!0,u=!1){if(n.scope&&"object"===typeof n.scope){e[r++]=ke.BSON_DATA_CODE_W_SCOPE;const c=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=c,e[r++]=0;let f=r;const l="string"===typeof n.code?n.code:n.code.toString();r+=4;const h=e.write(l,r+4,void 0,"utf8")+1;e[r]=255&h,e[r+1]=h>>8&255,e[r+2]=h>>16&255,e[r+3]=h>>24&255,e[r+4+h-1]=0,r=r+h+4;const p=T(e,n.scope,i,r,o+1,s,a);r=p-1;const d=p-f;e[f++]=255&d,e[f++]=d>>8&255,e[f++]=d>>16&255,e[f++]=d>>24&255,e[r++]=0}else{e[r++]=ke.BSON_DATA_CODE;const i=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=i,e[r++]=0;const o=n.code.toString(),s=e.write(o,r+4,void 0,"utf8")+1;e[r]=255&s,e[r+1]=s>>8&255,e[r+2]=s>>16&255,e[r+3]=s>>24&255,r=r+4+s-1,e[r++]=0}return r}function E(e,t,n,r,i){e[r++]=ke.BSON_DATA_BINARY;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;const s=n.value(!0);let a=n.position;return n.sub_type===_e.Binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===_e.Binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),e.set(s,r),r+=n.position,r}function O(e,t,n,r,i){e[r++]=ke.BSON_DATA_SYMBOL;const o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;const s=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=255&s,e[r+1]=s>>8&255,e[r+2]=s>>16&255,e[r+3]=s>>24&255,r=r+4+s-1,e[r++]=0,r}function S(e,t,n,r,i,o,s){e[r++]=ke.BSON_DATA_OBJECT;const a=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=a,e[r++]=0;let u=r,c={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(c.$db=n.db),c=Object.assign(c,n.fields);const f=T(e,c,!1,r,i+1,o),l=f-u;return e[u++]=255&l,e[u++]=l>>8&255,e[u++]=l>>16&255,e[u++]=l>>24&255,f}function T(e,t,T=!1,A=0,I=0,N=!1,C=!0,x=[]){A=A||0,x=x||[],x.push(t);let R=A+4;if(Array.isArray(t))for(let n=0;n<t.length;n++){const r=""+n;let A=t[n];if(A&&A.toBSON){if("function"!==typeof A.toBSON)throw new TypeError("toBSON is not a function");A=A.toBSON()}if("string"===typeof A)R=o(e,r,A,R,!0);else if("number"===typeof A)R=s(e,r,A,R,!0);else{if("bigint"===typeof A)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===typeof A)R=u(e,r,A,R,!0);else if(A instanceof Date||ve.isDate(A))R=c(e,r,A,R,!0);else if(void 0===A)R=a(e,r,A,R,!0);else if(null===A)R=a(e,r,A,R,!0);else if("ObjectId"===A["_bsontype"]||"ObjectID"===A["_bsontype"])R=p(e,r,A,R,!0);else if(ve.isBuffer(A)||ve.isUint8Array(A))R=d(e,r,A,R,!0);else if(A instanceof RegExp||i(A))R=f(e,r,A,R,!0);else if("object"===typeof A&&null==A["_bsontype"])R=y(e,r,A,R,T,I,N,C,!0,x);else if("object"===typeof A&&Pe.isBSONType(A)&&"Decimal128"===A._bsontype)R=v(e,r,A,R,!0);else if("Long"===A["_bsontype"]||"Timestamp"===A["_bsontype"])R=g(e,r,A,R,!0);else if("Double"===A["_bsontype"])R=_(e,r,A,R,!0);else if("function"===typeof A&&N)R=b(e,r,A,R,T,I,!0);else if("Code"===A["_bsontype"])R=w(e,r,A,R,T,I,N,C,!0);else if("Binary"===A["_bsontype"])R=E(e,r,A,R,!0);else if("Symbol"===A["_bsontype"])R=O(e,r,A,R,!0);else if("DBRef"===A["_bsontype"])R=S(e,r,A,R,I,N,!0);else if("BSONRegExp"===A["_bsontype"])R=l(e,r,A,R,!0);else if("Int32"===A["_bsontype"])R=m(e,r,A,R,!0);else if("MinKey"===A["_bsontype"]||"MaxKey"===A["_bsontype"])R=h(e,r,A,R,!0);else if("undefined"!==typeof A["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+A["_bsontype"])}}else if(t instanceof je.Map){const A=t.entries();let P=!1;while(!P){const t=A.next();if(P=!!t.done,P)continue;const j=t.value[0],k=t.value[1],L=typeof k;if("string"===typeof j&&!r.has(j)){if(null!=j.match(n))throw Error("key "+j+" must not contain null bytes");if(T){if("$"===j[0])throw Error("key "+j+" must not start with '$'");if(~j.indexOf("."))throw Error("key "+j+" must not contain '.'")}}if("string"===L)R=o(e,j,k,R);else if("number"===L)R=s(e,j,k,R);else{if("bigint"===L||ve.isBigInt64Array(k)||ve.isBigUInt64Array(k))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===L)R=u(e,j,k,R);else if(k instanceof Date||ve.isDate(k))R=c(e,j,k,R);else if(null===k||void 0===k&&!1===C)R=a(e,j,k,R);else if("ObjectId"===k["_bsontype"]||"ObjectID"===k["_bsontype"])R=p(e,j,k,R);else if(ve.isBuffer(k)||ve.isUint8Array(k))R=d(e,j,k,R);else if(k instanceof RegExp||i(k))R=f(e,j,k,R);else if("object"===L&&null==k["_bsontype"])R=y(e,j,k,R,T,I,N,C,!1,x);else if("object"===L&&"Decimal128"===k["_bsontype"])R=v(e,j,k,R);else if("Long"===k["_bsontype"]||"Timestamp"===k["_bsontype"])R=g(e,j,k,R);else if("Double"===k["_bsontype"])R=_(e,j,k,R);else if("Code"===k["_bsontype"])R=w(e,j,k,R,T,I,N,C);else if("function"===typeof k&&N)R=b(e,j,k,R,T,I,N);else if("Binary"===k["_bsontype"])R=E(e,j,k,R);else if("Symbol"===k["_bsontype"])R=O(e,j,k,R);else if("DBRef"===k["_bsontype"])R=S(e,j,k,R,I,N);else if("BSONRegExp"===k["_bsontype"])R=l(e,j,k,R);else if("Int32"===k["_bsontype"])R=m(e,j,k,R);else if("MinKey"===k["_bsontype"]||"MaxKey"===k["_bsontype"])R=h(e,j,k,R);else if("undefined"!==typeof k["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+k["_bsontype"])}}}else{if(t.toBSON){if("function"!==typeof t.toBSON)throw new TypeError("toBSON is not a function");if(t=t.toBSON(),null!=t&&"object"!==typeof t)throw new TypeError("toBSON function did not return an object")}for(const A in t){let P=t[A];if(P&&P.toBSON){if("function"!==typeof P.toBSON)throw new TypeError("toBSON is not a function");P=P.toBSON()}const j=typeof P;if("string"===typeof A&&!r.has(A)){if(null!=A.match(n))throw Error("key "+A+" must not contain null bytes");if(T){if("$"===A[0])throw Error("key "+A+" must not start with '$'");if(~A.indexOf("."))throw Error("key "+A+" must not contain '.'")}}if("string"===j)R=o(e,A,P,R);else if("number"===j)R=s(e,A,P,R);else{if("bigint"===j)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)R=u(e,A,P,R);else if(P instanceof Date||ve.isDate(P))R=c(e,A,P,R);else if(void 0===P)!1===C&&(R=a(e,A,P,R));else if(null===P)R=a(e,A,P,R);else if("ObjectId"===P["_bsontype"]||"ObjectID"===P["_bsontype"])R=p(e,A,P,R);else if(ve.isBuffer(P)||ve.isUint8Array(P))R=d(e,A,P,R);else if(P instanceof RegExp||i(P))R=f(e,A,P,R);else if("object"===j&&null==P["_bsontype"])R=y(e,A,P,R,T,I,N,C,!1,x);else if("object"===j&&"Decimal128"===P["_bsontype"])R=v(e,A,P,R);else if("Long"===P["_bsontype"]||"Timestamp"===P["_bsontype"])R=g(e,A,P,R);else if("Double"===P["_bsontype"])R=_(e,A,P,R);else if("Code"===P["_bsontype"])R=w(e,A,P,R,T,I,N,C);else if("function"===typeof P&&N)R=b(e,A,P,R,T,I,N);else if("Binary"===P["_bsontype"])R=E(e,A,P,R);else if("Symbol"===P["_bsontype"])R=O(e,A,P,R);else if("DBRef"===P["_bsontype"])R=S(e,A,P,R,I,N);else if("BSONRegExp"===P["_bsontype"])R=l(e,A,P,R);else if("Int32"===P["_bsontype"])R=m(e,A,P,R);else if("MinKey"===P["_bsontype"]||"MaxKey"===P["_bsontype"])R=h(e,A,P,R);else if("undefined"!==typeof P["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+P["_bsontype"])}}}x.pop(),e[R++]=0;const P=R-A;return e[A++]=255&P,e[A++]=P>>8&255,e[A++]=P>>16&255,e[A++]=P>>24&255,R}t.serializeInto=T}));o(Ue);Ue.serializeInto;var Fe=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return _e.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return be.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return we.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return Oe.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return Se.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return Te.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return Ee.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return je.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return Ae.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return Ie.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return Ne.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return Ne.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return Ce.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return xe.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return Re.Timestamp}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return ke.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return ke.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return ke.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return ke.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return ke.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return ke.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return ke.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return ke.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return ke.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return ke.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return ke.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return ke.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return ke.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return ke.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return ke.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return ke.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return ke.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return ke.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return ke.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return ke.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return ke.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return ke.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return ke.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return ke.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return ke.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return ke.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return ke.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return ke.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return ke.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return ke.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return ke.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return ke.BSON_INT64_MIN}});var n=Pe;Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return n.EJSON}});var r=Re;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return r.LongWithoutOverridesClass}});const i=17825792;let o=N.Buffer.alloc(i);function s(e){o.length<e&&(o=N.Buffer.alloc(e))}function a(e,t={}){const n="boolean"===typeof t.checkKeys&&t.checkKeys,r="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,s="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined,a="number"===typeof t.minInternalBufferSize?t.minInternalBufferSize:i;o.length<a&&(o=N.Buffer.alloc(a));const u=Ue.serializeInto(o,e,n,0,0,r,s,[]),c=N.Buffer.alloc(u);return o.copy(c,0,0,c.length),c}function u(e,t,n={}){const r="boolean"===typeof n.checkKeys&&n.checkKeys,i="boolean"===typeof n.serializeFunctions&&n.serializeFunctions,s="boolean"!==typeof n.ignoreUndefined||n.ignoreUndefined,a="number"===typeof n.index?n.index:0,u=Ue.serializeInto(o,e,r,0,0,i,s);return o.copy(t,a,0,u),a+u-1}function c(e,t={}){return De.deserialize(ge.ensureBuffer(e),t)}function f(e,t={}){t=t||{};const n="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,r="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined;return Le.calculateObjectSize(e,n,r)}function l(e,t,n,r,i,o){const s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},o),a=ge.ensureBuffer(e);let u=t;for(let c=0;c<n;c++){const e=a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24;s.index=u,r[i+c]=De.deserialize(a,s),u+=e}return u}t.setInternalBufferSize=s,t.serialize=a,t.serializeWithBufferAndIndex=u,t.deserialize=c,t.calculateObjectSize=f,t.deserializeStream=l;const h={Binary:_e.Binary,Code:be.Code,DBRef:we.DBRef,Decimal128:Oe.Decimal128,Double:Se.Double,Int32:Te.Int32,Long:Ee.Long,Map:je.Map,MaxKey:Ae.MaxKey,MinKey:Ie.MinKey,ObjectId:Ne.ObjectId,ObjectID:Ne.ObjectId,BSONRegExp:Ce.BSONRegExp,BSONSymbol:xe.BSONSymbol,Timestamp:Re.Timestamp,EJSON:Pe.EJSON,setInternalBufferSize:s,serialize:a,serializeWithBufferAndIndex:u,deserialize:c,calculateObjectSize:f,deserializeStream:l};t.default=h})),qe=(o(Fe),Fe.deserializeStream,Fe.calculateObjectSize,Fe.deserialize,Fe.serializeWithBufferAndIndex,Fe.serialize,Fe.setInternalBufferSize,Fe.ObjectID,Fe.Decimal128,Fe.BSONRegExp,Fe.MaxKey,Fe.MinKey,Fe.Int32,Fe.Double,Fe.Timestamp,Fe.Long,Fe.ObjectId,Fe.Binary,Fe.DBRef,Fe.BSONSymbol,Fe.Map,Fe.Code,Fe.LongWithoutOverridesClass,Fe.EJSON);Fe.BSON_INT64_MIN,Fe.BSON_INT64_MAX,Fe.BSON_INT32_MIN,Fe.BSON_INT32_MAX,Fe.BSON_DATA_UNDEFINED,Fe.BSON_DATA_TIMESTAMP,Fe.BSON_DATA_SYMBOL,Fe.BSON_DATA_STRING,Fe.BSON_DATA_REGEXP,Fe.BSON_DATA_OID,Fe.BSON_DATA_OBJECT,Fe.BSON_DATA_NUMBER,Fe.BSON_DATA_NULL,Fe.BSON_DATA_MIN_KEY,Fe.BSON_DATA_MAX_KEY,Fe.BSON_DATA_LONG,Fe.BSON_DATA_INT,Fe.BSON_DATA_DECIMAL128,Fe.BSON_DATA_DBPOINTER,Fe.BSON_DATA_DATE,Fe.BSON_DATA_CODE_W_SCOPE,Fe.BSON_DATA_CODE,Fe.BSON_DATA_BOOLEAN,Fe.BSON_DATA_BINARY,Fe.BSON_DATA_ARRAY,Fe.BSON_BINARY_SUBTYPE_UUID_NEW,Fe.BSON_BINARY_SUBTYPE_UUID,Fe.BSON_BINARY_SUBTYPE_USER_DEFINED,Fe.BSON_BINARY_SUBTYPE_MD5,Fe.BSON_BINARY_SUBTYPE_FUNCTION,Fe.BSON_BINARY_SUBTYPE_DEFAULT,Fe.BSON_BINARY_SUBTYPE_BYTE_ARRAY}).call(this,n("c8ba"),n("b639").Buffer)},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=u,e}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a079:function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1),i=n[1].split(/ *= */)[1].slice(1,-1);return e[i]=r,e}),{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),s=n("a640"),a=[].join,u=i!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},a34a:function(e,t,n){e.exports=n("96cf")},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),s=n("c430"),a=n("83ab"),u=n("4930"),c=n("fdbf"),f=n("d039"),l=n("5135"),h=n("e8b5"),p=n("861d"),d=n("825a"),y=n("7b0b"),v=n("fc6a"),g=n("c04e"),m=n("5c6c"),_=n("7c73"),b=n("df75"),w=n("241c"),E=n("057f"),O=n("7418"),S=n("06cf"),T=n("9bf2"),A=n("d1e7"),I=n("9112"),N=n("6eeb"),C=n("5692"),x=n("f772"),R=n("d012"),P=n("90e3"),j=n("b622"),k=n("e538"),L=n("746f"),M=n("d44e"),D=n("69f3"),B=n("b727").forEach,U=x("hidden"),F="Symbol",q="prototype",V=j("toPrimitive"),Y=D.set,$=D.getterFor(F),W=Object[q],z=i.Symbol,G=o("JSON","stringify"),H=S.f,K=T.f,J=E.f,Q=A.f,X=C("symbols"),Z=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),ne=C("wks"),re=i.QObject,ie=!re||!re[q]||!re[q].findChild,oe=a&&f((function(){return 7!=_(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=H(W,t);r&&delete W[t],K(e,t,n),r&&e!==W&&K(W,t,r)}:K,se=function(e,t){var n=X[e]=_(z[q]);return Y(n,{type:F,tag:e,description:t}),a||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},ue=function(e,t,n){e===W&&ue(Z,t,n),d(e);var r=g(t,!0);return d(n),l(X,r)?(n.enumerable?(l(e,U)&&e[U][r]&&(e[U][r]=!1),n=_(n,{enumerable:m(0,!1)})):(l(e,U)||K(e,U,m(1,{})),e[U][r]=!0),oe(e,r,n)):K(e,r,n)},ce=function(e,t){d(e);var n=v(t),r=b(n).concat(de(n));return B(r,(function(t){a&&!le.call(n,t)||ue(e,t,n[t])})),e},fe=function(e,t){return void 0===t?_(e):ce(_(e),t)},le=function(e){var t=g(e,!0),n=Q.call(this,t);return!(this===W&&l(X,t)&&!l(Z,t))&&(!(n||!l(this,t)||!l(X,t)||l(this,U)&&this[U][t])||n)},he=function(e,t){var n=v(e),r=g(t,!0);if(n!==W||!l(X,r)||l(Z,r)){var i=H(n,r);return!i||!l(X,r)||l(n,U)&&n[U][r]||(i.enumerable=!0),i}},pe=function(e){var t=J(v(e)),n=[];return B(t,(function(e){l(X,e)||l(R,e)||n.push(e)})),n},de=function(e){var t=e===W,n=J(t?Z:v(e)),r=[];return B(n,(function(e){!l(X,e)||t&&!l(W,e)||r.push(X[e])})),r};if(u||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),n=function(e){this===W&&n.call(Z,e),l(this,U)&&l(this[U],t)&&(this[U][t]=!1),oe(this,t,m(1,e))};return a&&ie&&oe(W,t,{configurable:!0,set:n}),se(t,e)},N(z[q],"toString",(function(){return $(this).tag})),N(z,"withoutSetter",(function(e){return se(P(e),e)})),A.f=le,T.f=ue,S.f=he,w.f=E.f=pe,O.f=de,k.f=function(e){return se(j(e),e)},a&&(K(z[q],"description",{configurable:!0,get:function(){return $(this).description}}),s||N(W,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),B(b(ne),(function(e){L(e)})),r({target:F,stat:!0,forced:!u},{for:function(e){var t=String(e);if(l(ee,t))return ee[t];var n=z(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(l(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!a},{create:fe,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:he}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:pe,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:f((function(){O.f(1)}))},{getOwnPropertySymbols:function(e){return O.f(y(e))}}),G){var ye=!u||f((function(){var e=z();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));r({target:"JSON",stat:!0,forced:ye},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(p(t)||void 0!==e)&&!ae(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,G.apply(null,i)}})}z[q][V]||I(z[q],V,z[q].valueOf),M(z,F),R[U]=!0},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a742:function(e,t,n){"use strict";function r(e){return"[object String]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return e&&e.nodeType===Node.ELEMENT_NODE}t.__esModule=!0,t.isString=r,t.isObject=i,t.isHtmlElement=o;t.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return void 0!==e&&null!==e}},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),a=n("d066"),u=n("4840"),c=n("cdf9"),f=n("6eeb"),l=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:l},{finally:function(e){var t=u(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||f(o.prototype,"finally",a("Promise").prototype["finally"])},a7cc:function(e,t,n){},abc7:function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,o="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,f=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/[\\^$.*+?()[\]{}|]/g,p=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,y="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,g=y||v||Function("return this")();function m(e,t){return null==e?void 0:e[t]}function _(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var b=Array.prototype,w=Function.prototype,E=Object.prototype,O=g["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),T=w.toString,A=E.hasOwnProperty,I=E.toString,N=RegExp("^"+T.call(A).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=g.Symbol,x=b.splice,R=ae(g,"Map"),P=ae(Object,"create"),j=C?C.prototype:void 0,k=j?j.toString:void 0;function L(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function M(){this.__data__=P?P(null):{}}function D(e){return this.has(e)&&delete this.__data__[e]}function B(e){var t=this.__data__;if(P){var n=t[e];return n===r?void 0:n}return A.call(t,e)?t[e]:void 0}function U(e){var t=this.__data__;return P?void 0!==t[e]:A.call(t,e)}function F(e,t){var n=this.__data__;return n[e]=P&&void 0===t?r:t,this}function q(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function V(){this.__data__=[]}function Y(e){var t=this.__data__,n=Z(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():x.call(t,n,1),!0}function $(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]}function W(e){return Z(this.__data__,e)>-1}function z(e,t){var n=this.__data__,r=Z(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function G(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function H(){this.__data__={hash:new L,map:new(R||q),string:new L}}function K(e){return se(this,e)["delete"](e)}function J(e){return se(this,e).get(e)}function Q(e){return se(this,e).has(e)}function X(e,t){return se(this,e).set(e,t),this}function Z(e,t){var n=e.length;while(n--)if(ge(e[n][0],t))return n;return-1}function ee(e,t){t=ue(t,e)?[t]:oe(t);var n=0,r=t.length;while(null!=e&&n<r)e=e[pe(t[n++])];return n&&n==r?e:void 0}function te(e){if(!be(e)||fe(e))return!1;var t=_e(e)||_(e)?N:d;return t.test(de(e))}function ne(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);while(++r<i)o[r]=e[r+t];return o}function re(e){if("string"==typeof e)return e;if(Ee(e))return k?k.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function ie(e,t){t=ue(t,e)?[t]:oe(t),e=le(e,t);var n=pe(ye(t));return!(null!=e&&A.call(e,n))||delete e[n]}function oe(e){return me(e)?e:he(e)}function se(e,t){var n=e.__data__;return ce(t)?n["string"==typeof t?"string":"hash"]:n.map}function ae(e,t){var n=m(e,t);return te(n)?n:void 0}function ue(e,t){if(me(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ee(e))||(c.test(e)||!u.test(e)||null!=t&&e in Object(t))}function ce(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fe(e){return!!S&&S in e}function le(e,t){return 1==t.length?e:ee(e,ne(t,0,-1))}L.prototype.clear=M,L.prototype["delete"]=D,L.prototype.get=B,L.prototype.has=U,L.prototype.set=F,q.prototype.clear=V,q.prototype["delete"]=Y,q.prototype.get=$,q.prototype.has=W,q.prototype.set=z,G.prototype.clear=H,G.prototype["delete"]=K,G.prototype.get=J,G.prototype.has=Q,G.prototype.set=X;var he=ve((function(e){e=Oe(e);var t=[];return f.test(e)&&t.push(""),e.replace(l,(function(e,n,r,i){t.push(r?i.replace(p,"$1"):n||e)})),t}));function pe(e){if("string"==typeof e||Ee(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function de(e){if(null!=e){try{return T.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ye(e){var t=e?e.length:0;return t?e[t-1]:void 0}function ve(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(ve.Cache||G),r}function ge(e,t){return e===t||e!==e&&t!==t}ve.Cache=G;var me=Array.isArray;function _e(e){var t=be(e)?I.call(e):"";return t==o||t==s}function be(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function we(e){return!!e&&"object"==typeof e}function Ee(e){return"symbol"==typeof e||we(e)&&I.call(e)==a}function Oe(e){return null==e?"":re(e)}function Se(e,t){return null==e||ie(e,t)}e.exports=Se}).call(this,n("c8ba"))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},adad:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("954c"),t)},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("5135"),s=Object.defineProperty,a={},u=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,f=o(t,0)?t[0]:u,l=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,f,l)}))}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("e163"),a=n("9112"),u=n("5135"),c=n("b622"),f=n("c430"),l=c("iterator"),h=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=s(s(o)),i!==Object.prototype&&(r=i)):h=!0),void 0==r&&(r={}),f||u(r,l)||a(r,l,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},b038:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.activateEvent=t.addEventListener=t.CloudbaseEventEmitter=t.IErrorEvent=t.CloudbaseEvent=void 0;var o=n("8a32");function s(e,t,n){n[e]=n[e]||[],n[e].push(t)}function a(e,t,n){if(null===n||void 0===n?void 0:n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var u=function(){function e(e,t){this.data=t||null,this.name=e}return e}();t.CloudbaseEvent=u;var c=function(e){function t(t,n){var r=e.call(this,"error",{error:t,data:n})||this;return r.error=t,r}return r(t,e),t}(u);t.IErrorEvent=c;var f=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){return s(e,t,this._listeners),this},e.prototype.off=function(e,t){return a(e,t,this._listeners),this},e.prototype.fire=function(e,t){if(o.isInstanceOf(e,c))return console.error(e.error),this;var n=o.isString(e)?new u(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;for(var s=this._listeners[r]?i(this._listeners[r]):[],a=0,f=s;a<f.length;a++){var l=f[a];l.call(this,n)}}return this},e.prototype._listens=function(e){return this._listeners[e]&&this._listeners[e].length>0},e}();t.CloudbaseEventEmitter=f;var l=new f;function h(e,t){l.on(e,t)}function p(e,t){void 0===t&&(t={}),l.fire(e,t)}function d(e,t){l.off(e,t)}t.addEventListener=h,t.activateEvent=p,t.removeEventListener=d},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b047:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,u="name";r&&!(u in o)&&i(o,u,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b218:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},b575:function(e,t,n){var r,i,o,s,a,u,c,f,l=n("da84"),h=n("06cf").f,p=n("2cf4").set,d=n("1cdc"),y=n("a4b4"),v=n("605d"),g=l.MutationObserver||l.WebKitMutationObserver,m=l.document,_=l.process,b=l.Promise,w=h(l,"queueMicrotask"),E=w&&w.value;E||(r=function(){var e,t;v&&(e=_.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},d||v||y||!g||!m?b&&b.resolve?(c=b.resolve(void 0),f=c.then,s=function(){f.call(c,r)}):s=v?function(){_.nextTick(r)}:function(){p.call(l,r)}:(a=!0,u=m.createTextNode(""),new g(r).observe(u,{characterData:!0}),s=function(){u.data=a=!a})),e.exports=E||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),u=n("fdbf"),c=i("wks"),f=r.Symbol,l=u?f:f&&f.withoutSetter||s;e.exports=function(e){return o(c,e)||(a&&o(f,e)?c[e]=f[e]:c[e]=l("Symbol."+e)),c[e]}},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return f(this,e,t,n)}function f(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,r):"string"===typeof t?d(e,t,n):g(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,n,r){return l(t),t<=0?u(e,t):void 0!==n?"string"===typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}function p(e,t){if(l(t),e=u(e,t<0?0:0|m(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,n);e=u(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function y(e,t){var n=t.length<0?0:0|m(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function v(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=y(e,t),e}function g(e,t){if(c.isBuffer(t)){var n=0|m(t.length);return e=u(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):y(e,t);if("Buffer"===t.type&&o(t.data))return y(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),c.alloc(+e)}function b(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(r)return J(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function O(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:S(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function A(e,t,n,r){return ee(J(t,e.length-n),e,n,r)}function I(e,t,n,r){return ee(Q(t),e,n,r)}function N(e,t,n,r){return I(e,t,n,r)}function C(e,t,n,r){return ee(Z(t),e,n,r)}function x(e,t,n,r){return ee(X(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:o=e[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(f=u));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s,u>2047&&(u<55296||u>57343)&&(f=u));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,u>65535&&u<1114112&&(f=u))}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return k(r)}t.Buffer=c,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return f(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return h(null,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):w.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),u=this.slice(r,i),f=e.slice(t,n),l=0;l<a;++l)if(u[l]!==f[l]){o=u[l],s=f[l];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return I(this,e,t,n);case"latin1":case"binary":return N(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function k(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=K(e[o]);return i}function B(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function q(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function V(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Y(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,o){return o||Y(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,o){return o||Y(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:J(new c(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function G(e){if(e=H(e).replace(z,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function J(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function X(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Z(e){return r.toByteArray(G(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return o(i(e))}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,f=4==e,l=6==e,h=7==e,p=5==e||l;return function(d,y,v,g){for(var m,_,b=o(d),w=i(b),E=r(y,v,3),O=s(w.length),S=0,T=g||a,A=t?T(d,O):n||h?T(d,0):void 0;O>S;S++)if((p||S in w)&&(m=w[S],_=E(m,S,b),e))if(t)A[S]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:u.call(A,m)}else switch(e){case 4:return!1;case 7:u.call(A,m)}return l?-1:c||f?f:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},b7e1:function(e,t,n){"use strict";n.r(t),n.d(t,"AbortError",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="AbortError",t}return i(t,e),t}(Error)},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("25f0");function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw s}}}}},be56:function(e,t){var n=Math.floor,r=Math.random;function i(e,t){return e+n(r()*(t-e+1))}e.exports=i},bee2:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c098:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},c135:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n},c240:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},c430:function(e,t){e.exports=!1},c520:function(e,t,n){(function(e,r){r(t,n("51ef"))})(0,(function(e,t){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e){return i(e)||o(e)||s()}function i(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}if(!t.Protocals)throw new Error("LeanCloud Realtime SDK not installed");var a=t.Protocals.CommandType,u=t.Protocals.GenericCommand,c=t.Protocals.AckCommand,f=function(e){return console.warn(e.message)},l=function(e){function r(n,r,i){var o;return o=e.call(this)||this,o._appId=n,o.id=r,o._connection=i,o._eventemitter=new t.EventEmitter,o._querys=new Set,o}n(r,e);var i=r.prototype;return i._send=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this._connection).send.apply(t,[Object.assign(e,{appId:this._appId,installationId:this.id,service:1})].concat(r))},i._open=function(){return this._send(new u({cmd:a.login}))},i.close=function(){var e=this._eventemitter;return e.emit("beforeclose"),this._send(new u({cmd:a.logout})).then((function(){return e.emit("close")}))},i.register=function(e){this._querys.add(e)},i.deregister=function(e){var t=this;this._querys.delete(e),setTimeout((function(){t._querys.size||t.close().catch(f)}),0)},i._dispatchCommand=function(e){return e.cmd!==a.data?(this.emit("unhandledmessage",e),t.Promise.resolve()):this._dispatchDataCommand(e)},i._dispatchDataCommand=function(e){var t=e.dataMessage,n=t.ids,r=t.msg;this.emit("message",r.map((function(e){var t=e.data;return JSON.parse(t)})));var i=new u({cmd:a.ack,ackMessage:new c({ids:n})});return this._send(i,!1).catch(f)},r}(t.EventEmitter),h=function(e){return[function(t){return e(),t},function(t){throw e(),t}]},p=function(e){e._liveQueryClients={},e.createLiveQueryClient=function(n){var i;if(void 0!==e._liveQueryClients[n])return t.Promise.resolve(e._liveQueryClients[n]);var o=(i=e._open().then((function(t){var r=new l(e._options.appId,n,t);return t.on("reconnect",(function(){return r._open().then((function(){return r.emit("reconnect")}),(function(e){return r.emit("reconnecterror",e)}))})),r._eventemitter.on("beforeclose",(function(){delete e._liveQueryClients[r.id]}),e),r._eventemitter.on("close",(function(){e._deregister(r)}),e),r._open().then((function(){return e._liveQueryClients[r.id]=r,e._register(r),r}))}))).then.apply(i,r(h((function(){e._deregisterPending&&e._deregisterPending(o)}))));return e._liveQueryClients[n]=o,e._registerPending&&e._registerPending(o),o}},d=function(e,t){var n=e.installationId&&1===e.service;if(!n)return!0;var r=t._liveQueryClients[e.installationId];return r?r._dispatchCommand(e).catch((function(e){return console.warn(e)})):console.warn("Unexpected message received without any live client match: %O",e),!1},y={name:"leancloud-realtime-plugin-live-query",onRealtimeCreate:p,beforeCommandDispatch:d};e.LiveQueryPlugin=y,Object.defineProperty(e,"__esModule",{value:!0})}))},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c72e:function(e,t,n){(function(t){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=81)}([function(e,t,n){(function(e,n){var r,i;(function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=o._,a=Array.prototype,u=Object.prototype,c="undefined"!==typeof Symbol?Symbol.prototype:null,f=a.push,l=a.slice,h=u.toString,p=u.hasOwnProperty,d=Array.isArray,y=Object.keys,v=Object.create,g=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};"undefined"==typeof t||t.nodeType?o._=m:("undefined"!=typeof n&&!n.nodeType&&n.exports&&(t=n.exports=m),t._=m),m.VERSION="1.9.1";var _,b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return m.iteratee!==_?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?b(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=_=function(e,t){return w(e,t,1/0)};var E=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},O=function(e){if(!m.isObject(e))return{};if(v)return v(e);g.prototype=e;var t=new g;return g.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},T=function(e,t){return null!=e&&p.call(e,t)},A=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},I=Math.pow(2,53)-1,N=S("length"),C=function(e){var t=N(e);return"number"==typeof t&&t>=0&&t<=I};m.each=m.forEach=function(e,t,n){var r,i;if(t=b(t,n),C(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=m.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},m.map=m.collect=function(e,t,n){t=w(t,n);for(var r=!C(e)&&m.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var x=function(e){var t=function(t,n,r,i){var o=!C(t)&&m.keys(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var u=o?o[a]:a;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,b(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=x(1),m.reduceRight=m.foldr=x(-1),m.find=m.detect=function(e,t,n){var r=C(e)?m.findIndex:m.findKey,i=r(e,t,n);if(void 0!==i&&-1!==i)return e[i]},m.filter=m.select=function(e,t,n){var r=[];return t=w(t,n),m.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},m.reject=function(e,t,n){return m.filter(e,m.negate(w(t)),n)},m.every=m.all=function(e,t,n){t=w(t,n);for(var r=!C(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},m.some=m.any=function(e,t,n){t=w(t,n);for(var r=!C(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return C(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=E((function(e,t,n){var r,i;return m.isFunction(t)?i=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=A(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))})),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=C(e)?e:m.values(e);for(var a=0,u=e.length;a<u;a++)r=e[a],null!=r&&r>o&&(o=r)}else t=w(t,n),m.each(e,(function(e,n,r){i=t(e,n,r),(i>s||i===-1/0&&o===-1/0)&&(o=e,s=i)}));return o},m.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=C(e)?e:m.values(e);for(var a=0,u=e.length;a<u;a++)r=e[a],null!=r&&r<o&&(o=r)}else t=w(t,n),m.each(e,(function(e,n,r){i=t(e,n,r),(i<s||i===1/0&&o===1/0)&&(o=e,s=i)}));return o},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return C(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=C(e)?m.clone(e):m.values(e),i=N(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=m.random(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=w(t,n),m.pluck(m.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var R=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=w(r,i),m.each(n,(function(t,i){var s=r(t,i,n);e(o,t,s)})),o}};m.groupBy=R((function(e,t,n){T(e,n)?e[n].push(t):e[n]=[t]})),m.indexBy=R((function(e,t,n){e[n]=t})),m.countBy=R((function(e,t,n){T(e,n)?e[n]++:e[n]=1}));var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(P):C(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:C(e)?e.length:m.keys(e).length},m.partition=R((function(e,t,n){e[n?0:1].push(t)}),!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var j=function(e,t,n,r){r=r||[];for(var i=r.length,o=0,s=N(e);o<s;o++){var a=e[o];if(C(a)&&(m.isArray(a)||m.isArguments(a)))if(t){var u=0,c=a.length;while(u<c)r[i++]=a[u++]}else j(a,t,n,r),i=r.length;else n||(r[i++]=a)}return r};m.flatten=function(e,t){return j(e,t,!1)},m.without=E((function(e,t){return m.difference(e,t)})),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],s=0,a=N(e);s<a;s++){var u=e[s],c=n?n(u,s,e):u;t&&!n?(s&&o===c||i.push(u),o=c):n?m.contains(o,c)||(o.push(c),i.push(u)):m.contains(i,u)||i.push(u)}return i},m.union=E((function(e){return m.uniq(j(e,!0,!0))})),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=N(e);r<i;r++){var o=e[r];if(!m.contains(t,o)){var s;for(s=1;s<n;s++)if(!m.contains(arguments[s],o))break;s===n&&t.push(o)}}return t},m.difference=E((function(e,t){return t=j(t,!0,!0),m.filter(e,(function(e){return!m.contains(t,e)}))})),m.unzip=function(e){for(var t=e&&m.max(e,N).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=E(m.unzip),m.object=function(e,t){for(var n={},r=0,i=N(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var k=function(e){return function(t,n,r){n=w(n,r);for(var i=N(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};m.findIndex=k(1),m.findLastIndex=k(-1),m.sortedIndex=function(e,t,n,r){n=w(n,r,1);var i=n(t),o=0,s=N(e);while(o<s){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o};var L=function(e,t,n){return function(r,i,o){var s=0,a=N(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(l.call(r,s,a),m.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}};m.indexOf=L(1,m.findIndex,m.sortedIndex),m.lastIndexOf=L(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},m.chunk=function(e,t){if(null==t||t<1)return[];var n=[],r=0,i=e.length;while(r<i)n.push(l.call(e,r,r+=t));return n};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=O(e.prototype),s=e.apply(o,i);return m.isObject(s)?s:o};m.bind=E((function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=E((function(i){return M(e,r,t,this,n.concat(i))}));return r})),m.partial=E((function(e,t){var n=m.partial.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];while(i<arguments.length)s.push(arguments[i++]);return M(e,r,this,this,s)};return r})),m.partial.placeholder=m,m.bindAll=E((function(e,t){t=j(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");while(n--){var r=t[n];e[r]=m.bind(e[r],e)}})),m.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return T(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=E((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:m.now(),r=null,s=e.apply(i,o),r||(i=o=null)},c=function(){var c=m.now();a||!1!==n.leading||(a=c);var f=t-(c-a);return i=this,o=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),a=c,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,f)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c},m.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=E((function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=m.delay(o,t,this,s);return i}));return s.cancel=function(){clearTimeout(r),r=null},s},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=E;var D=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(e,t){var n=B.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||u,o="constructor";T(e,o)&&!m.contains(t,o)&&t.push(o);while(n--)o=B[n],o in e&&e[o]!==i[o]&&!m.contains(t,o)&&t.push(o)};m.keys=function(e){if(!m.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)T(e,n)&&t.push(n);return D&&U(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&U(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=w(t,n);for(var r=m.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var F=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var c=s[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}};m.extend=F(m.allKeys),m.extendOwn=m.assign=F(m.keys),m.findKey=function(e,t,n){t=w(t,n);for(var r,i=m.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r};var q,V,Y=function(e,t,n){return t in n};m.pick=E((function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=m.allKeys(e)):(r=Y,t=j(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})),m.omit=E((function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(j(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)})),m.defaults=F(m.allKeys,!0),m.create=function(e,t){var n=O(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0},q=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&V(e,t,n,r)},V=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var u=n.length;while(u--)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;while(u--)if(!q(e[u],t[u],n,r))return!1}else{var f,l=m.keys(e);if(u=l.length,m.keys(t).length!==u)return!1;while(u--)if(f=l[u],!T(t,f)||!q(e[f],t[f],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return q(e,t)},m.isEmpty=function(e){return null==e||(C(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=d||function(e){return"[object Array]"===h.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){m["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}})),m.isArguments(arguments)||(m.isArguments=function(e){return T(e,"callee")});var $=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof $&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return T(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!p.call(e,i))return!1;e=e[i]}return!!n},m.noConflict=function(){return o._=s,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return A(t,e)}:S(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?A(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=m.invert(W),G=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=G(W),m.unescape=G(z),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=m.isFunction(o)?o.call(e):o}return e};var H=0;m.uniqueId=function(e){var t=++H+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+J[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r,i=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(i,(function(t,n,r,i,a){return s+=e.slice(o,a).replace(Q,X),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t})),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(t.variable||"obj","_",s)}catch(c){throw c.source=s,c}var a=function(e){return r.call(this,e,m)},u=t.variable||"obj";return a.source="function("+u+"){\n"+s+"}",a},m.chain=function(e){var t=m(e);return t._chain=!0,t};var Z=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),(function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),Z(this,n.apply(m,e))}})),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Z(this,n)}})),m.each(["concat","join","slice"],(function(e){var t=a[e];m.prototype[e]=function(){return Z(this,t.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},r=[],i=function(){return m}.apply(t,r),void 0===i||(n.exports=i)})()}).call(t,n(67),n(104)(e))},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports={default:n(84),__esModule:!0}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(42)("wks"),i=n(32),o=n(3).Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(138),u=n(0),c=u.extend,f=n(18),l=n(6),h=l.getSessionToken,p=n(48),d=function(e,t){var n=(new Date).getTime(),r=a(n+e);return t?r+","+n+",master":r+","+n},y=function(e,t){t?e["X-LC-Sign"]=d(f.applicationKey):e["X-LC-Key"]=f.applicationKey},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n={"X-LC-Id":f.applicationId,"Content-Type":"application/json;charset=UTF-8"},r=!1;return"boolean"===typeof e.useMasterKey?r=e.useMasterKey:"boolean"===typeof f._config.useMasterKey&&(r=f._config.useMasterKey),r?f.masterKey?t?n["X-LC-Sign"]=d(f.masterKey,!0):n["X-LC-Key"]=f.masterKey+",master":(console.warn("masterKey is not set, fall back to use appKey"),y(n,t)):y(n,t),f.hookKey&&(n["X-LC-Hook-Key"]=f.hookKey),null!==f._config.production&&(n["X-LC-Prod"]=String(f._config.production)),n["X-LC-UA"]=f._sharedConfig.userAgent,i.default.resolve().then((function(){var t=h(e);if(t)n["X-LC-Session"]=t;else if(!f._config.disableCurrentUser)return f.User.currentAsync().then((function(e){return e&&e._sessionToken&&(n["X-LC-Session"]=e._sessionToken),n}));return n}))},g=function(e){var t=e.service,n=void 0===t?"api":t,r=e.version,i=void 0===r?"1.1":r,o=e.path,s=f._config.serverURLs[n];if(!s)throw new Error("undefined server URL for "+n);return"/"!==s.charAt(s.length-1)&&(s+="/"),s+=i,o&&(s+=o),s},m=function(e){var t=e.service,n=e.version,r=e.method,i=e.path,o=e.query,a=e.data,u=e.authOptions,c=e.signKey,l=void 0===c||c;if(!f.applicationId||!f.applicationKey&&!f.masterKey)throw new Error("Not initialized");f._appRouter&&f._appRouter.refresh();var h=f._config.requestTimeout,d=g({service:t,path:i,version:n});return v(u,l).then((function(e){return p({method:r,url:d,query:o,data:a,headers:e,timeout:h}).catch((function(e){var t={code:e.code||-1,error:e.message||e.responseText};if(e.response&&e.response.code)t=e.response;else if(e.responseText)try{t=JSON.parse(e.responseText)}catch(i){}t.rawMessage=t.rawMessage||t.error,f._sharedConfig.keepErrorRawMessage||(t.error+=" ["+(e.statusCode||"N/A")+" "+r+" "+d+"]");var n=new Error(t.error);throw delete t.error,s.extend(n,t)}))}))},_=function(e,t,n,r,i,o,s){var a="";if(e&&(a+="/"+e),t&&(a+="/"+t),n&&(a+="/"+n),i&&i._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(i&&i._where)throw new Error("_where should be in the query");return r&&"get"===r.toLowerCase()&&(s=c({},s,i),i=null),m({method:r,path:a,query:s,data:i,authOptions:o})};f.request=m,e.exports={_request:_,request:m}},function(e,t,n){"use strict";var r=n(2),i=a(r),o=n(112),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var u=n(0),c=function(e){return u.isNull(e)||u.isUndefined(e)},f=function(e){return u.isArray(e)?e:void 0===e||null===e?[]:[e]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keys,n=e.include,r=e.includeACL,i={};return t&&(i.keys=f(t).join(",")),n&&(i.include=f(n).join(",")),r&&(i.returnACL=r),i},h=function(e){return e.sessionToken?e.sessionToken:e.user&&"function"===typeof e.user.getSessionToken?e.user.getSessionToken():void 0},p=function(e){return function(t){return e(t),t}},d=function(){},y=function(e,t,n){var r;return r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},u.extend(r,e),d.prototype=e.prototype,r.prototype=new d,t&&u.extend(r.prototype,t),n&&u.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},v=function(e){return new Date(e)},g=function(e,t,n){var r=t.split("."),i=r.pop(),o=e;return r.forEach((function(e){void 0===o[e]&&(o[e]={}),o=o[e]})),o[i]=n,e},m=function(e,t){for(var n=t.split("."),r=n[0],i=n.pop(),o=e,s=0;s<n.length;s++)if(o=o[n[s]],void 0===o)return[void 0,void 0,i];var a=o[i];return[a,o,i,r]},_=function(e){return u.isObject(e)&&(0,s.default)(e)===Object.prototype},b=function e(t,n){return t()?n().then((function(){return e(t,n)})):i.default.resolve()};e.exports={isNullOrUndefined:c,ensureArray:f,transformFetchOptions:l,getSessionToken:h,tap:p,inherits:y,parseDate:v,setValue:g,findValue:m,isPlainObject:_,continueWhile:b}},function(e,t,n){var r=n(8),i=n(54),o=n(39),s=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports={default:n(105),__esModule:!0}},function(e,t,n){var r=n(3),i=n(1),o=n(23),s=n(12),a=n(14),u="prototype",c=function(e,t,n){var f,l,h,p=e&c.F,d=e&c.G,y=e&c.S,v=e&c.P,g=e&c.B,m=e&c.W,_=d?i:i[t]||(i[t]={}),b=_[u],w=d?r:y?r[t]:(r[t]||{})[u];for(f in d&&(n=t),n)l=!p&&w&&void 0!==w[f],l&&a(_,f)||(h=l?w[f]:n[f],_[f]=d&&"function"!=typeof w[f]?n[f]:g&&l?o(h,r):m&&w[f]==h?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t}(h):v&&"function"==typeof h?o(Function.call,h):h,v&&((_.virtual||(_.virtual={}))[f]=h,e&c.R&&b&&!b[f]&&s(b,f,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){e.exports=!n(24)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(7),i=n(25);e.exports=n(11)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(88),i=n(37);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(0);function i(e,t){var n=new Error(t);return n.code=e,n}r.extend(i,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),e.exports=i},function(e,t){e.exports={}},function(e,t,n){"use strict";(function(t){var r=n(9),i=c(r),o=n(68),s=c(o),a=n(2),u=c(a);function c(e){return e&&e.__esModule?e:{default:e}}var f=n(0),l=n(69),h=n(19),p=n(6),d=p.inherits,y=p.parseDate,v=n(70),g=n(20),m=g.setAdapters,_=g.adapterManager,b=t.AV||{};b._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null,requestTimeout:null};var w="LeanCloud-JS-SDK/"+v;b._sharedConfig={userAgent:w,liveQueryRealtime:null},_.on("platformInfo",(function(e){var t=w;if(e)if(e.userAgent)t=e.userAgent;else{var n=e.name;e.version&&(n+="/"+e.version),e.extra&&(n+="; "+e.extra),t+=" ("+n+")"}b._sharedConfig.userAgent=t})),b._getAVPath=function(e){if(!b.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(e||(e=""),!f.isString(e))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===e[0]&&(e=e.substring(1)),"AV/"+b.applicationId+"/"+e},b._installationId=null,b._getInstallationId=function(){if(b._installationId)return u.default.resolve(b._installationId);var e=b._getAVPath("installationId");return b.localStorage.getItemAsync(e).then((function(t){return b._installationId=t,b._installationId?t:(b._installationId=t=l(),b.localStorage.setItemAsync(e,t).then((function(){return t})))}))},b._subscriptionId=null,b._refreshSubscriptionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b._getAVPath("subscriptionId"),t=b._subscriptionId=l();return b.localStorage.setItemAsync(e,t).then((function(){return t}))},b._getSubscriptionId=function(){if(b._subscriptionId)return u.default.resolve(b._subscriptionId);var e=b._getAVPath("subscriptionId");return b.localStorage.getItemAsync(e).then((function(t){return b._subscriptionId=t,b._subscriptionId||(t=b._refreshSubscriptionId(e)),t}))},b._parseDate=y,b._extend=function(e,t){var n=d(this,e,t);return n.extend=this.extend,n},b._encode=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof b.Object){if(n)throw new Error("AV.Objects not allowed here");return t&&!f.include(t,e)&&e._hasData?e._toFullJSON(t.concat(e),r):e._toPointer()}if(e instanceof b.ACL)return e.toJSON();if(f.isDate(e))return r?{__type:"Date",iso:e.toJSON()}:e.toJSON();if(e instanceof b.GeoPoint)return e.toJSON();if(f.isArray(e))return f.map(e,(function(e){return b._encode(e,t,n,r)}));if(f.isRegExp(e))return e.source;if(e instanceof b.Relation)return e.toJSON();if(e instanceof b.Op)return e.toJSON();if(e instanceof b.File){if(!e.url()&&!e.id)throw new Error("Tried to save an object containing an unsaved file.");return e._toFullJSON(t,r)}return f.isObject(e)?f.mapObject(e,(function(e,i){return b._encode(e,t,n,r)})):e},b._decode=function(e,t){if(!f.isObject(e)||f.isDate(e))return e;if(f.isArray(e))return f.map(e,(function(e){return b._decode(e)}));if(e instanceof b.Object)return e;if(e instanceof b.File)return e;if(e instanceof b.Op)return e;if(e instanceof b.GeoPoint)return e;if(e instanceof b.ACL)return e;if("ACL"===t)return new b.ACL(e);if(e.__op)return b.Op._decode(e);var n;if("Pointer"===e.__type){n=e.className;var r=b.Object._create(n);if((0,s.default)(e).length>3){var i=f.clone(e);delete i.__type,delete i.className,r._finishFetch(i,!0)}else r._finishFetch({objectId:e.objectId},!1);return r}if("Object"===e.__type){n=e.className;var o=f.clone(e);delete o.__type,delete o.className;var a=b.Object._create(n);return a._finishFetch(o,!0),a}if("Date"===e.__type)return b._parseDate(e.iso);if("GeoPoint"===e.__type)return new b.GeoPoint({latitude:e.latitude,longitude:e.longitude});if("Relation"===e.__type){if(!t)throw new Error("key missing decoding a Relation");var u=new b.Relation(null,t);return u.targetClassName=e.className,u}if("File"===e.__type){var c=new b.File(e.name),l=f.clone(e);return delete l.__type,c._finishFetch(l),c}return f.mapObject(e,b._decode)},b.parseJSON=b._decode,b.parse=function(e){return b.parseJSON(JSON.parse(e))},b.stringify=function(e){return(0,i.default)(b._encode(e,[],!1,!0))},b._encodeObjectOrArray=function(e){var t=function(e){return e&&e._toFullJSON&&(e=e._toFullJSON([])),f.mapObject(e,(function(e){return b._encode(e,[])}))};return f.isArray(e)?e.map((function(e){return t(e)})):t(e)},b._arrayEach=f.each,b._traverse=function(e,t,n){if(e instanceof b.Object){if(n=n||[],f.indexOf(n,e)>=0)return;return n.push(e),b._traverse(e.attributes,t,n),t(e)}return e instanceof b.Relation||e instanceof b.File?t(e):f.isArray(e)?(f.each(e,(function(r,i){var o=b._traverse(r,t,n);o&&(e[i]=o)})),t(e)):f.isObject(e)?(b._each(e,(function(r,i){var o=b._traverse(r,t,n);o&&(e[i]=o)})),t(e)):t(e)},b._objectEach=b._each=function(e,t){f.isObject(e)?f.each(f.keys(e),(function(n){t(e[n],n)})):f.each(e,t)},b.debug={enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leancloud*";return h.enable(e)},disable:h.disable},b.setAdapters=m,e.exports=b}).call(t,n(67))},function(e,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}}function a(){var e;return"object"===("undefined"===typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)}function u(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(t){}}function c(){var e;try{e=n.storage.getItem("debug")}catch(r){}return!e&&"undefined"!==typeof t&&"env"in t&&(e=Object({NODE_ENV:"production",BASE_URL:""}).DEBUG),e}function f(){try{return localStorage}catch(e){}}n.log=a,n.formatArgs=s,n.save=u,n.load=c,n.useColors=o,n.storage=f(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(110)(n);var l=e.exports.formatters;l.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(e,t,n){"use strict";var r=n(0),i=n(71),o=n(6),s=o.inherits,a=s(i,{constructor:function(){i.apply(this),this._adapters={}},getAdapter:function(e){var t=this._adapters[e];if(void 0===t)throw new Error(e+" adapter is not configured");return t},setAdapters:function(e){var t=this;r.extend(this._adapters,e),r.keys(e).forEach((function(n){return t.emit(n,e[n])}))}}),u=new a;e.exports={getAdapter:u.getAdapter.bind(u),setAdapters:u.setAdapters.bind(u),adapterManager:u}},function(e,t,n){"use strict";var r=n(85)(!0);n(53)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t){e.exports=!0},function(e,t,n){var r=n(30);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(37);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(35),i=u(r),o=n(29),s=u(o),a="function"===typeof s.default&&"symbol"===typeof i.default?function(e){return typeof e}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};function u(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof s.default&&"symbol"===a(i.default)?function(e){return"undefined"===typeof e?"undefined":a(e)}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"===typeof e?"undefined":a(e)}},function(e,t,n){e.exports={default:n(120),__esModule:!0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(57),i=n(43);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(7).f,i=n(14),o=n(4)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(91);for(var r=n(3),i=n(12),o=n(17),s=n(4)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],f=r[c],l=f&&f.prototype;l&&!l[s]&&i(l,s,c),o[c]=o.Array}},function(e,t,n){e.exports={default:n(119),__esModule:!0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(13),i=n(3).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(36),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(42)("keys"),i=n(32);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(1),i=n(3),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(22)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(26),i=n(4)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(44),i=n(4)("iterator"),o=n(17);e.exports=n(1).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(30);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(10),i=n(1),o=n(24);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(e,t,n){"use strict";var r=n(9),i=c(r),o=n(28),s=c(o),a=n(68),u=c(a);function c(e){return e&&e.__esModule?e:{default:e}}n(0);var f=n(128),l=f.timeout,h=n(19),p=h("leancloud:request"),d=h("leancloud:request:error"),y=n(20),v=y.getAdapter,g=0,m=function(e){var t=e.method,n=e.url,r=e.query,o=e.data,a=e.headers,c=void 0===a?{}:a,f=e.timeout,y=e.onprogress;if(r){var m=(0,u.default)(r).map((function(e){var t=r[e];if(void 0!==t){var n="object"===("undefined"===typeof t?"undefined":(0,s.default)(t))?(0,i.default)(t):t;return encodeURIComponent(e)+"="+encodeURIComponent(n)}})).filter((function(e){return e})).join("&");n=n+"?"+m}var _=g++;p("request(%d) %s %s %o %o %o",_,t,n,r,o,c);var b=v("request"),w=b(n,{method:t,headers:c,data:o,onprogress:y}).then((function(e){if(p("response(%d) %d %O %o",_,e.status,e.data||e.text,e.header),!1===e.ok){var t=new Error;throw t.response=e,t}return e.data})).catch((function(e){throw e.response&&(h.enabled("leancloud:request")||d("request(%d) %s %s %o %o %o",_,t,n,r,o,c),d("response(%d) %d %O %o",_,e.response.status,e.response.data||e.response.text,e.response.header),e.statusCode=e.response.status,e.responseText=e.response.text,e.response=e.response.data),e}));return f?l(w,f):w};e.exports=m},function(e,t,n){t.f=n(4)},function(e,t,n){var r=n(3),i=n(1),o=n(22),s=n(49),a=n(7).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){},function(e,t,n){"use strict";var r=n(22),i=n(10),o=n(55),s=n(12),a=n(17),u=n(86),c=n(33),f=n(59),l=n(4)("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",y="values",v=function(){return this};e.exports=function(e,t,n,g,m,_,b){u(n,t,g);var w,E,O,S=function(e){if(!h&&e in N)return N[e];switch(e){case d:return function(){return new n(this,e)};case y:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",A=m==y,I=!1,N=e.prototype,C=N[l]||N[p]||m&&N[m],x=C||S(m),R=m?A?S("entries"):x:void 0,P="Array"==t&&N.entries||C;if(P&&(O=f(P.call(new e)),O!==Object.prototype&&O.next&&(c(O,T,!0),r||"function"==typeof O[l]||s(O,l,v))),A&&C&&C.name!==y&&(I=!0,x=function(){return C.call(this)}),r&&!b||!h&&!I&&N[l]||s(N,l,x),a[t]=x,a[T]=v,m)if(w={values:A?x:S(y),keys:_?x:S(d),entries:R},b)for(E in w)E in N||o(N,E,w[E]);else i(i.P+i.F*(h||I),t,w);return w}},function(e,t,n){e.exports=!n(11)&&!n(24)((function(){return 7!=Object.defineProperty(n(38)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=n(12)},function(e,t,n){var r=n(8),i=n(87),o=n(43),s=n(41)("IE_PROTO"),a=function(){},u="prototype",c=function(){var e,t=n(38)("iframe"),r=o.length,i="<",s=">";t.style.display="none",n(58).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),c=e.F;while(r--)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[u]=r(e),n=new a,a[u]=null,n[s]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(14),i=n(15),o=n(89)(!1),s=n(41)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);while(t.length>u)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(14),i=n(27),o=n(41)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(8);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},function(e,t,n){var r=n(17),i=n(4)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(8),i=n(30),o=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s=n(23),a=n(97),u=n(58),c=n(38),f=n(3),l=f.process,h=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,y=f.Dispatch,v=0,g={},m="onreadystatechange",_=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){_.call(e.data)};h&&p||(h=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return g[++v]=function(){a("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==n(26)(l)?r=function(e){l.nextTick(s(_,e,1))}:y&&y.now?r=function(e){y.now(s(_,e,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):r=m in c("script")?function(e){u.appendChild(c("script"))[m]=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(8),i=n(13),o=n(46);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},function(e,t,n){var r=n(4)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports={default:n(106),__esModule:!0}},function(e,t,n){var r=n(108),i=n(109);function o(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}e.exports=o},function(e,t,n){"use strict";e.exports="4.9.0"},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,a=new Array(s);o<s;o++)a[o]=r[o].fn;return a},a.prototype.emit=function(e,t,n,r,o,s){var a=i?i+e:e;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var h,p=f.length;for(c=0;c<p;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;case 4:f[c].fn.call(f[c].context,t,n,r);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];f[c].fn.apply(f[c].context,u)}}return!0},a.prototype.on=function(e,t,n){var r=new s(t,n||this),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.once=function(e,t,n){var r=new s(t,n||this,!0),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,r){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return 0===--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==t||r&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[s]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,e.exports=a},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(20),a=s.getAdapter,u=["getItem","setItem","removeItem","clear"],c={get async(){return a("storage").async}};u.forEach((function(e){c[e+"Async"]=function(){var t=a("storage");return i.default.resolve(t[e].apply(t,arguments))},c[e]=function(){var t=a("storage");if(!t.async)return t[e].apply(t,arguments);var n=new Error("Synchronous API ["+e+"] is not available in this runtime.");throw n.code="SYNC_API_NOT_AVAILABLE",n}})),e.exports=c},function(e,t,n){"use strict";var r=n(9),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(72),a=n(18),u=t.removeAsync=s.removeItemAsync.bind(s),c=function(e,t){try{e=JSON.parse(e)}catch(r){return null}if(e){var n=e.expiredAt&&e.expiredAt<Date.now();return n?u(t).then((function(){return null})):e.value}return null};t.getAsync=function(e){return e="AV/"+a.applicationId+"/"+e,s.getItemAsync(e).then((function(t){return c(t,e)}))},t.setAsync=function(e,t,n){var r={value:t};return"number"===typeof n&&(r.expiredAt=Date.now()+n),s.setItemAsync("AV/"+a.applicationId+"/"+e,(0,i.default)(r))}},function(e,t,n){e.exports={default:n(116),__esModule:!0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(57),i=n(43).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(51),i=n(25),o=n(15),s=n(39),a=n(14),u=n(54),c=Object.getOwnPropertyDescriptor;t.f=n(11)?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(n){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){e.exports={default:n(147),__esModule:!0}},function(e,t,n){"use strict";var r=n(35),i=c(r),o=n(28),s=c(o),a=n(29),u=c(a);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof u.default&&"symbol"===(0,s.default)(i.default)?function(e){return"undefined"===typeof e?"undefined":(0,s.default)(e)}:function(e){return e&&"function"===typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,s.default)(e)},f(e)}function l(e){return null!==e&&"object"===f(e)}e.exports=l},function(e,t,n){"use strict";var r=n(82),i=n(166);e.exports=i(r)},function(e,t,n){"use strict";e.exports=n(83)},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * LeanCloud JavaScript SDK
 * https://leancloud.cn
 *
 * Copyright 2016 LeanCloud.cn, Inc.
 * The LeanCloud JavaScript SDK is freely distributable under the MIT license.
 */var s=n(0),a=n(18);a._=s,a.version=n(70),a.Promise=i.default,a.localStorage=n(72),a.Cache=n(73),a.Error=n(16),n(115),n(129)(a),n(130)(a),n(131)(a),n(132)(a),n(133)(a),n(134)(a),n(142)(a),n(152)(a),n(153)(a),n(155)(a),n(156)(a),n(157)(a),n(158)(a),n(159)(a),n(160)(a),n(161)(a),n(162)(a),n(163)(a),a.Conversation=n(164),n(165),e.exports=a},function(e,t,n){n(52),n(21),n(34),n(94),n(102),n(103),e.exports=n(1).Promise},function(e,t,n){var r=n(36),i=n(37);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),u=r(n),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(56),i=n(25),o=n(33),s={};n(12)(s,n(4)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(7),i=n(8),o=n(31);e.exports=n(11)?Object.defineProperties:function(e,t){i(e);var n,s=o(t),a=s.length,u=0;while(a>u)r.f(e,n=s[u++],t[n]);return e}},function(e,t,n){var r=n(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(15),i=n(40),o=n(90);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),f=o(s,c);if(e&&n!=n){while(c>f)if(a=u[f++],a!=a)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(36),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(92),i=n(93),o=n(17),s=n(15);e.exports=n(53)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,s,a=n(22),u=n(3),c=n(23),f=n(44),l=n(10),h=n(13),p=n(30),d=n(95),y=n(96),v=n(62),g=n(63).set,m=n(98)(),_=n(46),b=n(64),w=n(99),E=n(65),O="Promise",S=u.TypeError,T=u.process,A=T&&T.versions,I=A&&A.v8||"",N=u[O],C="process"==f(T),x=function(){},R=i=_.f,P=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[n(4)("species")]=function(e){e(x,x)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t&&0!==I.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(r){}}(),j=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var n=e._c;m((function(){var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{a?(i||(2==e._h&&D(e),e._h=1),!0===a?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),s=!0)),n===t.promise?c(S("Promise-chain cycle")):(o=j(n))?o.call(n,u,c):u(n)):c(r)}catch(l){f&&!s&&f.exit(),c(l)}};while(n.length>o)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){g.call(u,(function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=b((function(){C?T.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=C||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){g.call(u,(function(){var t;C?T.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=j(e))?m((function(){var r={_w:n,_d:!1};try{t.call(e,c(U,r,1),c(B,r,1))}catch(i){B.call(r,i)}})):(n._v=e,n._s=1,k(n,!1))}catch(r){B.call({_w:n,_d:!1},r)}}};P||(N=function(e){d(this,N,O,"_h"),p(e),r.call(this);try{e(c(U,this,1),c(B,this,1))}catch(t){B.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(100)(N.prototype,{then:function(e,t){var n=R(v(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&k(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(U,e,1),this.reject=c(B,e,1)},_.f=R=function(e){return e===N||e===s?new o(e):i(e)}),l(l.G+l.W+l.F*!P,{Promise:N}),n(33)(N,O),n(101)(O),s=n(1)[O],l(l.S+l.F*!P,O,{reject:function(e){var t=R(this),n=t.reject;return n(e),t.promise}}),l(l.S+l.F*(a||!P),O,{resolve:function(e){return E(a&&this===s?N:this,e)}}),l(l.S+l.F*!(P&&n(66)((function(e){N.all(e)["catch"](x)}))),O,{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,s=1;y(e,!1,(function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then((function(e){u||(u=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=b((function(){y(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(23),i=n(60),o=n(61),s=n(8),a=n(40),u=n(45),c={},f={};t=e.exports=function(e,t,n,l,h){var p,d,y,v,g=h?function(){return e}:u(e),m=r(n,l,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=a(e.length);p>_;_++)if(v=t?m(s(d=e[_])[0],d[1]):m(e[_]),v===c||v===f)return v}else for(y=g.call(e);!(d=y.next()).done;)if(v=i(y,m,d.value,t),v===c||v===f)return v};t.BREAK=c,t.RETURN=f},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(3),i=n(63).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(26)(s);e.exports=function(){var e,t,n,c=function(){var r,i;u&&(r=s.domain)&&r.exit();while(e){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);n=function(){f.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(3),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){var r=n(12);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(3),i=n(1),o=n(7),s=n(11),a=n(4)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(10),i=n(1),o=n(3),s=n(62),a=n(65);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(10),i=n(46),o=n(64);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(1),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(107),e.exports=n(1).Object.keys},function(e,t,n){var r=n(27),i=n(31);n(47)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function i(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}e.exports=i},function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,a=Number(new Date),u=a-(n||a);o.diff=u,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var i=r.formatters[n];if("function"===typeof i){var s=t[c];e=i.call(o,s),t.splice(c,1),c--}return e})),r.formatArgs.call(o,t);var f=o.log||r.log;f.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}function s(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}}function a(){r.enable("")}function u(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=s,r.enabled=u,r.humanize=n(111),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function u(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var u=parseFloat(t[1]),c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function c(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function f(e){var t=Math.abs(e);return t>=o?l(e,t,o,"day"):t>=i?l(e,t,i,"hour"):t>=r?l(e,t,r,"minute"):t>=n?l(e,t,n,"second"):e+" ms"}function l(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return u(e);if("number"===n&&isFinite(e))return t.long?f(e):c(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){e.exports={default:n(113),__esModule:!0}},function(e,t,n){n(114),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){var r=n(27),i=n(59);n(47)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){"use strict";var r=n(74),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(18),a=n(118),u=n(6),c=u.isNullOrUndefined,f=n(0),l=f.extend,h=f.isObject,p=f.isEmpty,d=function(e){return"-MdYXbMMI"!==e.slice(-9)},y=function(e){return{push:e,stats:e,engine:e,api:e,rtm:e}};function v(e){if(d(e))return{};var t=e.slice(0,8).toLowerCase(),n="lncldglobal.com";return{push:"https://"+t+".push."+n,stats:"https://"+t+".stats."+n,engine:"https://"+t+".engine."+n,api:"https://"+t+".api."+n,rtm:"https://"+t+".rtm."+n}}var g=!1,m=!1;s.init=function(e){if(!h(e))return s.init({appId:e,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2]});var t=e.appId,n=e.appKey,r=e.masterKey,i=e.hookKey,o=e.serverURL,u=e.serverURLs,c=void 0===u?o:u,f=e.disableCurrentUser,_=e.production,b=e.realtime;if(m&&console.warn("Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations."),!t)throw new TypeError("appId must be a string");if(!n)throw new TypeError("appKey must be a string");if(r&&console.warn("MasterKey is not supposed to be used at client side."),d(t)&&!c&&p(s._config.serverURLs))throw new TypeError("serverURL option is required for apps from CN region");t!==s._config.applicationId?(s._config.masterKey=r,s._config.hookKey=i):(r&&(s._config.masterKey=r),i&&(s._config.hookKey=i)),s._config.applicationId=t,s._config.applicationKey=n,s.setProduction(_),"undefined"!==typeof f&&(s._config.disableCurrentUser=f);var w=g||"undefined"!==typeof c;if(w||(s._appRouter=new a(s)),s._setServerURLs(l({},v(t),s._config.serverURLs,"string"===typeof c?y(c):c),w),b)s._config.realtime=b;else if(s._sharedConfig.liveQueryRealtime){var E=s._config.serverURLs,O=E.api,S=E.rtm;s._config.realtime=new s._sharedConfig.liveQueryRealtime({appId:t,appKey:n,server:{api:O,RTMRouter:S}})}m=!0},s.setProduction=function(e){c(e)?s._config.production=null:s._config.production=e?1:0},s._setServerURLs=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!==typeof e?l(s._config.serverURLs,e):s._config.serverURLs=y(e),t&&(s._appRouter?s._appRouter.disable():g=!0)},s.setServerURL=function(e){return s._setServerURLs(e)},s.setServerURLs=s.setServerURL,s.keepErrorRawMessage=function(e){s._sharedConfig.keepErrorRawMessage=e},s.setRequestTimeout=function(e){s._config.requestTimeout=e},s.initialize=s.init;var _=function(e){return(0,i.default)(s,e,{get:function(){return s._config[e]},set:function(t){s._config[e]=t}})};["applicationId","applicationKey","masterKey","hookKey"].forEach(_)},function(e,t,n){n(117);var r=n(1).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(10);r(r.S+r.F*!n(11),"Object",{defineProperty:n(7).f})},function(e,t,n){"use strict";var r=n(48),i=n(73);function o(e){var t=this;this.AV=e,this.lockedUntil=0,i.getAsync("serverURLs").then((function(e){if(!t.disabled){if(!e)return t.lock(0);var n=e.serverURLs,r=e.lockedUntil;t.AV._setServerURLs(n,!1),t.lockedUntil=r}})).catch((function(){return t.lock(0)}))}o.prototype.disable=function(){this.disabled=!0},o.prototype.lock=function(e){this.lockedUntil=Date.now()+e},o.prototype.refresh=function(){var e=this;if(!this.disabled&&!(Date.now()<this.lockedUntil)){this.lock(10);var t="https://app-router.com/2/route";return r({method:"get",url:t,query:{appId:this.AV.applicationId}}).then((function(t){if(!e.disabled){var n=t.ttl;if(!n)throw new Error("missing ttl");n*=1e3;var r="https://",o={push:r+t.push_server,stats:r+t.stats_server,engine:r+t.engine_server,api:r+t.api_server};return e.AV._setServerURLs(o,!1),e.lock(n),i.setAsync("serverURLs",{serverURLs:o,lockedUntil:e.lockedUntil},n)}})).catch((function(t){console.warn("refresh server URLs failed: "+t.message),e.lock(600)}))}},e.exports=o},function(e,t,n){n(21),n(34),e.exports=n(49).f("iterator")},function(e,t,n){n(121),n(52),n(126),n(127),e.exports=n(1).Symbol},function(e,t,n){"use strict";var r=n(3),i=n(14),o=n(11),s=n(10),a=n(55),u=n(122).KEY,c=n(24),f=n(42),l=n(33),h=n(32),p=n(4),d=n(49),y=n(50),v=n(123),g=n(124),m=n(8),_=n(13),b=n(27),w=n(15),E=n(39),O=n(25),S=n(56),T=n(125),A=n(77),I=n(75),N=n(7),C=n(31),x=A.f,R=N.f,P=T.f,j=r.Symbol,k=r.JSON,L=k&&k.stringify,M="prototype",D=p("_hidden"),B=p("toPrimitive"),U={}.propertyIsEnumerable,F=f("symbol-registry"),q=f("symbols"),V=f("op-symbols"),Y=Object[M],$="function"==typeof j&&!!I.f,W=r.QObject,z=!W||!W[M]||!W[M].findChild,G=o&&c((function(){return 7!=S(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=x(Y,t);r&&delete Y[t],R(e,t,n),r&&e!==Y&&R(Y,t,r)}:R,H=function(e){var t=q[e]=S(j[M]);return t._k=e,t},K=$&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},J=function(e,t,n){return e===Y&&J(V,t,n),m(e),t=E(t,!0),m(n),i(q,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=S(n,{enumerable:O(0,!1)})):(i(e,D)||R(e,D,O(1,{})),e[D][t]=!0),G(e,t,n)):R(e,t,n)},Q=function(e,t){m(e);var n,r=v(t=w(t)),i=0,o=r.length;while(o>i)J(e,n=r[i++],t[n]);return e},X=function(e,t){return void 0===t?S(e):Q(S(e),t)},Z=function(e){var t=U.call(this,e=E(e,!0));return!(this===Y&&i(q,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(q,e)||i(this,D)&&this[D][e])||t)},ee=function(e,t){if(e=w(e),t=E(t,!0),e!==Y||!i(q,t)||i(V,t)){var n=x(e,t);return!n||!i(q,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},te=function(e){var t,n=P(w(e)),r=[],o=0;while(n.length>o)i(q,t=n[o++])||t==D||t==u||r.push(t);return r},ne=function(e){var t,n=e===Y,r=P(n?V:w(e)),o=[],s=0;while(r.length>s)!i(q,t=r[s++])||n&&!i(Y,t)||o.push(q[t]);return o};$||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===Y&&t.call(V,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),G(this,e,O(1,n))};return o&&z&&G(Y,e,{configurable:!0,set:t}),H(e)},a(j[M],"toString",(function(){return this._k})),A.f=ee,N.f=J,n(76).f=T.f=te,n(51).f=Z,I.f=ne,o&&!n(22)&&a(Y,"propertyIsEnumerable",Z,!0),d.f=function(e){return H(p(e))}),s(s.G+s.W+s.F*!$,{Symbol:j});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)p(re[ie++]);for(var oe=C(p.store),se=0;oe.length>se;)y(oe[se++]);s(s.S+s.F*!$,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=j(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!$,"Object",{create:X,defineProperty:J,defineProperties:Q,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var ae=c((function(){I.f(1)}));s(s.S+s.F*ae,"Object",{getOwnPropertySymbols:function(e){return I.f(b(e))}}),k&&s(s.S+s.F*(!$||c((function(){var e=j();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){var t,n,r=[e],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,L.apply(k,r)}}),j[M][B]||n(12)(j[M],B,j[M].valueOf),l(j,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(32)("meta"),i=n(13),o=n(14),s=n(7).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(24)((function(){return u(Object.preventExtensions({}))})),f=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},l=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[r].i},h=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[r].w},p=function(e){return c&&d.NEED&&u(e)&&!o(e,r)&&f(e),e},d=e.exports={KEY:r,NEED:!1,fastKey:l,getWeak:h,onFreeze:p}},function(e,t,n){var r=n(31),i=n(75),o=n(51);e.exports=function(e){var t=r(e),n=i.f;if(n){var s,a=n(e),u=o.f,c=0;while(a.length>c)u.call(e,s=a[c++])&&t.push(s)}return t}},function(e,t,n){var r=n(26);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15),i=n(76).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},function(e,t,n){n(50)("asyncIterator")},function(e,t,n){n(50)("observable")},function(e,t,n){"use strict";var r;e.exports.timeout=function(e,t){var n,i=new r;return Promise.race([e,new Promise((function(e,r){n=setTimeout((function(){r(i)}),t)}))]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))};r=e.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},r.prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){var t=/\s+/,n=Array.prototype.slice;e.Events={on:function(e,n,r){var i,o,s,a,u;if(!n)return this;e=e.split(t),i=this._callbacks||(this._callbacks={}),o=e.shift();while(o)u=i[o],s=u?u.tail:{},s.next=a={},s.context=r,s.callback=n,i[o]={tail:a,next:u?u.next:s},o=e.shift();return this},off:function(e,n,i){var o,s,a,u,c,f;if(s=this._callbacks){if(!(e||n||i))return delete this._callbacks,this;e=e?e.split(t):r.keys(s),o=e.shift();while(o)if(a=s[o],delete s[o],a&&(n||i)){u=a.tail,a=a.next;while(a!==u)c=a.callback,f=a.context,(n&&c!==n||i&&f!==i)&&this.on(o,c,f),a=a.next;o=e.shift()}return this}},trigger:function(e){var r,i,o,s,a,u,c;if(!(o=this._callbacks))return this;u=o.all,e=e.split(t),c=n.call(arguments,1),r=e.shift();while(r){if(i=o[r],i){s=i.tail;while((i=i.next)!==s)i.callback.apply(i.context||this,c)}if(i=u,i){s=i.tail,a=[r].concat(c);while((i=i.next)!==s)i.callback.apply(i.context||this,a)}r=e.shift()}return this}},e.Events.bind=e.Events.on,e.Events.unbind=e.Events.off}},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0);e.exports=function(e){e.GeoPoint=function(t,n){s.isArray(t)?(e.GeoPoint._validate(t[0],t[1]),this.latitude=t[0],this.longitude=t[1]):s.isObject(t)?(e.GeoPoint._validate(t.latitude,t.longitude),this.latitude=t.latitude,this.longitude=t.longitude):s.isNumber(t)&&s.isNumber(n)?(e.GeoPoint._validate(t,n),this.latitude=t,this.longitude=n):(this.latitude=0,this.longitude=0);var r=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",(function(){return r._latitude})),this.__defineGetter__("longitude",(function(){return r._longitude})),this.__defineSetter__("latitude",(function(t){e.GeoPoint._validate(t,r.longitude),r._latitude=t})),this.__defineSetter__("longitude",(function(t){e.GeoPoint._validate(r.latitude,t),r._longitude=t})))},e.GeoPoint._validate=function(e,t){if(e<-90)throw new Error("AV.GeoPoint latitude "+e+" < -90.0.");if(e>90)throw new Error("AV.GeoPoint latitude "+e+" > 90.0.");if(t<-180)throw new Error("AV.GeoPoint longitude "+t+" < -180.0.");if(t>180)throw new Error("AV.GeoPoint longitude "+t+" > 180.0.")},e.GeoPoint.current=function(){return new i.default((function(t,n){navigator.geolocation.getCurrentPosition((function(n){t(new e.GeoPoint({latitude:n.coords.latitude,longitude:n.coords.longitude}))}),n)}))},s.extend(e.GeoPoint.prototype,{toJSON:function(){return e.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var t=Math.PI/180,n=this.latitude*t,r=this.longitude*t,i=e.latitude*t,o=e.longitude*t,s=n-i,a=r-o,u=Math.sin(s/2),c=Math.sin(a/2),f=u*u+Math.cos(n)*Math.cos(i)*c*c;return f=Math.min(1,f),2*Math.asin(Math.sqrt(f))},kilometersTo:function(e){return 6371*this.radiansTo(e)},milesTo:function(e){return 3958.8*this.radiansTo(e)}})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){var t="*";e.ACL=function(t){var n=this;if(n.permissionsById={},r.isObject(t))if(t instanceof e.User)n.setReadAccess(t,!0),n.setWriteAccess(t,!0);else{if(r.isFunction(t))throw new Error("AV.ACL() called with a function.  Did you forget ()?");e._objectEach(t,(function(t,i){if(!r.isString(i))throw new Error("Tried to create an ACL with an invalid userId.");n.permissionsById[i]={},e._objectEach(t,(function(e,t){if("read"!==t&&"write"!==t)throw new Error("Tried to create an ACL with an invalid permission type.");if(!r.isBoolean(e))throw new Error("Tried to create an ACL with an invalid permission value.");n.permissionsById[i][t]=e}))}))}},e.ACL.prototype.toJSON=function(){return r.clone(this.permissionsById)},e.ACL.prototype._setAccess=function(t,n,i){if(n instanceof e.User?n=n.id:n instanceof e.Role&&(n="role:"+n.getName()),!r.isString(n))throw new Error("userId must be a string.");if(!r.isBoolean(i))throw new Error("allowed must be either true or false.");var o=this.permissionsById[n];if(!o){if(!i)return;o={},this.permissionsById[n]=o}i?this.permissionsById[n][t]=!0:(delete o[t],r.isEmpty(o)&&delete this.permissionsById[n])},e.ACL.prototype._getAccess=function(t,n){n instanceof e.User?n=n.id:n instanceof e.Role&&(n="role:"+n.getName());var r=this.permissionsById[n];return!!r&&!!r[t]},e.ACL.prototype.setReadAccess=function(e,t){this._setAccess("read",e,t)},e.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)},e.ACL.prototype.setWriteAccess=function(e,t){this._setAccess("write",e,t)},e.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)},e.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess(t,e)},e.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(t)},e.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess(t,e)},e.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(t)},e.ACL.prototype.getRoleReadAccess=function(t){if(t instanceof e.Role&&(t=t.getName()),r.isString(t))return this.getReadAccess("role:"+t);throw new Error("role must be a AV.Role or a String")},e.ACL.prototype.getRoleWriteAccess=function(t){if(t instanceof e.Role&&(t=t.getName()),r.isString(t))return this.getWriteAccess("role:"+t);throw new Error("role must be a AV.Role or a String")},e.ACL.prototype.setRoleReadAccess=function(t,n){if(t instanceof e.Role&&(t=t.getName()),!r.isString(t))throw new Error("role must be a AV.Role or a String");this.setReadAccess("role:"+t,n)},e.ACL.prototype.setRoleWriteAccess=function(t,n){if(t instanceof e.Role&&(t=t.getName()),!r.isString(t))throw new Error("role must be a AV.Role or a String");this.setWriteAccess("role:"+t,n)}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){e.Op=function(){this._initialize.apply(this,arguments)},r.extend(e.Op.prototype,{_initialize:function(){}}),r.extend(e.Op,{_extend:e._extend,_opDecoderMap:{},_registerDecoder:function(t,n){e.Op._opDecoderMap[t]=n},_decode:function(t){var n=e.Op._opDecoderMap[t.__op];return n?n(t):void 0}}),e.Op._registerDecoder("Batch",(function(t){var n=null;return e._arrayEach(t.ops,(function(t){t=e.Op._decode(t),n=t._mergeWithPrevious(n)})),n})),e.Op.Set=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return e._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}}),e.Op._UNSET={},e.Op.Unset=e.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(t){return e.Op._UNSET}}),e.Op._registerDecoder("Delete",(function(t){return new e.Op.Unset})),e.Op.Increment=e.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.amount());if(t instanceof e.Op.Set)return new e.Op.Set(t.value()+this.amount());if(t instanceof e.Op.Increment)return new e.Op.Increment(this.amount()+t.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e?e+this.amount():this.amount()}}),e.Op._registerDecoder("Increment",(function(t){return new e.Op.Increment(t.amount)})),e.Op.BitAnd=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(0);if(t instanceof e.Op.Set)return new e.Op.Set(t.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e&this.value()}}),e.Op._registerDecoder("BitAnd",(function(t){return new e.Op.BitAnd(t.value)})),e.Op.BitOr=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.value());if(t instanceof e.Op.Set)return new e.Op.Set(t.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e|this.value()}}),e.Op._registerDecoder("BitOr",(function(t){return new e.Op.BitOr(t.value)})),e.Op.BitXor=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.value());if(t instanceof e.Op.Set)return new e.Op.Set(t.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e^this.value()}}),e.Op._registerDecoder("BitXor",(function(t){return new e.Op.BitXor(t.value)})),e.Op.Add=e.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:e._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.objects());if(t instanceof e.Op.Set)return new e.Op.Set(this._estimate(t.value()));if(t instanceof e.Op.Add)return new e.Op.Add(t.objects().concat(this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e?e.concat(this.objects()):r.clone(this.objects())}}),e.Op._registerDecoder("Add",(function(t){return new e.Op.Add(e._decode(t.objects))})),e.Op.AddUnique=e.Op._extend({_initialize:function(e){this._objects=r.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:e._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.objects());if(t instanceof e.Op.Set)return new e.Op.Set(this._estimate(t.value()));if(t instanceof e.Op.AddUnique)return new e.Op.AddUnique(this._estimate(t.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){if(t){var n=r.clone(t);return e._arrayEach(this.objects(),(function(t){if(t instanceof e.Object&&t.id){var i=r.find(n,(function(n){return n instanceof e.Object&&n.id===t.id}));if(i){var o=r.indexOf(n,i);n[o]=t}else n.push(t)}else r.contains(n,t)||n.push(t)})),n}return r.clone(this.objects())}}),e.Op._registerDecoder("AddUnique",(function(t){return new e.Op.AddUnique(e._decode(t.objects))})),e.Op.Remove=e.Op._extend({_initialize:function(e){this._objects=r.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:e._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return t;if(t instanceof e.Op.Set)return new e.Op.Set(this._estimate(t.value()));if(t instanceof e.Op.Remove)return new e.Op.Remove(r.union(t.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){if(t){var n=r.difference(t,this.objects());return e._arrayEach(this.objects(),(function(t){t instanceof e.Object&&t.id&&(n=r.reject(n,(function(n){return n instanceof e.Object&&n.id===t.id})))})),n}return[]}}),e.Op._registerDecoder("Remove",(function(t){return new e.Op.Remove(e._decode(t.objects))})),e.Op.Relation=e.Op._extend({_initialize:function(t,n){this._targetClassName=null;var i=this,o=function(t){if(t instanceof e.Object){if(!t.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(i._targetClassName||(i._targetClassName=t.className),i._targetClassName!==t.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+i._targetClassName+" and "+t.className+".");return t.id}return t};this.relationsToAdd=r.uniq(r.map(t,o)),this.relationsToRemove=r.uniq(r.map(n,o))},added:function(){var t=this;return r.map(this.relationsToAdd,(function(n){var r=e.Object._create(t._targetClassName);return r.id=n,r}))},removed:function(){var t=this;return r.map(this.relationsToRemove,(function(n){var r=e.Object._create(t._targetClassName);return r.id=n,r}))},toJSON:function(){var e=null,t=null,n=this,i=function(e){return{__type:"Pointer",className:n._targetClassName,objectId:e}},o=null;return this.relationsToAdd.length>0&&(o=r.map(this.relationsToAdd,i),e={__op:"AddRelation",objects:o}),this.relationsToRemove.length>0&&(o=r.map(this.relationsToRemove,i),t={__op:"RemoveRelation",objects:o}),e&&t?{__op:"Batch",ops:[e,t]}:e||t||{}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(t instanceof e.Op.Relation){if(t._targetClassName&&t._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+t._targetClassName+", but "+this._targetClassName+" was passed in.");var n=r.union(r.difference(t.relationsToAdd,this.relationsToRemove),this.relationsToAdd),i=r.union(r.difference(t.relationsToRemove,this.relationsToAdd),this.relationsToRemove),o=new e.Op.Relation(n,i);return o._targetClassName=this._targetClassName,o}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t,n,r){if(t){if(t instanceof e.Relation){if(this._targetClassName)if(t.targetClassName){if(t.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+t.targetClassName+", but a "+this._targetClassName+" was passed in.")}else t.targetClassName=this._targetClassName;return t}throw new Error("Op is invalid after previous op.")}var i=new e.Relation(n,r);i.targetClassName=this._targetClassName}}),e.Op._registerDecoder("AddRelation",(function(t){return new e.Op.Relation(e._decode(t.objects),[])})),e.Op._registerDecoder("RemoveRelation",(function(t){return new e.Op.Relation([],e._decode(t.objects))}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){e.Relation=function(e,t){if(!r.isString(t))throw new TypeError("key must be a string");this.parent=e,this.key=t,this.targetClassName=null},e.Relation.reverseQuery=function(t,n,r){var i=new e.Query(t);return i.equalTo(n,r._toPointer()),i},r.extend(e.Relation.prototype,{_ensureParentAndKey:function(e,t){if(this.parent=this.parent||e,this.key=this.key||t,this.parent!==e)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==t)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(t){r.isArray(t)||(t=[t]);var n=new e.Op.Relation(t,[]);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},remove:function(t){r.isArray(t)||(t=[t]);var n=new e.Op.Relation([],t);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var t,n;return this.targetClassName?(t=e.Object._getSubclass(this.targetClassName),n=new e.Query(t)):(t=e.Object._getSubclass(this.parent.className),n=new e.Query(t),n._defaultParams.redirectClassNameForKey=this.key),n._addCondition("$relatedTo","object",this.parent._toPointer()),n._addCondition("$relatedTo","key",this.key),n}})}},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(135),u=n(136),c=n(137),f=n(16),l=n(5)._request,h=n(6),p=h.tap,d=h.transformFetchOptions,y=n(19)("leancloud:file"),v=n(141);e.exports=function(e){var t=function(e){return s.isString(e)?e.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]:""},n=function(e){if(e<26)return String.fromCharCode(65+e);if(e<52)return String.fromCharCode(e-26+97);if(e<62)return String.fromCharCode(e-52+48);if(62===e)return"+";if(63===e)return"/";throw new Error("Tried to encode large digit "+e+" in base64.")},r=function(e){var t=[];return t.length=Math.ceil(e.length/3),s.times(t.length,(function(r){var i=e[3*r],o=e[3*r+1]||0,s=e[3*r+2]||0,a=3*r+1<e.length,u=3*r+2<e.length;t[r]=[n(i>>2&63),n(i<<4&48|o>>4&15),a?n(o<<2&60|s>>6&3):"=",u?n(63&s):"="].join("")})),t.join("")};e.File=function(n,i,o){if(this.attributes={name:n,url:"",metaData:{},base64:""},s.isString(i))throw new TypeError("Creating an AV.File from a String is not yet supported.");s.isArray(i)&&(this.attributes.metaData.size=i.length,i={base64:r(i)}),this._extName="",this._data=i,this._uploadHeaders={},i&&i.blob&&"string"===typeof i.blob.uri&&(this._extName=t(i.blob.uri)),"undefined"!==typeof Blob&&i instanceof Blob&&(i.size&&(this.attributes.metaData.size=i.size),i.name&&(this._extName=t(i.name)));var a=void 0;if(i&&i.owner)a=i.owner;else if(!e._config.disableCurrentUser)try{a=e.User.current()}catch(u){if("SYNC_API_NOT_AVAILABLE"!==u.code)throw u}this.attributes.metaData.owner=a?a.id:"unknown",this.set("mime_type",o)},e.File.withURL=function(t,n,r,i){if(!t||!n)throw new Error("Please provide file name and url");var o=new e.File(t,null,i);if(r)for(var s in r)o.attributes.metaData[s]||(o.attributes.metaData[s]=r[s]);return o.attributes.url=n,o.attributes.metaData.__source="external",o.attributes.metaData.size=0,o},e.File.createWithoutData=function(t){if(!t)throw new TypeError("The objectId must be provided");var n=new e.File;return n.id=t,n},s.extend(e.File.prototype,{className:"_File",_toFullJSON:function(t){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=s.clone(this.attributes);return e._objectEach(i,(function(n,o){i[o]=e._encode(n,t,void 0,r)})),e._objectEach(this._operations,(function(e,t){i[t]=e})),s.has(this,"id")&&(i.objectId=this.id),s(["createdAt","updatedAt"]).each((function(e){if(s.has(n,e)){var t=n[e];i[e]=s.isDate(t)?t.toJSON():t}})),r&&(i.__type="File"),i},toFullJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(e)},toJSON:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(n,!1)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},getACL:function(){return this._acl},setACL:function(t){return t instanceof e.ACL?(this._acl=t,this):new f(f.OTHER_CAUSE,"ACL must be a AV.ACL.")},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(e){switch(e){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[e];default:return this.attributes.metaData[e]}},set:function(){for(var e=this,t=function(t,n){switch(t){case"name":case"url":case"mime_type":case"base64":case"metaData":e.attributes[t]=n;break;default:e.attributes.metaData[t]=n;break}},n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];switch(r.length){case 1:for(var o in r[0])t(o,r[0][o]);break;case 2:t(r[0],r[1]);break}return this},setUploadHeader:function(e,t){return this._uploadHeaders[e]=t,this},metaData:function(e,t){return e&&t?(this.attributes.metaData[e]=t,this):e&&!t?this.attributes.metaData[e]:this.attributes.metaData},thumbnailURL:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"png",o=this.attributes.url;if(!o)throw new Error("Invalid url.");if(!e||!t||e<=0||t<=0)throw new Error("Invalid width or height value.");if(n<=0||n>100)throw new Error("Invalid quality value.");var s=r?2:1;return o+"?imageView/"+s+"/w/"+e+"/h/"+t+"/q/"+n+"/format/"+i},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(e){if(!this.id)return i.default.reject(new Error("The file id does not eixst."));var t=l("files",null,this.id,"DELETE",null,e);return t},_fileToken:function(e,n){var r=this.attributes.name,i=t(r);!i&&this._extName&&(r+=this._extName,i=this._extName);var o={name:r,keep_file_name:n.keepFileName,ACL:this._acl,mime_type:e,metaData:this.attributes.metaData};return l("fileTokens",null,null,"POST",o,n)},save:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.id)throw new Error("File is already saved.");if(!this._previousSave)if(this._data){var n=this.get("mime_type");this._previousSave=this._fileToken(n,t).then((function(r){return r.mime_type&&(n=r.mime_type,e.set("mime_type",n)),e._token=r.token,i.default.resolve().then((function(){var t=e._data;if(t&&t.base64)return v(t.base64,n);if(t&&t.blob)return!t.blob.type&&n&&(t.blob.type=n),t.blob.name||(t.blob.name=e.get("name")),t.blob;if("undefined"!==typeof Blob&&t instanceof Blob)return t;throw new TypeError("malformed file data")})).then((function(n){var i=s.extend({},t);switch(t.onprogress&&(i.onprogress=function(e){if("download"!==e.direction)return t.onprogress(e)}),r.provider){case"s3":return c(r,n,e,i);case"qcloud":return a(r,n,e,i);case"qiniu":default:return u(r,n,e,i)}})).then(p((function(){return e._callback(!0)})),(function(t){throw e._callback(!1),t}))}))}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var r={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=l("files",null,null,"post",r,t).then((function(t){return e.id=t.objectId,e}))}return this._previousSave},_callback:function(e){l("fileCallback",null,null,"post",{token:this._token,result:e}).catch(y),delete this._token,delete this._data},fetch:function(e,t){var n=l("files",null,this.id,"GET",d(e),t);return n.then(this._finishFetch.bind(this))},_finishFetch:function(t){var n=e.Object.prototype.parse(t);return n.attributes={name:n.name,url:n.url,mime_type:n.mime_type,bucket:n.bucket},n.attributes.metaData=n.metaData||{},n.id=n.objectId,delete n.objectId,delete n.metaData,delete n.url,delete n.name,delete n.mime_type,delete n.bucket,s.extend(this,n),this}})}},function(e,t,n){"use strict";var r=n(20),i=r.getAdapter,o=n(19)("cos");e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.attributes.url=e.url,n._bucket=e.bucket,n.id=e.objectId;var s=e.upload_url+"?sign="+encodeURIComponent(e.token),a={field:"fileContent",data:t,name:n.attributes.name},u={headers:n._uploadHeaders,data:{op:"upload"},onprogress:r.onprogress};o("url: %s, file: %o, options: %o",s,a,u);var c=i("upload");return c(s,a,u).then((function(e){if(o(e.status,e.data),!1===e.ok){var t=new Error(e.status);throw t.response=e,t}return n}),(function(e){var t=e.response;throw t&&(o(t.status,t.data),e.statusCode=t.status,e.response=t.data),e}))}},function(e,t,n){"use strict";var r=n(9),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(20),a=s.getAdapter,u=n(19)("leancloud:qiniu");e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.attributes.url=e.url,n._bucket=e.bucket,n.id=e.objectId;var o=e.token,s=e.upload_url||"https://upload.qiniup.com",c={field:"file",data:t,name:n.attributes.name},f={headers:n._uploadHeaders,data:{name:n.attributes.name,key:e.key,token:o},onprogress:r.onprogress};u("url: %s, file: %o, options: %o",s,c,f);var l=a("upload");return l(s,c,f).then((function(e){if(u(e.status,e.data),!1===e.ok){var t=e.status;e.data&&(t=e.data.error?e.data.error:(0,i.default)(e.data));var r=new Error(t);throw r.response=e,r}return n}),(function(e){var t=e.response;throw t&&(u(t.status,t.data),e.statusCode=t.status,e.response=t.data),e}))}},function(e,t,n){"use strict";var r=n(0),i=n(48);e.exports=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n.attributes.url=e.url,n._bucket=e.bucket,n.id=e.objectId,i({url:e.upload_url,method:"PUT",data:t,headers:r.extend({"Content-Type":n.get("mime_type"),"Cache-Control":"public, max-age=31536000"},n._uploadHeaders),onprogress:o.onprogress}).then((function(){return n}))}},function(e,t,n){(function(){var t=n(139),r=n(78).utf8,i=n(140),o=n(78).bin,s=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var a=t.bytesToWords(e),u=8*e.length,c=1732584193,f=-271733879,l=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[u>>>5]|=128<<u%32,a[14+(u+64>>>9<<4)]=u;var d=s._ff,y=s._gg,v=s._hh,g=s._ii;for(p=0;p<a.length;p+=16){var m=c,_=f,b=l,w=h;c=d(c,f,l,h,a[p+0],7,-680876936),h=d(h,c,f,l,a[p+1],12,-389564586),l=d(l,h,c,f,a[p+2],17,606105819),f=d(f,l,h,c,a[p+3],22,-1044525330),c=d(c,f,l,h,a[p+4],7,-176418897),h=d(h,c,f,l,a[p+5],12,1200080426),l=d(l,h,c,f,a[p+6],17,-1473231341),f=d(f,l,h,c,a[p+7],22,-45705983),c=d(c,f,l,h,a[p+8],7,1770035416),h=d(h,c,f,l,a[p+9],12,-1958414417),l=d(l,h,c,f,a[p+10],17,-42063),f=d(f,l,h,c,a[p+11],22,-1990404162),c=d(c,f,l,h,a[p+12],7,1804603682),h=d(h,c,f,l,a[p+13],12,-40341101),l=d(l,h,c,f,a[p+14],17,-1502002290),f=d(f,l,h,c,a[p+15],22,1236535329),c=y(c,f,l,h,a[p+1],5,-165796510),h=y(h,c,f,l,a[p+6],9,-1069501632),l=y(l,h,c,f,a[p+11],14,643717713),f=y(f,l,h,c,a[p+0],20,-373897302),c=y(c,f,l,h,a[p+5],5,-701558691),h=y(h,c,f,l,a[p+10],9,38016083),l=y(l,h,c,f,a[p+15],14,-660478335),f=y(f,l,h,c,a[p+4],20,-405537848),c=y(c,f,l,h,a[p+9],5,568446438),h=y(h,c,f,l,a[p+14],9,-1019803690),l=y(l,h,c,f,a[p+3],14,-187363961),f=y(f,l,h,c,a[p+8],20,1163531501),c=y(c,f,l,h,a[p+13],5,-1444681467),h=y(h,c,f,l,a[p+2],9,-51403784),l=y(l,h,c,f,a[p+7],14,1735328473),f=y(f,l,h,c,a[p+12],20,-1926607734),c=v(c,f,l,h,a[p+5],4,-378558),h=v(h,c,f,l,a[p+8],11,-2022574463),l=v(l,h,c,f,a[p+11],16,1839030562),f=v(f,l,h,c,a[p+14],23,-35309556),c=v(c,f,l,h,a[p+1],4,-1530992060),h=v(h,c,f,l,a[p+4],11,1272893353),l=v(l,h,c,f,a[p+7],16,-155497632),f=v(f,l,h,c,a[p+10],23,-1094730640),c=v(c,f,l,h,a[p+13],4,681279174),h=v(h,c,f,l,a[p+0],11,-358537222),l=v(l,h,c,f,a[p+3],16,-722521979),f=v(f,l,h,c,a[p+6],23,76029189),c=v(c,f,l,h,a[p+9],4,-640364487),h=v(h,c,f,l,a[p+12],11,-421815835),l=v(l,h,c,f,a[p+15],16,530742520),f=v(f,l,h,c,a[p+2],23,-995338651),c=g(c,f,l,h,a[p+0],6,-198630844),h=g(h,c,f,l,a[p+7],10,1126891415),l=g(l,h,c,f,a[p+14],15,-1416354905),f=g(f,l,h,c,a[p+5],21,-57434055),c=g(c,f,l,h,a[p+12],6,1700485571),h=g(h,c,f,l,a[p+3],10,-1894986606),l=g(l,h,c,f,a[p+10],15,-1051523),f=g(f,l,h,c,a[p+1],21,-2054922799),c=g(c,f,l,h,a[p+8],6,1873313359),h=g(h,c,f,l,a[p+15],10,-30611744),l=g(l,h,c,f,a[p+6],15,-1560198380),f=g(f,l,h,c,a[p+13],21,1309151649),c=g(c,f,l,h,a[p+4],6,-145523070),h=g(h,c,f,l,a[p+11],10,-1120210379),l=g(l,h,c,f,a[p+2],15,718787259),f=g(f,l,h,c,a[p+9],21,-343485551),c=c+m>>>0,f=f+_>>>0,l=l+b>>>0,h=h+w>>>0}return t.endian([c,f,l,h])};s._ff=function(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._gg=function(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._hh=function(e,t,n,r,i,o,s){var a=e+(t^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._ii=function(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(s(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}})()},function(e,t){(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n})()},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=function(e,t){var n;e.indexOf("base64")<0?n=atob(e):e.split(",")[0].indexOf("base64")>=0?(t=t||e.split(",")[0].split(":")[1].split(";")[0],n=atob(e.split(",")[1])):n=unescape(e.split(",")[1]);for(var r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return new Blob([r],{type:t})};e.exports=r},function(e,t,n){"use strict";var r=n(143),i=l(r),o=n(9),s=l(o),a=n(146),u=l(a),c=n(2),f=l(c);function l(e){return e&&e.__esModule?e:{default:e}}var h=n(0),p=n(16),d=n(5),y=d._request,v=n(6),g=v.isNullOrUndefined,m=v.ensureArray,_=v.transformFetchOptions,b=v.setValue,w=v.findValue,E=v.isPlainObject,O=v.continueWhile,S=function e(t){return h.isArray(t)?t.map(e):E(t)?h.mapObject(t,e):h.isObject(t)&&t._toPointer?t._toPointer():t},T=["objectId","createdAt","updatedAt"],A=function(e){if(-1!==T.indexOf(e))throw new Error("key["+e+"] is reserved")},I=function(e){var t=h.find(e,(function(e){return e instanceof Error}));if(!t)return e;var n=new p(t.code,t.message);throw n.results=e,n};function N(e,t){return e&&e[t]?h.isFunction(e[t])?e[t]():e[t]:null}e.exports=function(e){e.Object=function(t,n){if(h.isString(t))return e.Object._create.apply(this,arguments);t=t||{},n&&n.parse&&(t=this.parse(t),t=this._mergeMagicFields(t));var r=N(this,"defaults");r&&(t=h.extend({},r,t)),n&&n.collection&&(this.collection=n.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=h.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=h.clone(this.attributes),this.initialize.apply(this,arguments)},e.Object.saveAll=function(t,n){return e.Object._deepSaveAsync(t,null,n)},e.Object.fetchAll=function(e,t){return f.default.resolve().then((function(){return y("batch",null,null,"POST",{requests:h.map(e,(function(e){if(!e.className)throw new Error("object must have className to fetch");if(!e.id)throw new Error("object must have id to fetch");if(e.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:"/1.1/classes/"+e.className+"/"+e.id}}))},t)})).then((function(t){var n=h.map(e,(function(e,n){if(t[n].success){var r=e.parse(t[n].success);return e._cleanupUnsetKeys(r),e._finishFetch(r),e}return null===t[n].success?new p(p.OBJECT_NOT_FOUND,"Object not found."):new p(t[n].error.code,t[n].error.error)}));return I(n)}))},h.extend(e.Object.prototype,e.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(e){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!h.isBoolean(e))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=e},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt},getUpdatedAt:function(){return this.updatedAt},toJSON:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(n,!1)},toFullJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(e)},_toFullJSON:function(t){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=h.clone(this.attributes);if(h.isArray(t))var o=t.concat(this);return e._objectEach(i,(function(t,n){i[n]=e._encode(t,o,void 0,r)})),e._objectEach(this._operations,(function(e,t){i[t]=e})),h.has(this,"id")&&(i.objectId=this.id),h(["createdAt","updatedAt"]).each((function(e){if(h.has(n,e)){var t=n[e];i[e]=h.isDate(t)?t.toJSON():t}})),r&&(i.__type="Object",h.isArray(t)&&t.length&&(i.__type="Pointer"),i.className=this.className),i},_refreshCache:function(){var t=this;t._refreshingCache||(t._refreshingCache=!0,e._objectEach(this.attributes,(function(n,r){n instanceof e.Object?n._refreshCache():h.isObject(n)&&t._resetCacheForKey(r)&&t.set(r,new e.Op.Set(n),{silent:!0})})),delete t._refreshingCache)},dirty:function(e){this._refreshCache();var t=h.last(this._opSetQueue);return e?!!t[e]:!this.id||h.keys(t).length>0},dirtyKeys:function(){this._refreshCache();var e=h.last(this._opSetQueue);return h.keys(e)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){switch(e){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[e];default:return this.attributes[e]}},relation:function(t){var n=this.get(t);if(n){if(!(n instanceof e.Relation))throw new Error("Called relation() on non-relation field "+t);return n._ensureParentAndKey(this,t),n}return new e.Relation(this,t)},escape:function(e){var t=this._escapedAttributes[e];if(t)return t;var n,r=this.attributes[e];return n=g(r)?"":h.escape(r.toString()),this._escapedAttributes[e]=n,n},has:function(e){return!g(this.attributes[e])},_mergeMagicFields:function(t){var n=this,r=["objectId","createdAt","updatedAt"];return e._arrayEach(r,(function(r){t[r]&&("objectId"===r?n.id=t[r]:"createdAt"!==r&&"updatedAt"!==r||h.isDate(t[r])?n[r]=t[r]:n[r]=e._parseDate(t[r]),delete t[r])})),t},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var t=h.first(this._opSetQueue);this._opSetQueue=h.rest(this._opSetQueue);var n=h.first(this._opSetQueue);e._objectEach(t,(function(e,r){var i=t[r],o=n[r];i&&o?n[r]=o._mergeWithPrevious(i):i&&(n[r]=i)})),this._saving=this._saving-1},_finishSave:function(t){var n={};e._traverse(this.attributes,(function(t){t instanceof e.Object&&t.id&&t._hasData&&(n[t.id]=t)}));var r=h.first(this._opSetQueue);this._opSetQueue=h.rest(this._opSetQueue),this._applyOpSet(r,this._serverData),this._mergeMagicFields(t);var i=this;e._objectEach(t,(function(t,r){i._serverData[r]=e._decode(t,r);var o=e._traverse(i._serverData[r],(function(t){if(t instanceof e.Object&&n[t.id])return n[t.id]}));o&&(i._serverData[r]=o)})),this._rebuildAllEstimatedData();var o=this._opSetQueue.map(h.clone);this._refreshCache(),this._opSetQueue=o,this._saving=this._saving-1},_finishFetch:function(t,n){this._opSetQueue=[{}],this._mergeMagicFields(t);var r=this;e._objectEach(t,(function(t,n){r._serverData[n]=e._decode(t,n)})),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=n},_applyOpSet:function(t,n){var r=this;e._objectEach(t,(function(t,i){var o=w(n,i),s=(0,u.default)(o,3),a=s[0],c=s[1],f=s[2];b(n,i,t._estimate(a,r,i)),c&&c[f]===e.Op._UNSET&&delete c[f]}))},_resetCacheForKey:function(t){var n=this.attributes[t];if(h.isObject(n)&&!(n instanceof e.Object)&&!(n instanceof e.File)){var r=(0,s.default)(S(n));if(this._hashedJSON[t]!==r){var i=!!this._hashedJSON[t];return this._hashedJSON[t]=r,i}}return!1},_rebuildEstimatedDataForKey:function(t){var n=this;delete this.attributes[t],this._serverData[t]&&(this.attributes[t]=this._serverData[t]),e._arrayEach(this._opSetQueue,(function(r){var i=r[t];if(i){var o=w(n.attributes,t),s=(0,u.default)(o,4),a=s[0],c=s[1],f=s[2],l=s[3];b(n.attributes,t,i._estimate(a,n,t)),c&&c[f]===e.Op._UNSET&&delete c[f],n._resetCacheForKey(l)}}))},_rebuildAllEstimatedData:function(){var t=this,n=h.clone(this.attributes);this.attributes=h.clone(this._serverData),e._arrayEach(this._opSetQueue,(function(n){t._applyOpSet(n,t.attributes),e._objectEach(n,(function(e,n){t._resetCacheForKey(n)}))})),e._objectEach(n,(function(e,n){t.attributes[n]!==e&&t.trigger("change:"+n,t,t.attributes[n],{})})),e._objectEach(this.attributes,(function(e,r){h.has(n,r)||t.trigger("change:"+r,t,e,{})}))},set:function(t,n,r){var i;if(h.isObject(t)||g(t)?(i=h.mapObject(t,(function(t,n){return A(n),e._decode(t,n)})),r=n):(i={},A(t),i[t]=e._decode(n,t)),r=r||{},!i)return this;i instanceof e.Object&&(i=i.attributes),r.unset&&e._objectEach(i,(function(t,n){i[n]=new e.Op.Unset}));var o=h.clone(i),s=this;e._objectEach(o,(function(t,n){t instanceof e.Op&&(o[n]=t._estimate(s.attributes[n],s,n),o[n]===e.Op._UNSET&&delete o[n])})),this._validate(i,r),r.changes={};var a=this._escapedAttributes;return e._arrayEach(h.keys(i),(function(t){var n=i[t];n instanceof e.Relation&&(n.parent=s),n instanceof e.Op||(n=new e.Op.Set(n));var o=!0;n instanceof e.Op.Set&&h.isEqual(s.attributes[t],n.value)&&(o=!1),o&&(delete a[t],r.silent?s._silent[t]=!0:r.changes[t]=!0);var u=h.last(s._opSetQueue);u[t]=n._mergeWithPrevious(u[t]),s._rebuildEstimatedDataForKey(t),o?(s.changed[t]=s.attributes[t],r.silent||(s._pending[t]=!0)):(delete s.changed[t],delete s._pending[t])})),r.silent||this.change(r),this},unset:function(e,t){return t=t||{},t.unset=!0,this.set(e,null,t)},increment:function(t,n){return(h.isUndefined(n)||h.isNull(n))&&(n=1),this.set(t,new e.Op.Increment(n))},add:function(t,n){return this.set(t,new e.Op.Add(m(n)))},addUnique:function(t,n){return this.set(t,new e.Op.AddUnique(m(n)))},remove:function(t,n){return this.set(t,new e.Op.Remove(m(n)))},bitAnd:function(t,n){return this.set(t,new e.Op.BitAnd(n))},bitOr:function(t,n){return this.set(t,new e.Op.BitOr(n))},bitXor:function(t,n){return this.set(t,new e.Op.BitXor(n))},op:function(e){return h.last(this._opSetQueue)[e]},clear:function(e){e=e||{},e.unset=!0;var t=h.extend(this.attributes,this._operations);return this.set(t,e)},revert:function(e){var t=h.last(this._opSetQueue),n=m(e||h.keys(t));return n.forEach((function(e){delete t[e]})),this._rebuildAllEstimatedData(),this},_getSaveJSON:function(){var t=h.clone(h.first(this._opSetQueue));return e._objectEach(t,(function(e,n){t[n]=e.toJSON()})),t},_canBeSerialized:function(){return e.Object._canBeSerializedAsValue(this.attributes)},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this,r=y("classes",this.className,this.id,"GET",_(e),t);return r.then((function(t){var r=n.parse(t);return n._cleanupUnsetKeys(r,e.keys?m(e.keys).join(",").split(","):void 0),n._finishFetch(r,!0),n}))},_cleanupUnsetKeys:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.keys(this._serverData);h.forEach(n,(function(n){void 0===e[n]&&delete t._serverData[n]}))},save:function(t,n,r){var i,o,s;h.isObject(t)||g(t)?(i=t,s=n):(i={},i[t]=n,s=r),s=h.clone(s)||{},s.wait&&(o=h.clone(this.attributes));var a=h.clone(s)||{};a.wait&&(a.silent=!0),i&&this.set(i,a);var u=this,c=[],l=[];return e.Object._findUnsavedChildren(u,c,l),c.length+l.length>1?e.Object._deepSaveAsync(this,u,s):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||f.default.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch((function(e){})).then((function(){var e,t=u.id?"PUT":"POST",n=u._getSaveJSON(),r={};if(((u._fetchWhenSave||s.fetchWhenSave)&&(r["new"]="true"),s._failOnNotExist&&(r.failOnNotExist="true"),s.query)&&("function"===typeof s.query._getParams&&(e=s.query._getParams(),e&&(r.where=e.where)),!r.where)){var c=new Error("options.query is not an AV.Query");throw c}h.extend(n,u._flags);var f="classes",l=u.className;"_User"!==u.className||u.id||(f="users",l=null);var p=s._makeRequest||y,d=p(f,l,u.id,t,n,s,r);return d=d.then((function(e){var t=u.parse(e);return s.wait&&(t=h.extend(i||{},t)),u._finishSave(t),s.wait&&u.set(o,a),u}),(function(e){throw u._cancelSave(),e})),d})),this._allPreviousSaves)},destroy:function(e){e=e||{};var t=this,n=function(){t.trigger("destroy",t,t.collection,e)};if(!this.id)return n();e.wait||n();var r=y("classes",this.className,this.id,"DELETE",this._flags,e);return r.then((function(){return e.wait&&n(),t}))},parse:function(t){var n=h.clone(t);return h(["createdAt","updatedAt"]).each((function(t){n[t]&&(n[t]=e._parseDate(n[t]))})),n.createdAt&&!n.updatedAt&&(n.updatedAt=n.createdAt),n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(t){t=t||{};var n=this._changing;this._changing=!0;var r=this;e._objectEach(this._silent,(function(e){r._pending[e]=!0}));var i=h.extend({},t.changes,this._silent);if(this._silent={},e._objectEach(i,(function(e,n){r.trigger("change:"+n,r,r.get(n),t)})),n)return this;var o=function(e,t){r._pending[t]||r._silent[t]||delete r.changed[t]};while(!h.isEmpty(this._pending))this._pending={},this.trigger("change",this,t),e._objectEach(this.changed,o),r._previousAttributes=h.clone(this.attributes);return this._changing=!1,this},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(e){return!1}return!0},validate:function(t){if(h.has(t,"ACL")&&!(t.ACL instanceof e.ACL))throw new p(p.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(e,t){!t.silent&&this.validate&&(e=h.extend({},this.attributes,e),this.validate(e))},getACL:function(){return this.get("ACL")},setACL:function(e,t){return this.set("ACL",e,t)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(t){if(!h.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],t))throw new Error("Unsupported hookName: "+t);if(!e.hookKey)throw new Error("ignoreHook required hookKey");this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(t)}}),e.Object.createWithoutData=function(t,n,r){var i=void 0;if(h.isString(t))i=e.Object._getSubclass(t);else{if(!(t.prototype&&t.prototype instanceof e.Object))throw new Error("class must be a string or a subclass of AV.Object.");i=t}if(!n)throw new TypeError("The objectId must be provided");var o=new i;return o.id=n,o._hasData=r,o},e.Object.destroyAll=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||0===e.length)return f.default.resolve();var n=h.groupBy(e,(function(e){return(0,s.default)({className:e.className,flags:e._flags})})),r={requests:h.map(n,(function(e){var t=h.map(e,"id").join(",");return{method:"DELETE",path:"/1.1/classes/"+e[0].className+"/"+t,body:e[0]._flags}}))};return y("batch",null,null,"POST",r,t).then((function(e){var t=h.find(e,(function(e){return!e.success}));if(t)throw new p(t.error.code,t.error.error)}))},e.Object._getSubclass=function(t){if(!h.isString(t))throw new Error("AV.Object._getSubclass requires a string argument.");var n=e.Object._classMap[t];return n||(n=e.Object.extend(t),e.Object._classMap[t]=n),n},e.Object._create=function(t,n,r){var i=e.Object._getSubclass(t);return new i(n,r)},e.Object._classMap={},e.Object._extend=e._extend,e.Object["new"]=function(t,n){return new e.Object(t,n)},e.Object.extend=function(t,n,r){if(!h.isString(t)){if(t&&h.has(t,"className"))return e.Object.extend(t.className,t,n);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===t&&(t="_User");var o=null;if(h.has(e.Object._classMap,t)){var s=e.Object._classMap[t];if(!n&&!r)return s;o=s._extend(n,r)}else n=n||{},n._className=t,o=this._extend(n,r);return o.extend=function(n){if(h.isString(n)||n&&h.has(n,"className"))return e.Object.extend.apply(o,arguments);var r=[t].concat(h.toArray(arguments));return e.Object.extend.apply(o,r)},Object.defineProperty(o,"query",(0,i.default)(e.Object,"query")),o["new"]=function(e,t){return new o(e,t)},e.Object._classMap[t]=o,o},Object.defineProperty(e.Object.prototype,"className",{get:function(){var e=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===e?"_User":e}}),e.Object.register=function(t,n){if(!(t.prototype instanceof e.Object))throw new Error("registered class is not a subclass of AV.Object");var r=n||t.name;if(!r.length)throw new Error("registered class must be named");n&&(t._LCClassName=n),e.Object._classMap[r]=t},Object.defineProperty(e.Object,"query",{get:function(){return new e.Query(this.prototype.className)}}),e.Object._findUnsavedChildren=function(t,n,r){e._traverse(t,(function(t){t instanceof e.Object?t.dirty()&&n.push(t):t instanceof e.File&&(t.id||r.push(t))}))},e.Object._canBeSerializedAsValue=function(t){var n=!0;return t instanceof e.Object||t instanceof e.File?n=!!t.id:h.isArray(t)?e._arrayEach(t,(function(t){e.Object._canBeSerializedAsValue(t)||(n=!1)})):h.isObject(t)&&e._objectEach(t,(function(t){e.Object._canBeSerializedAsValue(t)||(n=!1)})),n},e.Object._deepSaveAsync=function(t,n,r){var i=[],o=[];e.Object._findUnsavedChildren(t,i,o);var s=f.default.resolve();h.each(o,(function(e){s=s.then((function(){return e.save()}))}));var a=h.uniq(i),u=h.uniq(a);return s.then((function(){return O((function(){return u.length>0}),(function(){var t=[],n=[];if(e._arrayEach(u,(function(e){e._canBeSerialized()?t.push(e):n.push(e)})),u=n,0===t.length)return f.default.reject(new p(p.OTHER_CAUSE,"Tried to save a batch with a cycle."));var i=f.default.resolve(h.map(t,(function(e){return e._allPreviousSaves||f.default.resolve()}))),o=i.then((function(){return y("batch",null,null,"POST",{requests:h.map(t,(function(e){var t=e.id?"PUT":"POST",n=e._getSaveJSON();h.extend(n,e._flags);var r="classes",i=e.className,o="/"+r+"/"+i;"_User"!==e.className||e.id||(o="/users");o="/1.1"+o;return e.id&&(o=o+"/"+e.id),e._startSave(),{method:t,path:o,body:n}}))},r).then((function(e){var n=h.map(t,(function(t,n){return e[n].success?(t._finishSave(t.parse(e[n].success)),t):(t._cancelSave(),new p(e[n].error.code,e[n].error.error))}));return I(n)}))}));return e._arrayEach(t,(function(e){e._allPreviousSaves=o})),o}))})).then((function(){return t}))}}},function(e,t,n){e.exports={default:n(144),__esModule:!0}},function(e,t,n){n(145);var r=n(1).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(15),i=n(77).f;n(47)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79),i=a(r),o=n(149),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){n(34),n(21),e.exports=n(148)},function(e,t,n){var r=n(44),i=n(4)("iterator"),o=n(17);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(150),__esModule:!0}},function(e,t,n){n(34),n(21),e.exports=n(151)},function(e,t,n){var r=n(8),i=n(45);e.exports=n(1).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){"use strict";var r=n(0),i=n(16);e.exports=function(e){e.Role=e.Object.extend("_Role",{constructor:function(t,n){if(r.isString(t)?(e.Object.prototype.constructor.call(this,null,null),this.setName(t)):e.Object.prototype.constructor.call(this,t,n),n){if(!(n instanceof e.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(n)}},getName:function(){return this.get("name")},setName:function(e,t){return this.set("name",e,t)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(t,n){if("name"in t&&t.name!==this.getName()){var o=t.name;if(this.id&&this.id!==t.objectId)return new i(i.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!r.isString(o))return new i(i.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new i(i.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!e.Object.prototype.validate&&e.Object.prototype.validate.call(this,t,n)}})}},function(e,t,n){"use strict";var r=n(9),i=c(r),o=n(154),s=c(o),a=n(2),u=c(a);function c(e){return e&&e.__esModule?e:{default:e}}var f=n(0),l=n(69),h=n(16),p=n(5),d=p._request,y=p.request,v=n(20),g=v.getAdapter,m="anonymous",_="lc_qqapp",b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"weixin";return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.unionIdPlatform,o=void 0===i?e:i,s=r.asMainAccount,a=void 0!==s&&s;if("string"!==typeof n)throw new h(h.OTHER_CAUSE,"unionId is not a string");if("string"!==typeof o)throw new h(h.OTHER_CAUSE,"unionIdPlatform is not a string");return f.extend({},t,{platform:o,unionid:n,main_account:Boolean(a)})}};e.exports=function(e){e.User=e.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(t){return t.sessionToken&&(this._sessionToken=t.sessionToken,delete t.sessionToken),e.User.__super__._mergeMagicFields.call(this,t)},_cleanupAuthData:function(){if(this.isCurrent()){var t=this.get("authData");t&&e._objectEach(this.get("authData"),(function(e,n){t[n]||delete t[n]}))}},_synchronizeAllAuthData:function(){var t=this.get("authData");if(t){var n=this;e._objectEach(this.get("authData"),(function(e,t){n._synchronizeAuthData(t)}))}},_synchronizeAuthData:function(t){if(this.isCurrent()){var n;f.isString(t)?(n=t,t=e.User._authProviders[n]):n=t.getAuthType();var r=this.get("authData");if(r&&t){var i=t.restoreAuthentication(r[n]);i||this.dissociateAuthData(t)}}},_handleSaveResult:function(t){return t&&!e._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!t&&!this.isCurrent()||e._config.disableCurrentUser?u.default.resolve():u.default.resolve(e.User._saveCurrentUser(this))},_linkWith:function(t,n){var r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.failOnNotExist,u=void 0!==a&&a;return f.isString(t)?(r=t,t=e.User._authProviders[t]):r=t.getAuthType(),n?this.save({authData:(0,s.default)({},r,n)},{fetchWhenSave:!!this.get("authData"),_failOnNotExist:u}).then((function(e){return e._handleSaveResult(!0).then((function(){return e}))})):t.authenticate().then((function(e){return i._linkWith(t,e)}))},associateWithAuthData:function(e,t){return this._linkWith(t,e)},associateWithAuthDataAndUnionId:function(e,t,n,r){return this._linkWith(t,b()(e,n,r))},associateWithMiniApp:function(e,t){var n=this;if(void 0===e){var r=g("getAuthInfo");return r().then((function(e){return n._linkWith(e.provider,e.authData,t)}))}return this._linkWith(e.provider,e.authData,t)},associateWithQQApp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.preferUnionId,r=void 0!==n&&n,i=t.unionIdPlatform,o=void 0===i?"qq":i,s=t.asMainAccount,a=void 0===s||s,u=g("getAuthInfo");return u({preferUnionId:r,asMainAccount:a,platform:o}).then((function(t){return t.provider=_,e.associateWithMiniApp(t)}))},associateWithWeapp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.preferUnionId,r=void 0!==n&&n,i=t.unionIdPlatform,o=void 0===i?"weixin":i,s=t.asMainAccount,a=void 0===s||s,u=g("getAuthInfo");return u({preferUnionId:r,asMainAccount:a,platform:o}).then((function(t){return e.associateWithMiniApp(t)}))},linkWithWeapp:function(e){return console.warn("DEPRECATED: User#linkWithWeapp 已废弃，请使用 User#associateWithWeapp 代替"),this.associateWithWeapp(e)},associateWithQQAppWithUnionId:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"qq":i,s=r.asMainAccount,a=void 0!==s&&s,u=g("getAuthInfo");return u({platform:o}).then((function(r){return r=e.User.mergeUnionId(r,t,{asMainAccount:a}),r.provider=_,n.associateWithMiniApp(r)}))},associateWithWeappWithUnionId:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"weixin":i,s=r.asMainAccount,a=void 0!==s&&s,u=g("getAuthInfo");return u({platform:o}).then((function(r){return r=e.User.mergeUnionId(r,t,{asMainAccount:a}),n.associateWithMiniApp(r)}))},dissociateAuthData:function(e){return this.unset("authData."+e),this.save().then((function(e){return e._handleSaveResult(!0).then((function(){return e}))}))},_unlinkFrom:function(e){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(e)},_isLinked:function(e){var t;t=f.isString(e)?e:e.getAuthType();var n=this.get("authData")||{};return!!n[t]},isAnonymous:function(){return this._isLinked(m)},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){var t=this.get("authData");if(t){var n=this;e._objectEach(this.get("authData"),(function(e,t){n._logOutWith(t)}))}},_logOutWith:function(t){this.isCurrent()&&(f.isString(t)&&(t=e.User._authProviders[t]),t&&t.deauthenticate&&t.deauthenticate())},signUp:function(e,t){var n,r=e&&e.username||this.get("username");if(!r||""===r)throw n=new h(h.OTHER_CAUSE,"Cannot sign up user with an empty name."),n;var i=e&&e.password||this.get("password");if(!i||""===i)throw n=new h(h.OTHER_CAUSE,"Cannot sign up user with an empty password."),n;return this.save(e,t).then((function(e){return e.isAnonymous()&&(e.unset("authData."+m),e._opSetQueue=[{}]),e._handleSaveResult(!0).then((function(){return e}))}))},signUpOrlogInWithMobilePhone:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&e.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!r||""===r)throw t=new h(h.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber."),t;var i=e&&e.smsCode||this.get("smsCode");if(!i||""===i)throw t=new h(h.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode."),t;return n._makeRequest=function(e,t,n,r,i){return d("usersByMobilePhone",null,null,"POST",i)},this.save(e,n).then((function(e){return delete e.attributes.smsCode,delete e._serverData.smsCode,e._handleSaveResult(!0).then((function(){return e}))}))},loginWithAuthData:function(e,t,n){return this._linkWith(t,e,n)},loginWithAuthDataAndUnionId:function(e,t,n,r){return this.loginWithAuthData(b()(e,n,r),t,r)},loginWithWeapp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.preferUnionId,r=void 0!==n&&n,i=t.unionIdPlatform,o=void 0===i?"weixin":i,s=t.asMainAccount,a=void 0===s||s,u=t.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({preferUnionId:r,asMainAccount:a,platform:o}).then((function(t){return e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithWeappWithUnionId:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"weixin":i,s=r.asMainAccount,a=void 0!==s&&s,u=r.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({platform:o}).then((function(r){return r=e.User.mergeUnionId(r,t,{asMainAccount:a}),n.loginWithMiniApp(r,{failOnNotExist:c})}))},loginWithQQApp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.preferUnionId,r=void 0!==n&&n,i=t.unionIdPlatform,o=void 0===i?"qq":i,s=t.asMainAccount,a=void 0===s||s,u=t.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({preferUnionId:r,asMainAccount:a,platform:o}).then((function(t){return t.provider=_,e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithQQAppWithUnionId:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"qq":i,s=r.asMainAccount,a=void 0!==s&&s,u=r.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({platform:o}).then((function(r){return r=e.User.mergeUnionId(r,t,{asMainAccount:a}),r.provider=_,n.loginWithMiniApp(r,{failOnNotExist:c})}))},loginWithMiniApp:function(e,t){var n=this;if(void 0===e){var r=g("getAuthInfo");return r().then((function(e){return n.loginWithAuthData(e.authData,e.provider,t)}))}return this.loginWithAuthData(e.authData,e.provider,t)},logIn:function(){var e=this,t=d("login",null,null,"POST",this.toJSON());return t.then((function(t){var n=e.parse(t);return e._finishFetch(n),e._handleSaveResult(!0).then((function(){return n.smsCode||delete e.attributes["smsCode"],e}))}))},save:function(t,n,r){var i,o;return f.isObject(t)||f.isNull(t)||f.isUndefined(t)?(i=t,o=n):(i={},i[t]=n,o=r),o=o||{},e.Object.prototype.save.call(this,i,o).then((function(e){return e._handleSaveResult(!1).then((function(){return e}))}))},follow:function(t,n){if(!this.id)throw new Error("Please signin.");var r=void 0,i=void 0;t.user?(r=t.user,i=t.attributes):r=t;var o=f.isString(r)?r:r.id;if(!o)throw new Error("Invalid target user.");var s="users/"+this.id+"/friendship/"+o,a=d(s,null,null,"POST",e._encode(i),n);return a},unfollow:function(e,t){if(!this.id)throw new Error("Please signin.");var n=void 0;n=e.user?e.user:e;var r=f.isString(n)?n:n.id;if(!r)throw new Error("Invalid target user.");var i="users/"+this.id+"/friendship/"+r,o=d(i,null,null,"DELETE",null,t);return o},getFollowersAndFollowees:function(t,n){if(!this.id)throw new Error("Please signin.");return y({method:"GET",path:"/users/"+this.id+"/followersAndFollowees",query:{skip:t&&t.skip,limit:t&&t.limit,include:"follower,followee",keys:"follower,followee"},authOptions:n}).then((function(t){var n=t.followers,r=t.followees;return{followers:n.map((function(t){var n=t.follower;return e._decode(n)})),followees:r.map((function(t){var n=t.followee;return e._decode(n)}))}}))},followerQuery:function(){return e.User.followerQuery(this.id)},followeeQuery:function(){return e.User.followeeQuery(this.id)},fetch:function(t,n){return e.Object.prototype.fetch.call(this,t,n).then((function(e){return e._handleSaveResult(!1).then((function(){return e}))}))},updatePassword:function(e,t,n){var r=this,i="users/"+this.id+"/updatePassword",o={old_password:e,new_password:t},s=d(i,null,null,"PUT",o,n);return s.then((function(e){return r._finishFetch(r.parse(e)),r._handleSaveResult(!0).then((function(){return e}))}))},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(e,t){return this.set("mobilePhoneNumber",e,t)},setUsername:function(e,t){return this.set("username",e,t)},setPassword:function(e,t){return this.set("password",e,t)},getEmail:function(){return this.get("email")},setEmail:function(e,t){return this.set("email",e,t)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!e._config.disableCurrentUser&&e.User.current()&&e.User.current().id===this.id},isAuthenticated:function(){var t=this;return u.default.resolve().then((function(){return!!t._sessionToken&&e.User._fetchUserBySessionToken(t._sessionToken).then((function(){return!0}),(function(e){if(211===e.code)return!1;throw e}))}))},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(e){var t=this;return d("users/"+this.id+"/refreshSessionToken",null,null,"PUT",null,e).then((function(e){return t._finishFetch(e),t._handleSaveResult(!0).then((function(){return t}))}))},getRoles:function(t){return e.Relation.reverseQuery("_Role","users",this).find(t)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(t,n,r,i){r=r||{},r.username=t,r.password=n;var o=e.Object._create("_User");return o.signUp(r,i)},logIn:function(t,n){var r=e.Object._create("_User");return r._finishFetch({username:t,password:n}),r.logIn()},become:function(e){return this._fetchUserBySessionToken(e).then((function(e){return e._handleSaveResult(!0).then((function(){return e}))}))},_fetchUserBySessionToken:function(t){if(void 0===t)return u.default.reject(new Error("The sessionToken cannot be undefined"));var n=e.Object._create("_User");return y({method:"GET",path:"/users/me",authOptions:{sessionToken:t}}).then((function(e){var t=n.parse(e);return n._finishFetch(t),n}))},logInWithMobilePhoneSmsCode:function(t,n){var r=e.Object._create("_User");return r._finishFetch({mobilePhoneNumber:t,smsCode:n}),r.logIn()},signUpOrlogInWithMobilePhone:function(t,n,r,i){r=r||{},r.mobilePhoneNumber=t,r.smsCode=n;var o=e.Object._create("_User");return o.signUpOrlogInWithMobilePhone(r,i)},logInWithMobilePhone:function(t,n){var r=e.Object._create("_User");return r._finishFetch({mobilePhoneNumber:t,password:n}),r.logIn()},loginWithEmail:function(t,n){var r=e.Object._create("_User");return r._finishFetch({email:t,password:n}),r.logIn()},loginWithAuthData:function(t,n,r){return e.User._logInWith(n,t,r)},signUpOrlogInWithAuthData:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthData 已废弃，请使用 User#loginWithAuthData 代替"),this.loginWithAuthData.apply(this,arguments)},loginWithAuthDataAndUnionId:function(e,t,n,r){return this.loginWithAuthData(b()(e,n,r),t,r)},signUpOrlogInWithAuthDataAndUnionId:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId 已废弃，请使用 User#loginWithAuthDataAndUnionId 代替"),this.loginWithAuthDataAndUnionId.apply(this,arguments)},mergeUnionId:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.asMainAccount,o=void 0!==r&&r;e=JSON.parse((0,i.default)(e));var s=e,a=s.authData,u=s.platform;return a.platform=u,a.main_account=o,a.unionid=t,e},loginWithWeapp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.preferUnionId,r=void 0!==n&&n,i=t.unionIdPlatform,o=void 0===i?"weixin":i,s=t.asMainAccount,a=void 0===s||s,u=t.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({preferUnionId:r,asMainAccount:a,platform:o}).then((function(t){return e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithWeappWithUnionId:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"weixin":i,s=r.asMainAccount,a=void 0!==s&&s,u=r.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({platform:o}).then((function(r){return r=e.User.mergeUnionId(r,t,{asMainAccount:a}),n.loginWithMiniApp(r,{failOnNotExist:c})}))},loginWithQQApp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.preferUnionId,r=void 0!==n&&n,i=t.unionIdPlatform,o=void 0===i?"qq":i,s=t.asMainAccount,a=void 0===s||s,u=t.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({preferUnionId:r,asMainAccount:a,platform:o}).then((function(t){return t.provider=_,e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithQQAppWithUnionId:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"qq":i,s=r.asMainAccount,a=void 0!==s&&s,u=r.failOnNotExist,c=void 0!==u&&u,f=g("getAuthInfo");return f({platform:o}).then((function(r){return r=e.User.mergeUnionId(r,t,{asMainAccount:a}),r.provider=_,n.loginWithMiniApp(r,{failOnNotExist:c})}))},loginWithMiniApp:function(e,t){var n=this;if(void 0===e){var r=g("getAuthInfo");return r().then((function(e){return n.loginWithAuthData(e.authData,e.provider,t)}))}return this.loginWithAuthData(e.authData,e.provider,t)},_genId:function(){return l()},loginAnonymously:function(){return this.loginWithAuthData({id:e.User._genId()},"anonymous")},associateWithAuthData:function(e,t,n){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#associateWithAuthData 代替"),e._linkWith(t,n)},logOut:function(){return e._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.default.resolve(null)):(null!==e.User._currentUser&&(e.User._currentUser._logOutWithAll(),e.User._currentUser._isCurrentUser=!1),e.User._currentUserMatchesDisk=!0,e.User._currentUser=null,e.localStorage.removeItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY)).then((function(){return e._refreshSubscriptionId()})))},followerQuery:function(t){if(!t||!f.isString(t))throw new Error("Invalid user object id.");var n=new e.FriendShipQuery("_Follower");return n._friendshipTag="follower",n.equalTo("user",e.Object.createWithoutData("_User",t)),n},followeeQuery:function(t){if(!t||!f.isString(t))throw new Error("Invalid user object id.");var n=new e.FriendShipQuery("_Followee");return n._friendshipTag="followee",n.equalTo("user",e.Object.createWithoutData("_User",t)),n},requestPasswordReset:function(e){var t={email:e},n=d("requestPasswordReset",null,null,"POST",t);return n},requestEmailVerify:function(e){var t={email:e},n=d("requestEmailVerify",null,null,"POST",t);return n},requestMobilePhoneVerify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:e};t.validateToken&&(n.validate_token=t.validateToken);var r=d("requestMobilePhoneVerify",null,null,"POST",n,t);return r},requestPasswordResetBySmsCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:e};t.validateToken&&(n.validate_token=t.validateToken);var r=d("requestPasswordResetBySmsCode",null,null,"POST",n,t);return r},requestChangePhoneNumber:function(e,t,n){var r={mobilePhoneNumber:e};return t&&(r.ttl=n.ttl),n&&n.validateToken&&(r.validate_token=n.validateToken),d("requestChangePhoneNumber",null,null,"POST",r,n)},changePhoneNumber:function(e,t){var n={mobilePhoneNumber:e,code:t};return d("changePhoneNumber",null,null,"POST",n)},resetPasswordBySmsCode:function(e,t){var n={password:t},r=d("resetPasswordBySmsCode",null,e,"PUT",n);return r},verifyMobilePhone:function(e){var t=d("verifyMobilePhone",null,e,"POST",null);return t},requestLoginSmsCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:e};t.validateToken&&(n.validate_token=t.validateToken);var r=d("requestLoginSmsCode",null,null,"POST",n,t);return r},currentAsync:function(){return e._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.default.resolve(null)):e.User._currentUser||e.User._currentUserMatchesDisk?u.default.resolve(e.User._currentUser):e.localStorage.getItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY)).then((function(t){if(!t)return null;e.User._currentUserMatchesDisk=!0,e.User._currentUser=e.Object._create("_User"),e.User._currentUser._isCurrentUser=!0;var n=JSON.parse(t);return e.User._currentUser.id=n._id,delete n._id,e.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,e.User._currentUser._finishFetch(n),e.User._currentUser._synchronizeAllAuthData(),e.User._currentUser._refreshCache(),e.User._currentUser._opSetQueue=[{}],e.User._currentUser}))},current:function(){if(e._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(e.localStorage.async){var t=new Error("Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.");throw t.code="SYNC_API_NOT_AVAILABLE",t}if(e.User._currentUser)return e.User._currentUser;if(e.User._currentUserMatchesDisk)return e.User._currentUser;e.User._currentUserMatchesDisk=!0;var n=e.localStorage.getItem(e._getAVPath(e.User._CURRENT_USER_KEY));if(!n)return null;e.User._currentUser=e.Object._create("_User"),e.User._currentUser._isCurrentUser=!0;var r=JSON.parse(n);return e.User._currentUser.id=r._id,delete r._id,e.User._currentUser._sessionToken=r._sessionToken,delete r._sessionToken,e.User._currentUser._finishFetch(r),e.User._currentUser._synchronizeAllAuthData(),e.User._currentUser._refreshCache(),e.User._currentUser._opSetQueue=[{}],e.User._currentUser},_saveCurrentUser:function(t){var n;return n=e.User._currentUser!==t?e.User.logOut():u.default.resolve(),n.then((function(){t._isCurrentUser=!0,e.User._currentUser=t;var n=t._toFullJSON();return n._id=t.id,n._sessionToken=t._sessionToken,e.localStorage.setItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY),(0,i.default)(n)).then((function(){return e.User._currentUserMatchesDisk=!0,e._refreshSubscriptionId()}))}))},_registerAuthenticationProvider:function(t){e.User._authProviders[t.getAuthType()]=t,!e._config.disableCurrentUser&&e.User.current()&&e.User.current()._synchronizeAuthData(t.getAuthType())},_logInWith:function(t,n,r){var i=e.Object._create("_User");return i._linkWith(t,n,r)}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(74),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(9),i=a(r),o=n(2),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var u=n(0),c=n(19)("leancloud:query"),f=n(16),l=n(5),h=l._request,p=l.request,d=n(6),y=d.ensureArray,v=d.transformFetchOptions,g=d.continueWhile,m=function(e,t){if(void 0===e)throw new Error(t)};e.exports=function(e){e.Query=function(t){u.isString(t)&&(t=e.Object._getSubclass(t)),this.objectClass=t,this.className=t.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._defaultParams={}},e.Query.or=function(){var t=u.toArray(arguments),n=null;e._arrayEach(t,(function(e){if(u.isNull(n)&&(n=e.className),n!==e.className)throw new Error("All queries must be for the same class")}));var r=new e.Query(n);return r._orQuery(t),r},e.Query.and=function(){var t=u.toArray(arguments),n=null;e._arrayEach(t,(function(e){if(u.isNull(n)&&(n=e.className),n!==e.className)throw new Error("All queries must be for the same class")}));var r=new e.Query(n);return r._andQuery(t),r},e.Query.doCloudQuery=function(t,n,r){var i={cql:t};u.isArray(n)?i.pvalues=n:r=n;var o=h("cloudQuery",null,null,"GET",i,r);return o.then((function(t){var n=new e.Query(t.className),r=u.map(t.results,(function(e){var r=n._newObject(t);return r._finishFetch&&r._finishFetch(n._processResult(e),!0),r}));return{results:r,count:t.count,className:t.className}}))},e.Query.fromJSON=function(t){var n=t.className,r=t.where,i=t.include,o=t.select,s=t.includeACL,a=t.limit,c=t.skip,f=t.order;if("string"!==typeof n)throw new TypeError("Invalid Query JSON, className must be a String.");var l=new e.Query(n);return u.extend(l,{_where:r,_include:i,_select:o,_includeACL:s,_limit:a,_skip:c,_order:f}),l},e.Query._extend=e._extend,u.extend(e.Query.prototype,{_processResult:function(e){return e},get:function(e,t){if(!u.isString(e))throw new Error("objectId must be a string");if(""===e)return s.default.reject(new f(f.OBJECT_NOT_FOUND,"Object not found."));var n=this._newObject();n.id=e;var r=this._getParams(),i={};return r.keys&&(i.keys=r.keys),r.include&&(i.include=r.include),r.includeACL&&(i.includeACL=r.includeACL),h("classes",this.className,e,"GET",v(i),t).then((function(e){if(u.isEmpty(e))throw new f(f.OBJECT_NOT_FOUND,"Object not found.");return n._finishFetch(n.parse(e),!0),n}))},toJSON:function(){var e=this.className,t=this._where,n=this._include,r=this._select,i=this._includeACL,o=this._limit,s=this._skip,a=this._order;return{className:e,where:t,include:n,select:r,includeACL:i,limit:o,skip:s,order:a}},_getParams:function(){var e=u.extend({},this._defaultParams,{where:this._where});return this._include.length>0&&(e.include=this._include.join(",")),this._select.length>0&&(e.keys=this._select.join(",")),void 0!==this._includeACL&&(e.returnACL=this._includeACL),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order),e},_newObject:function(t){var n;return n=t&&t.className?new e.Object(t.className):new this.objectClass,n},_createRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getParams(),t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/classes/"+this.className;if(encodeURIComponent((0,i.default)(e)).length>2e3){var r={requests:[{method:"GET",path:"/1.1"+n,params:e}]};return p({path:"/batch",method:"POST",data:r,authOptions:t}).then((function(e){var t=e[0];if(t.success)return t.success;var n=new Error(t.error.error||"Unknown batch error");throw n.code=t.error.code,n}))}return p({method:"GET",path:n,query:e,authOptions:t})},_parseResponse:function(e){var t=this;return u.map(e.results,(function(n){var r=t._newObject(e);return r._finishFetch&&r._finishFetch(t._processResult(n),!0),r}))},find:function(e){var t=this._createRequest(void 0,e);return t.then(this._parseResponse.bind(this))},scan:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.orderedBy,r=t.batchSize,i=arguments[1],o=this._getParams();c("scan %O",o),o.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete o.order),o.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete o.skip),o.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete o.limit),n&&(o.scan_key=n),r&&(o.limit=r);var a=s.default.resolve([]),f=void 0,l=!1;return{next:function(){return a=a.then((function(t){return l?[]:t.length>1?t:f||0===t.length?h("scan/classes",e.className,null,"GET",f?u.extend({},o,{cursor:f}):o,i).then((function(t){return f=t.cursor,e._parseResponse(t)})).then((function(e){return e.length||(l=!0),t.concat(e)})):(l=!0,t)})),a.then((function(e){return e.shift()})).then((function(e){return{value:e,done:l}}))}}},destroyAll:function(t){var n=this;return n.find(t).then((function(n){return e.Object.destroyAll(n,t)}))},count:function(e){var t=this._getParams();t.limit=0,t.count=1;var n=this._createRequest(t,e);return n.then((function(e){return e.count}))},first:function(e){var t=this,n=this._getParams();n.limit=1;var r=this._createRequest(n,e);return r.then((function(e){return u.map(e.results,(function(e){var n=t._newObject();return n._finishFetch&&n._finishFetch(t._processResult(e),!0),n}))[0]}))},skip:function(e){return m(e,"undefined is not a valid skip value"),this._skip=e,this},limit:function(e){return m(e,"undefined is not a valid limit value"),this._limit=e,this},equalTo:function(t,n){return m(t,"undefined is not a valid key"),m(n,"undefined is not a valid value"),this._where[t]=e._encode(n),this},_addCondition:function(t,n,r){return m(t,"undefined is not a valid condition key"),m(n,"undefined is not a valid condition"),m(r,"undefined is not a valid condition value"),this._where[t]||(this._where[t]={}),this._where[t][n]=e._encode(r),this},sizeEqualTo:function(e,t){return this._addCondition(e,"$size",t),this},notEqualTo:function(e,t){return this._addCondition(e,"$ne",t),this},lessThan:function(e,t){return this._addCondition(e,"$lt",t),this},greaterThan:function(e,t){return this._addCondition(e,"$gt",t),this},lessThanOrEqualTo:function(e,t){return this._addCondition(e,"$lte",t),this},greaterThanOrEqualTo:function(e,t){return this._addCondition(e,"$gte",t),this},containedIn:function(e,t){return this._addCondition(e,"$in",t),this},notContainedIn:function(e,t){return this._addCondition(e,"$nin",t),this},containsAll:function(e,t){return this._addCondition(e,"$all",t),this},exists:function(e){return this._addCondition(e,"$exists",!0),this},doesNotExist:function(e){return this._addCondition(e,"$exists",!1),this},matches:function(e,t,n){return this._addCondition(e,"$regex",t),n||(n=""),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n&&n.length&&this._addCondition(e,"$options",n),this},matchesQuery:function(e,t){var n=t._getParams();return n.className=t.className,this._addCondition(e,"$inQuery",n),this},doesNotMatchQuery:function(e,t){var n=t._getParams();return n.className=t.className,this._addCondition(e,"$notInQuery",n),this},matchesKeyInQuery:function(e,t,n){var r=n._getParams();return r.className=n.className,this._addCondition(e,"$select",{key:t,query:r}),this},doesNotMatchKeyInQuery:function(e,t,n){var r=n._getParams();return r.className=n.className,this._addCondition(e,"$dontSelect",{key:t,query:r}),this},_orQuery:function(e){var t=u.map(e,(function(e){return e._getParams().where}));return this._where.$or=t,this},_andQuery:function(e){var t=u.map(e,(function(e){return e._getParams().where}));return this._where.$and=t,this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,t){return this._addCondition(e,"$regex",this._quote(t)),this},startsWith:function(e,t){return this._addCondition(e,"$regex","^"+this._quote(t)),this},endsWith:function(e,t){return this._addCondition(e,"$regex",this._quote(t)+"$"),this},ascending:function(e){return m(e,"undefined is not a valid key"),this._order=e,this},addAscending:function(e){return m(e,"undefined is not a valid key"),this._order?this._order+=","+e:this._order=e,this},descending:function(e){return m(e,"undefined is not a valid key"),this._order="-"+e,this},addDescending:function(e){return m(e,"undefined is not a valid key"),this._order?this._order+=",-"+e:this._order="-"+e,this},near:function(t,n){return n instanceof e.GeoPoint||(n=new e.GeoPoint(n)),this._addCondition(t,"$nearSphere",n),this},withinRadians:function(e,t,n){return this.near(e,t),this._addCondition(e,"$maxDistance",n),this},withinMiles:function(e,t,n){return this.withinRadians(e,t,n/3958.8)},withinKilometers:function(e,t,n){return this.withinRadians(e,t,n/6371)},withinGeoBox:function(t,n,r){return n instanceof e.GeoPoint||(n=new e.GeoPoint(n)),r instanceof e.GeoPoint||(r=new e.GeoPoint(r)),this._addCondition(t,"$within",{$box:[n,r]}),this},include:function(e){var t=this;return m(e,"undefined is not a valid key"),u.forEach(arguments,(function(e){t._include=t._include.concat(y(e))})),this},includeACL:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._includeACL=e,this},select:function(e){var t=this;return m(e,"undefined is not a valid key"),u.forEach(arguments,(function(e){t._select=t._select.concat(y(e))})),this},each:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var r=new Error("Cannot iterate on a query with sort, skip, or limit.");return s.default.reject(r)}var i=new e.Query(this.objectClass);i._limit=n.batchSize||100,i._where=u.clone(this._where),i._include=u.clone(this._include),i.ascending("objectId");var o=!1;return g((function(){return!o}),(function(){return i.find(n).then((function(e){var n=s.default.resolve();return u.each(e,(function(e){n=n.then((function(){return t(e)}))})),n.then((function(){e.length>=i._limit?i.greaterThan("objectId",e[e.length-1].id):o=!0}))}))}))},subscribe:function(t){return e.LiveQuery.init(this,t)}}),e.FriendShipQuery=e.Query._extend({_newObject:function(){var t=e.Object._getSubclass("_User");return new t},_processResult:function(e){if(e&&e[this._friendshipTag]){var t=e[this._friendshipTag];return"Pointer"===t.__type&&"_User"===t.className&&(delete t.__type,delete t.className),t}return null}})}},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(71),u=n(6),c=u.inherits,f=n(5),l=f.request,h=function(e,t){return l({method:"POST",path:"/LiveQuery/subscribe",data:{query:e,id:t}})};e.exports=function(e){var t=function(){if(!e._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query")};e.LiveQuery=c(a,{constructor:function(e,t,n,r){var i=this;a.apply(this),this.id=e,this._client=t,this._client.register(this),this._queryJSON=n,this._subscriptionId=r,this._onMessage=this._dispatch.bind(this),this._onReconnect=function(){h(i._queryJSON,i._subscriptionId).catch((function(e){return console.error("LiveQuery resubscribe error: "+e.message)}))},t.on("message",this._onMessage),t.on("reconnect",this._onReconnect)},_dispatch:function(t){var n=this;t.forEach((function(t){var r=t.op,i=t.object,o=t.query_id,a=t.updatedKeys;if(o===n.id){var u=e.parseJSON(s.extend({__type:"_File"===i.className?"File":"Object"},i));a?n.emit(r,u,a):n.emit(r,u)}}))},unsubscribe:function(){var e=this._client;return e.off("message",this._onMessage),e.off("reconnect",this._onReconnect),e.deregister(this),l({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:e.id,query_id:this.id}})}},{init:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.subscriptionId,s=void 0===o?e._getSubscriptionId():o;if(t(),!(n instanceof e.Query))throw new TypeError("LiveQuery must be inited with a Query");return i.default.resolve(s).then((function(t){return e._config.realtime.createLiveQueryClient(t).then((function(r){var i=n._getParams(),o=i.where,s=i.keys,a=i.returnACL,u={where:o,keys:s,returnACL:a,className:n.className},c=h(u,t).then((function(n){var i=n.query_id;return new e.LiveQuery(i,r,u,t)})).finally((function(){r.deregister(c)}));return r.register(c),c}))}))},pause:function(){return t(),e._config.realtime.pause()},resume:function(){return t(),e._config.realtime.resume()}})}},function(e,t,n){"use strict";var r=n(0),i=n(6),o=i.tap;e.exports=function(e){e.Captcha=function(e,t){this._options=e,this._authOptions=t,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},e.Captcha.prototype.refresh=function(){var t=this;return e.Cloud._requestCaptcha(this._options,this._authOptions).then((function(e){var n=e.captchaToken,i=e.url;return r.extend(t,{captchaToken:n,url:i}),i}))},e.Captcha.prototype.verify=function(t){var n=this;return e.Cloud.verifyCaptcha(t,this.captchaToken).then(o((function(e){return n.validateToken=e})))},e.Captcha.prototype.bind=function(e,t){var n=this,r=e.textInput,i=e.image,o=e.verifyButton,s=t.success,a=t.error;if("string"===typeof r&&(r=document.getElementById(r),!r))throw new Error("textInput with id "+r+" not found");if("string"===typeof i&&(i=document.getElementById(i),!i))throw new Error("image with id "+i+" not found");if("string"===typeof o&&(o=document.getElementById(o),!o))throw new Error("verifyButton with id "+o+" not found");this.__refresh=function(){return n.refresh().then((function(e){i.src=e,r&&(r.value="",r.focus())})).catch((function(e){return console.warn("refresh captcha fail: "+e.message)}))},i&&(this.__image=i,i.src=this.url,i.addEventListener("click",this.__refresh)),this.__verify=function(){var e=r.value;n.verify(e).catch((function(e){throw n.__refresh(),e})).then(s,a).catch((function(e){return console.warn("verify captcha fail: "+e.message)}))},r&&o&&(this.__verifyButton=o,o.addEventListener("click",this.__verify))},e.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},e.Captcha.request=function(t,n){var r=new e.Captcha(t,n);return r.refresh().then((function(){return r}))}}},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(5),u=a._request,c=a.request;e.exports=function(e){e.Cloud=e.Cloud||{},s.extend(e.Cloud,{run:function(t,n,r){return c({service:"engine",method:"POST",path:"/functions/"+t,data:e._encode(n,null,!0),authOptions:r}).then((function(t){return e._decode(t).result}))},rpc:function(t,n,r){return s.isArray(n)?i.default.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):c({service:"engine",method:"POST",path:"/call/"+t,data:e._encodeObjectOrArray(n),authOptions:r}).then((function(t){return e._decode(t).result}))},getServerDate:function(){return u("date",null,null,"GET").then((function(t){return e._decode(t)}))},requestSmsCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s.isString(e)&&(e={mobilePhoneNumber:e}),!e.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return t.validateToken&&(e=s.extend({},e,{validate_token:t.validateToken})),u("requestSmsCode",null,null,"POST",e,t)},verifySmsCode:function(e,t){if(!e)throw new Error("Missing sms code.");var n={};return s.isString(t)&&(n["mobilePhoneNumber"]=t),u("verifySmsCode",e,null,"POST",n)},_requestCaptcha:function(e,t){return u("requestCaptcha",null,null,"GET",e,t).then((function(e){var t=e.captcha_url,n=e.captcha_token;return{captchaToken:n,url:t}}))},requestCaptcha:e.Captcha.request,verifyCaptcha:function(e,t){return u("verifyCaptcha",null,null,"POST",{captcha_code:e,captcha_token:t}).then((function(e){var t=e.validate_token;return t}))}})}},function(e,t,n){"use strict";var r=n(5).request;e.exports=function(e){e.Installation=e.Object.extend("_Installation"),e.Push=e.Push||{},e.Push.send=function(e,t){if(e.where&&(e.where=e.where._getParams().where),e.where&&e.cql)throw new Error("Both where and cql can't be set");if(e.push_time&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw new Error("Both expiration_time and expiration_interval can't be set");return r({service:"push",method:"POST",path:"/push",data:e,authOptions:t})}}},function(e,t,n){"use strict";var r=n(2),i=a(r),o=n(28),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var u=n(0),c=n(5)._request,f=n(6),l=f.getSessionToken;e.exports=function(e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=l(t);return n?e.User._fetchUserBySessionToken(l(t)):e.User.currentAsync()},n=function(n){return t(n).then((function(t){return e.Object.createWithoutData("_User",t.id)._toPointer()}))};e.Status=function(e,t){return this.data={},this.inboxType="default",this.query=null,e&&"object"===("undefined"===typeof e?"undefined":(0,s.default)(e))?this.data=e:(e&&(this.data.image=e),t&&(this.data.message=t)),this},u.extend(e.Status.prototype,{get:function(e){return this.data[e]},set:function(e,t){return this.data[e]=t,this},destroy:function(e){if(!this.id)return i.default.reject(new Error("The status id is not exists."));var t=c("statuses",null,this.id,"DELETE",e);return t},toObject:function(){return this.id?e.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var t=u.clone(this.data);return e._encode(t)},send:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!l(r)&&!e.User.current())throw new Error("Please signin an user.");return this.query?n(r).then((function(e){var n=t.query._getParams();n.className=t.query.className;var i={};return i.query=n,t.data=t.data||{},t.data.source=t.data.source||e,i.data=t._getDataJSON(),i.inboxType=t.inboxType||"default",c("statuses",null,null,"POST",i,r)})).then((function(n){return t.id=n.objectId,t.createdAt=e._parseDate(n.createdAt),t})):e.Status.sendStatusToFollowers(this,r)},_finishFetch:function(t){this.id=t.objectId,this.createdAt=e._parseDate(t.createdAt),this.updatedAt=e._parseDate(t.updatedAt),this.messageId=t.messageId,delete t.messageId,delete t.objectId,delete t.createdAt,delete t.updatedAt,this.data=e._decode(t)}}),e.Status.sendStatusToFollowers=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(r)&&!e.User.current())throw new Error("Please signin an user.");return n(r).then((function(n){var i={className:"_Follower",keys:"follower"};i.where={user:n};var o={};o.query=i,t.data=t.data||{},t.data.source=t.data.source||n,o.data=t._getDataJSON(),o.inboxType=t.inboxType||"default";var s=c("statuses",null,null,"POST",o,r);return s.then((function(n){return t.id=n.objectId,t.createdAt=e._parseDate(n.createdAt),t}))}))},e.Status.sendPrivateStatus=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!l(i)&&!e.User.current())throw new Error("Please signin an user.");if(!r)throw new Error("Invalid target user.");var o=u.isString(r)?r:r.id;if(!o)throw new Error("Invalid target user.");return n(i).then((function(n){var r={className:"_User"};r.where={objectId:o};var s={};s.query=r,t.data=t.data||{},t.data.source=t.data.source||n,s.data=t._getDataJSON(),s.inboxType="private",t.inboxType="private";var a=c("statuses",null,null,"POST",s,i);return a.then((function(n){return t.id=n.objectId,t.createdAt=e._parseDate(n.createdAt),t}))}))},e.Status.countUnreadStatuses=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(u.isString(r)||(o=r),!l(o)&&null==n&&!e.User.current())throw new Error("Please signin an user or pass the owner objectId.");return i.default.resolve(n||t(o)).then((function(t){var n={};return n.inboxType=e._encode(r),n.owner=e._encode(t),c("subscribe/statuses/count",null,null,"GET",n,o)}))},e.Status.resetUnreadCount=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(u.isString(r)||(o=r),!l(o)&&null==n&&!e.User.current())throw new Error("Please signin an user or pass the owner objectId.");return i.default.resolve(n||t(o)).then((function(t){var n={};return n.inboxType=e._encode(r),n.owner=e._encode(t),c("subscribe/statuses/resetUnreadCount",null,null,"POST",n,o)}))},e.Status.statusQuery=function(t){var n=new e.Query("_Status");return t&&n.equalTo("source",t),n},e.InboxQuery=e.Query._extend({_objectClass:e.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new e.Status},_createRequest:function(t,n){return e.InboxQuery.__super__._createRequest.call(this,t,n,"/subscribe/statuses")},sinceId:function(e){return this._sinceId=e,this},maxId:function(e){return this._maxId=e,this},owner:function(e){return this._owner=e,this},inboxType:function(e){return this._inboxType=e,this},_getParams:function(){var t=e.InboxQuery.__super__._getParams.call(this);return t.owner=e._encode(this._owner),t.inboxType=e._encode(this._inboxType),t.sinceId=e._encode(this._sinceId),t.maxId=e._encode(this._maxId),t}}),e.Status.inboxQuery=function(t,n){var r=new e.InboxQuery(e.Status);return t&&(r._owner=t),n&&(r._inboxType=n),r}}},function(e,t,n){"use strict";var r=n(9),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(5)._request;e.exports=function(e){e.SearchSortBuilder=function(){this._sortFields=[]},s.extend(e.SearchSortBuilder.prototype,{_addField:function(e,t,n,r){var i={};return i[e]={order:t||"asc",mode:n||"avg",missing:"_"+(r||"last")},this._sortFields.push(i),this},ascending:function(e,t,n){return this._addField(e,"asc",t,n)},descending:function(e,t,n){return this._addField(e,"desc",t,n)},whereNear:function(e,t,n){n=n||{};var r={},i={lat:t.latitude,lon:t.longitude},o={order:n.order||"asc",mode:n.mode||"avg",unit:n.unit||"km"};return o[e]=i,r["_geo_distance"]=o,this._sortFields.push(r),this},build:function(){return(0,i.default)(e._encode(this._sortFields))}}),e.SearchQuery=e.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_clazz:null,constructor:function(t){t?this._clazz=t:t="__INVALID_CLASS",e.Query.call(this,t)},_createRequest:function(e,t){return a("search/select",null,null,"GET",e||this._getParams(),t)},sid:function(e){return this._sid=e,this},queryString:function(e){return this._queryString=e,this},highlights:function(e){var t;return t=e&&s.isString(e)?s.toArray(arguments):e,this._highlights=t,this},sortBy:function(e){return this._sortBuilder=e,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(e){return delete e["className"],delete e["_app_url"],delete e["_deeplink"],e},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(e){var t=this,n=this._createRequest(void 0,e);return n.then((function(e){return e.sid?(t._oldSid=t._sid,t._sid=e.sid):(t._sid=null,t._hitEnd=!0),t._hits=e.hits||0,s.map(e.results,(function(n){n.className&&(e.className=n.className);var r=t._newObject(e);return r.appURL=n["_app_url"],r._finishFetch(t._processResult(n),!0),r}))}))},_getParams:function(){var t=e.SearchQuery.__super__._getParams.call(this);if(delete t.where,this._clazz&&(t.clazz=this.className),this._sid&&(t.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(t.q=this._queryString,this._highlights&&(t.highlights=this._highlights.join(",")),this._sortBuilder&&t.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(t.sort=this._sortBuilder.build()),t}})}},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(16),u=n(5),c=u.request;e.exports=function(e){e.Insight=e.Insight||{},s.extend(e.Insight,{startJob:function(t,n){if(!t||!t.sql)throw new Error("Please provide the sql to run the job.");var r={jobConfig:t,appId:e.applicationId};return c({path:"/bigquery/jobs",method:"POST",data:e._encode(r,null,!0),authOptions:n,signKey:!1}).then((function(t){return e._decode(t).id}))},on:function(e,t){}}),e.Insight.JobQuery=function(e,t){if(!e)throw new Error("Please provide the job id.");this.id=e,this.className=t,this._skip=0,this._limit=100},s.extend(e.Insight.JobQuery.prototype,{skip:function(e){return this._skip=e,this},limit:function(e){return this._limit=e,this},find:function(e){var t={skip:this._skip,limit:this._limit};return c({path:"/bigquery/jobs/"+this.id,method:"GET",query:t,authOptions:e,signKey:!1}).then((function(e){return e.error?i.default.reject(new a(e.code,e.error)):i.default.resolve(e)}))}})}},function(e,t,n){"use strict";var r=n(0),i=n(5),o=i.request,s=n(6),a=s.getSessionToken;e.exports=function(e){e.Friendship={request:function(t,n){if(!e.User.current())throw new Error("Please signin an user.");var i=void 0,s=void 0;t.friend?(i=t.friend,s=t.attributes):i=t;var a=r.isString(i)?e.Object.createWithoutData("_User",i):i;return o({method:"POST",path:"/users/friendshipRequests",data:e._encode({user:e.User.current(),friend:a,friendship:s}),authOptions:n})},acceptRequest:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a(n)&&!e.User.current())throw new Error("Please signin an user.");var i=void 0,s=void 0;t.request?(i=t.request,s=t.attributes):i=t;var u=r.isString(i)?i:i.id;return o({method:"PUT",path:"/users/friendshipRequests/"+u+"/accept",data:{friendship:e._encode(s)},authOptions:n})},declineRequest:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a(n)&&!e.User.current())throw new Error("Please signin an user.");var i=r.isString(t)?t:t.id;return o({method:"PUT",path:"/users/friendshipRequests/"+i+"/decline",authOptions:n})}}}},function(e,t,n){"use strict";var r=n(9),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(5),u=a._request,c=n(18),f=function(e){return"string"===typeof e?e:"function"===typeof e.getPayload?(0,i.default)(e.getPayload()):(0,i.default)(e)};e.exports=c.Object.extend("_Conversation",{constructor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.Object.prototype.constructor.call(this,null,null),this.set("name",e),void 0!==t.isSystem&&this.set("sys",!!t.isSystem),void 0!==t.isTransient&&this.set("tr",!!t.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(e){return this.add("m",e)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={from_peer:e,conv_id:this.id,transient:!1,message:f(t)};return void 0!==n.toClients&&(i.to_peers=n.toClients),void 0!==n.transient&&(i.transient=!!n.transient),void 0!==n.pushData&&(i.push_data=n.pushData),u("rtm","messages",null,"POST",i,r)},broadcast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={from_peer:e,conv_id:this.id,message:f(t)};if(void 0!==n.pushData&&(i.push=n.pushData),void 0!==n.validTill){var o=n.validTill;s.isDate(o)&&(o=o.getTime()),n.valid_till=o}return u("rtm","broadcast",null,"POST",i,r)}})},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(0),a=n(5),u=a.request,c=n(6),f=c.ensureArray,l=c.parseDate,h=n(18);function p(e){var t=e.name,n=e.value,r=e.version;this.name=t,this.value=n,this.version=r}h.LeaderboardVersionChangeInterval={NEVER:"never",DAY:"day",WEEK:"week",MONTH:"month"},h.LeaderboardOrder={ASCENDING:"ascending",DESCENDING:"descending"},h.LeaderboardUpdateStrategy={BETTER:"better",LAST:"last",SUM:"sum"};var d=function(e){var t=h._decode(e),n=t.statisticName,r=t.statisticValue,i=t.version;return new p({name:n,value:r,version:i})};h.Leaderboard=function(e){this.statisticName=e,this.order=void 0,this.updateStrategy=void 0,this.versionChangeInterval=void 0,this.version=void 0,this.nextResetAt=void 0,this.createdAt=void 0};var y=h.Leaderboard;h.Leaderboard.createWithoutData=function(e){return new y(e)},h.Leaderboard.createLeaderboard=function(e,t){var n=e.statisticName,r=e.order,i=e.versionChangeInterval,o=e.updateStrategy;return u({method:"POST",path:"/leaderboard/leaderboards",data:{statisticName:n,order:r,versionChangeInterval:i,updateStrategy:o},authOptions:t}).then((function(e){var t=new y(n);return t._finishFetch(e)}))},h.Leaderboard.getLeaderboard=function(e,t){return y.createWithoutData(e).fetch(t)},h.Leaderboard.getStatistics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.statisticNames,r=arguments[2];return i.default.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");return u({method:"GET",path:"/leaderboard/users/"+e.id+"/statistics",query:{statistics:n?f(n).join(","):void 0},authOptions:r}).then((function(e){var t=e.results;return t.map(d)}))}))},h.Leaderboard.updateStatistics=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.default.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");var r=s.map(t,(function(e,t){return{statisticName:t,statisticValue:e}})),i=n.overwrite;return u({method:"POST",path:"/leaderboard/users/"+e.id+"/statistics",query:{overwrite:i?1:void 0},data:r,authOptions:n}).then((function(e){var t=e.results;return t.map(d)}))}))},h.Leaderboard.deleteStatistics=function(e,t,n){return i.default.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");return u({method:"DELETE",path:"/leaderboard/users/"+e.id+"/statistics",query:{statistics:f(t).join(",")},authOptions:n}).then((function(){}))}))},s.extend(y.prototype,{_finishFetch:function(e){var t=this;return s.forEach(e,(function(e,n){"updatedAt"!==n&&"objectId"!==n&&("expiredAt"===n&&(n="nextResetAt"),"createdAt"===n&&(e=l(e)),e&&"Date"===e.__type&&(e=l(e.iso)),t[n]=e)})),this},fetch:function(e){var t=this;return u({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:e}).then((function(e){return t._finishFetch(e)}))},count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,n=arguments[1];return u({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks",query:{count:1,limit:0,version:t},authOptions:n}).then((function(e){var t=e.count;return t}))},_getResults:function(e,t,n){var r=e.skip,i=e.limit,o=e.selectUserKeys,a=e.includeUserKeys,c=e.includeStatistics,l=e.version;return u({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks"+(n?"/"+n:""),query:{skip:r,limit:i,selectUserKeys:s.union(f(o),f(a)).join(",")||void 0,includeUser:a?f(a).join(","):void 0,includeStatistics:c?f(c).join(","):void 0,version:l},authOptions:t}).then((function(e){var t=e.results;return t.map((function(e){var t=h._decode(e),n=t.user,r=t.statisticValue,i=t.rank,o=t.statistics,s=void 0===o?[]:o;return{user:n,value:r,rank:i,includedStatistics:s.map(d)}}))}))},getResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skip,n=e.limit,r=e.selectUserKeys,i=e.includeUserKeys,o=e.includeStatistics,s=e.version,a=arguments[1];return this._getResults({skip:t,limit:n,selectUserKeys:r,includeUserKeys:i,includeStatistics:o,version:s},a)},getResultsAroundUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(e&&"string"!==typeof e.id)return this.getResultsAroundUser(void 0,e,t);var r=t.limit,i=t.selectUserKeys,o=t.includeUserKeys,s=t.includeStatistics,a=t.version;return this._getResults({limit:r,selectUserKeys:i,includeUserKeys:o,includeStatistics:s,version:a},n,e?e.id:"self")},_update:function(e,t){var n=this;return u({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName,data:e,authOptions:t}).then((function(e){return n._finishFetch(e)}))},updateVersionChangeInterval:function(e,t){return this._update({versionChangeInterval:e},t)},updateUpdateStrategy:function(e,t){return this._update({updateStrategy:e},t)},reset:function(e){var t=this;return u({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName+"/incrementVersion",authOptions:e}).then((function(e){return t._finishFetch(e)}))},destroy:function(e){return h.request({method:"DELETE",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:e}).then((function(){}))},getArchives:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.skip,r=t.limit,i=arguments[1];return u({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/archives",query:{skip:n,limit:r},authOptions:i}).then((function(t){var n=t.results;return n.map((function(t){var n=t.version,r=t.status,i=t.url,o=t.activatedAt,s=t.deactivatedAt;return{statisticName:e.statisticName,version:n,status:r,url:i,activatedAt:l(o.iso),deactivatedAt:l(s.iso)}}))}))}})},function(e,t,n){"use strict";var r=n(167);e.exports=function(e){return e.setAdapters(r),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(168);Object.defineProperty(t,"request",{enumerable:!0,get:function(){return r.request}}),Object.defineProperty(t,"upload",{enumerable:!0,get:function(){return r.upload}});var i=window.localStorage,o=window.WebSocket,s={name:"Browser"};t.WebSocket=o,t.platformInfo=s,t.storage=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.upload=t.request=void 0;var o=n(169),s=n(170);function a(e){return{ok:e.ok,status:e.status,headers:e.header,data:e.body}}t.request=function(e,t){var n=this;void 0===t&&(t={});var u=t.method,c=void 0===u?"GET":u,f=t.data,l=t.headers,h=t.onprogress,p=t.signal;if(null===p||void 0===p?void 0:p.aborted)return Promise.reject(new o.AbortError("Request aborted"));var d=s(c,e);return l&&d.set(l),h&&d.on("progress",h),new Promise((function(e,t){return r(n,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:p&&p.addEventListener("abort",(function(){t(new o.AbortError("Request aborted")),d.abort()})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d.send(f)];case 2:return n=i.sent(),e(a(n)),[3,4];case 3:return r=i.sent(),s=r,s.response?e(a(s.response)):t(r),[3,4];case 4:return[2]}}))}))}))},t.upload=function(e,t,n){void 0===n&&(n={});var u=n.method,c=void 0===u?"POST":u,f=n.data,l=n.headers,h=n.onprogress,p=n.signal;if(null===p||void 0===p?void 0:p.aborted)return Promise.reject(new o.AbortError("Request aborted"));var d=s(c,e).attach(t.field,t.data,t.name);return f&&d.field(f),l&&d.set(l),h&&d.on("progress",h),new Promise((function(e,t){return r(void 0,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:p&&p.addEventListener("abort",(function(){t(new o.AbortError("Request aborted")),d.abort()})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d];case 2:return n=i.sent(),e(a(n)),[3,4];case 3:return r=i.sent(),s=r,s.response?e(a(s.response)):t(r),[3,4];case 4:return[2]}}))}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AbortError",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="AbortError",t}return i(t,e),t}(Error)},function(e,t,n){"use strict";var r,i=n(35),o=f(i),s=n(28),a=f(s),u=n(29),c=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"===typeof c.default&&"symbol"===(0,a.default)(o.default)?function(e){return"undefined"===typeof e?"undefined":(0,a.default)(e)}:function(e){return e&&"function"===typeof c.default&&e.constructor===c.default&&e!==c.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,a.default)(e)},l(e)}"undefined"!==typeof window?r=window:"undefined"===typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),r=void 0):r=self;var h=n(171),p=n(172),d=n(173),y=n(80),v=n(174),g=n(176);function m(){}e.exports=function(e,n){return"function"===typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)},t=e.exports;var _=t;t.Request=I,_.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!==r.location.protocol||!r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("Browser-only version of superagent could not find XHR")};var b="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function w(e){if(!y(e))return e;var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&E(t,n,e[n]);return t.join("&")}function E(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){E(e,t,n)}));else if(y(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&E(e,"".concat(t,"[").concat(r,"]"),n[r]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function O(e){for(var t,n,r={},i=e.split("&"),o=0,s=i.length;o<s;++o)t=i[o],n=t.indexOf("="),-1===n?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function S(e){for(var t,n,r,i,o=e.split(/\r?\n/),s={},a=0,u=o.length;a<u;++a)n=o[a],t=n.indexOf(":"),-1!==t&&(r=n.slice(0,t).toLowerCase(),i=b(n.slice(t+1)),s[r]=i);return s}function T(e){return/[/+]json($|[^-\w])/.test(e)}function A(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=S(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function I(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new A(n)}catch(i){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=i,n.xhr?(t.rawResponse="undefined"===typeof n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(i){e=i}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function N(e,t,n){var r=_("DELETE",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}_.serializeObject=w,_.parseString=O,_.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},_.serialize={"application/x-www-form-urlencoded":w,"application/json":p},_.parse={"application/x-www-form-urlencoded":O,"application/json":JSON.parse},v(A.prototype),A.prototype._parseBody=function(e){var t=_.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&T(this.type)&&(t=_.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},A.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot ".concat(t," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},_.Response=A,h(I.prototype),d(I.prototype),I.prototype.type=function(e){return this.set("Content-Type",_.types[e]||e),this},I.prototype.accept=function(e){return this.set("Accept",_.types[e]||e),this},I.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"===l(t)&&null!==t&&(n=t,t=""),n||(n={type:"function"===typeof btoa?"basic":"auto"});var r=function(e){if("function"===typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,r)},I.prototype.query=function(e){return"string"!==typeof e&&(e=w(e)),e&&this._query.push(e),this},I.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},I.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},I.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},I.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},I.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},I.prototype.ca=I.prototype.agent,I.prototype.buffer=I.prototype.ca,I.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},I.prototype.pipe=I.prototype.write,I.prototype._isHost=function(e){return e&&"object"===l(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},I.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||m,this._finalizeQueryString(),this._end()},I.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},I.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=_.getXHR();var t=this.xhr,n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===n){var r;try{r=t.status}catch(i){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",r.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",r.bind(null,"upload"))}catch(a){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(u){return this.callback(u)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!==typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||_.serialize[i?i.split(";")[0]:""];!o&&T(i)&&(o=_.serialize["application/json"]),o&&(n=o(n))}for(var s in this.header)null!==this.header[s]&&Object.prototype.hasOwnProperty.call(this.header,s)&&t.setRequestHeader(s,this.header[s]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send("undefined"===typeof n?null:n)},_.agent=function(){return new g},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){g.prototype[e.toLowerCase()]=function(t,n){var r=new _.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),g.prototype.del=g.prototype.delete,_.get=function(e,t,n){var r=_("GET",e);return"function"===typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},_.head=function(e,t,n){var r=_("HEAD",e);return"function"===typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},_.options=function(e,t,n){var r=_("OPTIONS",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},_.del=N,_.delete=N,_.patch=function(e,t,n){var r=_("PATCH",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},_.post=function(e,t,n){var r=_("POST",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},_.put=function(e,t,n){var r=_("PUT",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);r=0;for(var i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=i,i.default=i,i.stable=a,i.stableStringify=a;var n=[],r=[];function i(e,t,i){var s;o(e,"",[],void 0),s=0===r.length?JSON.stringify(e,t,i):JSON.stringify(e,c(t),i);while(0!==n.length){var a=n.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return s}function o(e,t,i,s){var a;if("object"===typeof e&&null!==e){for(a=0;a<i.length;a++)if(i[a]===e){var u=Object.getOwnPropertyDescriptor(s,t);return void(void 0!==u.get?u.configurable?(Object.defineProperty(s,t,{value:"[Circular]"}),n.push([s,t,e,u])):r.push([e,t]):(s[t]="[Circular]",n.push([s,t,e])))}if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)o(e[a],a,i,e);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var f=c[a];o(e[f],f,i,e)}}i.pop()}}function s(e,t){return e<t?-1:e>t?1:0}function a(e,t,i){var o,s=u(e,"",[],void 0)||e;o=0===r.length?JSON.stringify(s,t,i):JSON.stringify(s,c(t),i);while(0!==n.length){var a=n.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return o}function u(e,t,i,o){var a;if("object"===typeof e&&null!==e){for(a=0;a<i.length;a++)if(i[a]===e){var c=Object.getOwnPropertyDescriptor(o,t);return void(void 0!==c.get?c.configurable?(Object.defineProperty(o,t,{value:"[Circular]"}),n.push([o,t,e,c])):r.push([e,t]):(o[t]="[Circular]",n.push([o,t,e])))}if("function"===typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)u(e[a],a,i,e);else{var f={},l=Object.keys(e).sort(s);for(a=0;a<l.length;a++){var h=l[a];u(e[h],h,i,e),f[h]=e[h]}if(void 0===o)return f;n.push([o,t,e]),o[t]=f}i.pop()}}function c(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},function(e,t,n){"use strict";var r=n(2),i=l(r),o=n(35),s=l(o),a=n(28),u=l(a),c=n(29),f=l(c);function l(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"===typeof f.default&&"symbol"===(0,u.default)(s.default)?function(e){return"undefined"===typeof e?"undefined":(0,u.default)(e)}:function(e){return e&&"function"===typeof f.default&&e.constructor===f.default&&e!==f.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,u.default)(e)},h(e)}var p=n(80);function d(e){if(e)return y(e)}function y(e){for(var t in d.prototype)Object.prototype.hasOwnProperty.call(d.prototype,t)&&(e[t]=d.prototype[t]);return e}e.exports=d,d.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},d.prototype.parse=function(e){return this._parser=e,this},d.prototype.responseType=function(e){return this._responseType=e,this},d.prototype.serialize=function(e){return this._serializer=e,this},d.prototype.timeout=function(e){if(!e||"object"!==h(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},d.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var v=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];d.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(r){console.error(r)}if(t&&t.status&&t.status>=500&&501!==t.status)return!0;if(e){if(e.code&&v.includes(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},d.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},d.prototype.then=function(e,t){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new i.default((function(e,t){r.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)t(n.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=n.status,e.method=n.method,e.url=n.url,t(e)}})),r.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},d.prototype.catch=function(e){return this.then(void 0,e)},d.prototype.use=function(e){return e(this),this},d.prototype.ok=function(e){if("function"!==typeof e)throw new Error("Callback required");return this._okCallback=e,this},d.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},d.prototype.get=function(e){return this._header[e.toLowerCase()]},d.prototype.getHeader=d.prototype.get,d.prototype.set=function(e,t){if(p(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},d.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},d.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(p(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"===typeof t&&(t=String(t)),this._getFormData().append(e,t),this},d.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},d.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e));break;default:break}return this},d.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},d.prototype.redirects=function(e){return this._maxRedirects=e,this},d.prototype.maxResponseSize=function(e){if("number"!==typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},d.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},d.prototype.send=function(e){var t=p(e),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&p(this._data))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._data[r]=e[r]);else"string"===typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},d.prototype.sortQuery=function(e){return this._sort="undefined"===typeof e||e,this},d.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.slice(t+1).split("&");"function"===typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,t)+"?"+n.join("&")}}},d.prototype._appendQueryString=function(){console.warn("Unsupported")},d.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error("".concat(e+t,"ms exceeded"));r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},d.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,t,n){"use strict";var r=n(175);function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,t)&&(e[t]=i.prototype[t]);return e}e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(this[i]=n[i]);this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(o){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e}},function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1),i=n[1].split(/ *= */)[1].slice(1,-1);return e[i]=r,e}),{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t,n){"use strict";var r=n(79),i=c(r),o=n(29),s=c(o),a=n(177),u=c(a);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return d(e)||p(e)||h(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?(0,u.default)(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function p(e){if("undefined"!==typeof s.default&&(0,i.default)(Object(e)))return(0,u.default)(e)}function d(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){v.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._defaults.push({fn:e,args:n}),this}})),v.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,f(t.args))}))},e.exports=v},function(e,t,n){e.exports={default:n(178),__esModule:!0}},function(e,t,n){n(21),n(179),e.exports=n(1).Array.from},function(e,t,n){"use strict";var r=n(23),i=n(10),o=n(27),s=n(60),a=n(61),u=n(40),c=n(180),f=n(45);i(i.S+i.F*!n(66)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,l,h=o(e),p="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=0,m=f(h);if(v&&(y=r(y,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&a(m))for(t=u(h.length),n=new p(t);t>g;g++)c(n,g,v?y(h[g],g):h[g]);else for(l=m.call(h),n=new p;!(i=l.next()).done;g++)c(n,g,v?s(l,y,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(7),i=n(25);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}}])}))}).call(this,n("4362"))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c8ff:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRequest=t.genAdapter=void 0;var a=n("f10f"),u=n("8a32"),c=n("17b0"),f=function(e){function t(t){var n=e.call(this)||this,r=t.timeout,i=t.timeoutMsg,o=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=i||"请求超时",n._restrictedMethods=o||["get","post","upload","download"],n}return r(t,e),t.prototype.get=function(e){return this._request(i(i({},e),{method:"get"}),this._restrictedMethods.includes("get"))},t.prototype.post=function(e){return this._request(i(i({},e),{method:"post"}),this._restrictedMethods.includes("post"))},t.prototype.put=function(e){return this._request(i(i({},e),{method:"put"}))},t.prototype.upload=function(e){var t=e.data,n=e.file,r=e.name,o=new FormData;for(var s in t)o.append(s,t[s]);return o.append("key",r),o.append("file",n),this._request(i(i({},e),{data:o,method:"post"}),this._restrictedMethods.includes("upload"))},t.prototype.download=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(i(i({},e),{headers:{},responseType:"blob"}))];case 1:return t=s.sent().data,n=window.URL.createObjectURL(new Blob([t])),r=decodeURIComponent(new URL(e.url).pathname.split("/").pop()||""),o=document.createElement("a"),o.href=n,o.setAttribute("download",r),o.style.display="none",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise((function(t){t({statusCode:200,tempFilePath:e.url})}))]}}))}))},t.prototype._request=function(e,t){var n=this;void 0===t&&(t=!1);var r=String(e.method).toLowerCase()||"get";return new Promise((function(i){var o,s,a=e.url,f=e.headers,l=void 0===f?{}:f,h=e.data,p=e.responseType,d=e.withCredentials,y=e.body,v=e.onUploadProgress,g=u.formatUrl(c.getProtocol(),a,"get"===r?h:{}),m=new XMLHttpRequest;for(var _ in m.open(r,g),p&&(m.responseType=p),l)m.setRequestHeader(_,l[_]);v&&m.addEventListener("progress",v),m.onreadystatechange=function(){var e={};if(4===m.readyState){var t=m.getAllResponseHeaders(),n=t.trim().split(/[\r\n]+/),r={};n.forEach((function(e){var t=e.split(": "),n=t.shift().toLowerCase(),i=t.join(": ");r[n]=i})),e.header=r,e.statusCode=m.status;try{e.data="blob"===p?m.response:JSON.parse(m.responseText)}catch(s){e.data="blob"===p?m.response:m.responseText}clearTimeout(o),i(e)}},t&&n._timeout&&(o=setTimeout((function(){console.warn(n._timeoutMsg),m.abort()}),n._timeout)),s=u.isFormData(h)?h:"application/x-www-form-urlencoded"===l["content-type"]?u.toQueryString(h):y||(h?JSON.stringify(h):void 0),d&&(m.withCredentials=!0),m.send(s)}))},t}(a.AbstractSDKRequest);function l(){var e={root:window,reqClass:f,wsClass:WebSocket,localStorage:localStorage,sessionStorage:sessionStorage};return e}t.WebRequest=f,t.genAdapter=l},c973:function(e,t,n){function r(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,u,"next",e)}function u(e){r(s,i,o,a,u,"throw",e)}a(void 0)}))}}n("d3b7"),e.exports=i},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,o=n("a640"),s=n("ae40"),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),f=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!f},{indexOf:function(e){return u?a.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},c976:function(e,t,n){var r,i,o;
/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})(0,(function(){"use strict";function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e["__isLong__"])}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},r={};function i(e,t){var i,o,a;return t?(e>>>=0,(a=0<=e&&e<256)&&(o=r[e],o)?o:(i=s(e,(0|e)<0?-1:0,!0),a&&(r[e]=i),i)):(e|=0,(a=-128<=e&&e<128)&&(o=n[e],o)?o:(i=s(e,e<0?-1:0,!1),a&&(n[e]=i),i))}function o(e,t){if(isNaN(e)||!isFinite(e))return t?g:v;if(t){if(e<0)return g;if(e>=p)return E}else{if(e<=-d)return O;if(e+1>=d)return w}return e<0?o(-e,t).neg():s(e%h|0,e/h|0,t)}function s(t,n,r){return new e(t,n,r)}e.fromInt=i,e.fromNumber=o,e.fromBits=s;var a=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=o(a(n,8)),s=v,c=0;c<e.length;c+=8){var f=Math.min(8,e.length-c),l=parseInt(e.substring(c,c+f),n);if(f<8){var h=o(a(n,f));s=s.mul(h).add(o(l))}else s=s.mul(i),s=s.add(o(l))}return s.unsigned=t,s}function c(t){return t instanceof e?t:"number"===typeof t?o(t):"string"===typeof t?u(t):s(t.low,t.high,t.unsigned)}e.fromString=u,e.fromValue=c;var f=65536,l=1<<24,h=f*f,p=h*h,d=p/2,y=i(l),v=i(0);e.ZERO=v;var g=i(0,!0);e.UZERO=g;var m=i(1);e.ONE=m;var _=i(1,!0);e.UONE=_;var b=i(-1);e.NEG_ONE=b;var w=s(-1,2147483647,!1);e.MAX_VALUE=w;var E=s(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var O=s(0,-2147483648,!1);e.MIN_VALUE=O;var S=e.prototype;return S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},S.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}var i=o(a(e,6),this.unsigned),s=this,u="";while(1){var c=s.div(i),f=s.sub(c.mul(i)).toInt()>>>0,l=f.toString(e);if(s=c,s.isZero())return l+u;while(l.length<6)l="0"+l;u=""+l+u}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0;t--)if(0!=(e&1<<t))break;return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(m)},S.neg=S.negate,S.add=function(e){t(e)||(e=c(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,u=65535&e.high,f=e.low>>>16,l=65535&e.low,h=0,p=0,d=0,y=0;return y+=o+l,d+=y>>>16,y&=65535,d+=i+f,p+=d>>>16,d&=65535,p+=r+u,h+=p>>>16,p&=65535,h+=n+a,h&=65535,s(d<<16|y,h<<16|p,this.unsigned)},S.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return v;if(t(e)||(e=c(e)),e.isZero())return v;if(this.eq(O))return e.isOdd()?O:v;if(e.eq(O))return this.isOdd()?O:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,u=e.high>>>16,f=65535&e.high,l=e.low>>>16,h=65535&e.low,p=0,d=0,g=0,m=0;return m+=a*h,g+=m>>>16,m&=65535,g+=i*h,d+=g>>>16,g&=65535,g+=a*l,d+=g>>>16,g&=65535,d+=r*h,p+=d>>>16,d&=65535,d+=i*l,p+=d>>>16,d&=65535,d+=a*f,p+=d>>>16,d&=65535,p+=n*h+r*l+i*f+a*u,p&=65535,s(g<<16|m,p<<16|d,this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:v;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return _;i=g}else{if(this.eq(O)){if(e.eq(m)||e.eq(b))return O;if(e.eq(O))return m;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(v)?e.isNegative()?m:b:(r=this.sub(e.mul(n)),i=n.add(r.div(e)),i)}if(e.eq(O))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=v}r=this;while(r.gte(e)){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var u=Math.ceil(Math.log(n)/Math.LN2),f=u<=48?1:a(2,u-48),l=o(n),h=l.mul(e);while(h.isNegative()||h.gt(r))n-=f,l=o(n,this.unsigned),h=l.mul(e);l.isZero()&&(l=m),i=i.add(l),r=r.sub(h)}return i},S.div=S.divide,S.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.not=function(){return s(~this.low,~this.high,this.unsigned)},S.and=function(e){return t(e)||(e=c(e)),s(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return t(e)||(e=c(e)),s(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return t(e)||(e=c(e)),s(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),e&=63,0===e)return this;var n=this.high;if(e<32){var r=this.low;return s(r>>>e|n<<32-e,n>>>e,this.unsigned)}return s(32===e?n:n>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}))},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);while(t.length>u)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cd3f:function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",l="[object Function]",h="[object GeneratorFunction]",p="[object Map]",d="[object Number]",y="[object Object]",v="[object Promise]",g="[object RegExp]",m="[object Set]",_="[object String]",b="[object Symbol]",w="[object WeakMap]",E="[object ArrayBuffer]",O="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",C="[object Uint8Array]",x="[object Uint8ClampedArray]",R="[object Uint16Array]",P="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,k=/\w*$/,L=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,D={};D[s]=D[a]=D[E]=D[O]=D[u]=D[c]=D[S]=D[T]=D[A]=D[I]=D[N]=D[p]=D[d]=D[y]=D[g]=D[m]=D[_]=D[b]=D[C]=D[x]=D[R]=D[P]=!0,D[f]=D[l]=D[w]=!1;var B="object"==typeof e&&e&&e.Object===Object&&e,U="object"==typeof self&&self&&self.Object===Object&&self,F=B||U||Function("return this")(),q=t&&!t.nodeType&&t,V=q&&"object"==typeof n&&n&&!n.nodeType&&n,Y=V&&V.exports===q;function $(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function z(e,t){var n=-1,r=e?e.length:0;while(++n<r)if(!1===t(e[n],n,e))break;return e}function G(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function H(e,t,n,r){var i=-1,o=e?e.length:0;r&&o&&(n=e[++i]);while(++i<o)n=t(n,e[i],i,e);return n}function K(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function J(e,t){return null==e?void 0:e[t]}function Q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function X(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Z(e,t){return function(n){return e(t(n))}}function ee(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var te=Array.prototype,ne=Function.prototype,re=Object.prototype,ie=F["__core-js_shared__"],oe=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),se=ne.toString,ae=re.hasOwnProperty,ue=re.toString,ce=RegExp("^"+se.call(ae).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=Y?F.Buffer:void 0,le=F.Symbol,he=F.Uint8Array,pe=Z(Object.getPrototypeOf,Object),de=Object.create,ye=re.propertyIsEnumerable,ve=te.splice,ge=Object.getOwnPropertySymbols,me=fe?fe.isBuffer:void 0,_e=Z(Object.keys,Object),be=At(F,"DataView"),we=At(F,"Map"),Ee=At(F,"Promise"),Oe=At(F,"Set"),Se=At(F,"WeakMap"),Te=At(Object,"create"),Ae=Mt(be),Ie=Mt(we),Ne=Mt(Ee),Ce=Mt(Oe),xe=Mt(Se),Re=le?le.prototype:void 0,Pe=Re?Re.valueOf:void 0;function je(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function ke(){this.__data__=Te?Te(null):{}}function Le(e){return this.has(e)&&delete this.__data__[e]}function Me(e){var t=this.__data__;if(Te){var n=t[e];return n===i?void 0:n}return ae.call(t,e)?t[e]:void 0}function De(e){var t=this.__data__;return Te?void 0!==t[e]:ae.call(t,e)}function Be(e,t){var n=this.__data__;return n[e]=Te&&void 0===t?i:t,this}function Ue(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Fe(){this.__data__=[]}function qe(e){var t=this.__data__,n=ot(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ve.call(t,n,1),!0}function Ve(e){var t=this.__data__,n=ot(t,e);return n<0?void 0:t[n][1]}function Ye(e){return ot(this.__data__,e)>-1}function $e(e,t){var n=this.__data__,r=ot(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function We(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function ze(){this.__data__={hash:new je,map:new(we||Ue),string:new je}}function Ge(e){return Tt(this,e)["delete"](e)}function He(e){return Tt(this,e).get(e)}function Ke(e){return Tt(this,e).has(e)}function Je(e,t){return Tt(this,e).set(e,t),this}function Qe(e){this.__data__=new Ue(e)}function Xe(){this.__data__=new Ue}function Ze(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function nt(e,t){var n=this.__data__;if(n instanceof Ue){var i=n.__data__;if(!we||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new We(i)}return n.set(e,t),this}function rt(e,t){var n=Ft(e)||Ut(e)?K(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!ae.call(e,o)||i&&("length"==o||Pt(o,r))||n.push(o);return n}function it(e,t,n){var r=e[t];ae.call(e,t)&&Bt(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ot(e,t){var n=e.length;while(n--)if(Bt(e[n][0],t))return n;return-1}function st(e,t){return e&&Et(t,Ht(t),e)}function at(e,t,n,r,i,o,a){var u;if(r&&(u=o?r(e,i,o,a):r(e)),void 0!==u)return u;if(!zt(e))return e;var c=Ft(e);if(c){if(u=Ct(e),!t)return wt(e,u)}else{var f=Nt(e),p=f==l||f==h;if(Yt(e))return pt(e,t);if(f==y||f==s||p&&!o){if(Q(e))return o?e:{};if(u=xt(p?{}:e),!t)return Ot(e,st(u,e))}else{if(!D[f])return o?e:{};u=Rt(e,f,at,t)}}a||(a=new Qe);var d=a.get(e);if(d)return d;if(a.set(e,u),!c)var v=n?St(e):Ht(e);return z(v||e,(function(i,o){v&&(o=i,i=e[o]),it(u,o,at(i,t,n,r,o,e,a))})),u}function ut(e){return zt(e)?de(e):{}}function ct(e,t,n){var r=t(e);return Ft(e)?r:G(r,n(e))}function ft(e){return ue.call(e)}function lt(e){if(!zt(e)||kt(e))return!1;var t=$t(e)||Q(e)?ce:L;return t.test(Mt(e))}function ht(e){if(!Lt(e))return _e(e);var t=[];for(var n in Object(e))ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function pt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function dt(e){var t=new e.constructor(e.byteLength);return new he(t).set(new he(e)),t}function yt(e,t){var n=t?dt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function vt(e,t,n){var r=t?n(X(e),!0):X(e);return H(r,$,new e.constructor)}function gt(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}function mt(e,t,n){var r=t?n(ee(e),!0):ee(e);return H(r,W,new e.constructor)}function _t(e){return Pe?Object(Pe.call(e)):{}}function bt(e,t){var n=t?dt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wt(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}function Et(e,t,n,r){n||(n={});var i=-1,o=t.length;while(++i<o){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;it(n,s,void 0===a?e[s]:a)}return n}function Ot(e,t){return Et(e,It(e),t)}function St(e){return ct(e,Ht,It)}function Tt(e,t){var n=e.__data__;return jt(t)?n["string"==typeof t?"string":"hash"]:n.map}function At(e,t){var n=J(e,t);return lt(n)?n:void 0}je.prototype.clear=ke,je.prototype["delete"]=Le,je.prototype.get=Me,je.prototype.has=De,je.prototype.set=Be,Ue.prototype.clear=Fe,Ue.prototype["delete"]=qe,Ue.prototype.get=Ve,Ue.prototype.has=Ye,Ue.prototype.set=$e,We.prototype.clear=ze,We.prototype["delete"]=Ge,We.prototype.get=He,We.prototype.has=Ke,We.prototype.set=Je,Qe.prototype.clear=Xe,Qe.prototype["delete"]=Ze,Qe.prototype.get=et,Qe.prototype.has=tt,Qe.prototype.set=nt;var It=ge?Z(ge,Object):Kt,Nt=ft;function Ct(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function xt(e){return"function"!=typeof e.constructor||Lt(e)?{}:ut(pe(e))}function Rt(e,t,n,r){var i=e.constructor;switch(t){case E:return dt(e);case u:case c:return new i(+e);case O:return yt(e,r);case S:case T:case A:case I:case N:case C:case x:case R:case P:return bt(e,r);case p:return vt(e,r,n);case d:case _:return new i(e);case g:return gt(e);case m:return mt(e,r,n);case b:return _t(e)}}function Pt(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function jt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function kt(e){return!!oe&&oe in e}function Lt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||re;return e===n}function Mt(e){if(null!=e){try{return se.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Dt(e){return at(e,!0,!0)}function Bt(e,t){return e===t||e!==e&&t!==t}function Ut(e){return Vt(e)&&ae.call(e,"callee")&&(!ye.call(e,"callee")||ue.call(e)==s)}(be&&Nt(new be(new ArrayBuffer(1)))!=O||we&&Nt(new we)!=p||Ee&&Nt(Ee.resolve())!=v||Oe&&Nt(new Oe)!=m||Se&&Nt(new Se)!=w)&&(Nt=function(e){var t=ue.call(e),n=t==y?e.constructor:void 0,r=n?Mt(n):void 0;if(r)switch(r){case Ae:return O;case Ie:return p;case Ne:return v;case Ce:return m;case xe:return w}return t});var Ft=Array.isArray;function qt(e){return null!=e&&Wt(e.length)&&!$t(e)}function Vt(e){return Gt(e)&&qt(e)}var Yt=me||Jt;function $t(e){var t=zt(e)?ue.call(e):"";return t==l||t==h}function Wt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function zt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Gt(e){return!!e&&"object"==typeof e}function Ht(e){return qt(e)?rt(e):ht(e)}function Kt(){return[]}function Jt(){return!1}n.exports=Dt}).call(this,n("c8ba"),n("62e4")(e))},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d010:function(e,t,n){"use strict";function r(e,t,n){this.$children.forEach((function(i){var o=i.$options.componentName;o===e?i.$emit.apply(i,[t].concat(n)):r.apply(i,[e,t].concat([n]))}))}t.__esModule=!0,t.default={methods:{dispatch:function(e,t,n){var r=this.$parent||this.$root,i=r.$options.componentName;while(r&&(!i||i!==e))r=r.$parent,r&&(i=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){r.call(this,e,t,n)}}}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d086:function(e,t,n){"use strict";var r;e.exports.timeout=function(e,t){var n,i=new r;return Promise.race([e,new Promise((function(e,r){n=setTimeout((function(){r(i)}),t)}))]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))};r=e.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},r.prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"},d148:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"Point",(function(){return Ui})),n.d(r,"LineString",(function(){return Si})),n.d(r,"Polygon",(function(){return Ai})),n.d(r,"MultiPoint",(function(){return Ni})),n.d(r,"MultiLineString",(function(){return xi})),n.d(r,"MultiPolygon",(function(){return Pi}));var i=n("364b"),o=n("f10f"),s=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},u=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function f(){if("undefined"===typeof wx)return!1;if("undefined"===typeof Page)return!1;if(!wx.getSystemInfoSync)return!1;if(!wx.getStorageSync)return!1;if(!wx.setStorageSync)return!1;if(!wx.connectSocket)return!1;if(!wx.request)return!1;try{if(!wx.getSystemInfoSync())return!1;if("qq"===wx.getSystemInfoSync().AppPlatform)return!1}catch(e){return!1}return!0}function l(){return"undefined"===typeof App&&"undefined"===typeof getApp&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}var h=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this,r=t.timeout,i=t.timeoutMsg,o=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=i||"请求超时",n._restrictedMethods=o||["get","post","upload","download"],n}return s(t,e),t.prototype.post=function(e){var t=this;return new Promise((function(n,r){var i=e.url,s=e.data,a=e.headers,u=wx.request({url:Object(o["formatUrl"])("https:",i),data:s,timeout:t._timeout,method:"POST",header:a,success:function(e){n(e)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&t._timeout&&-1!==t._restrictedMethods.indexOf("post")){var n=e.errMsg;if("request:fail timeout"===n){console.warn(t._timeoutMsg);try{u.abort()}catch(r){}}}}})}))},t.prototype.upload=function(e){var t=this,n=this;return new Promise((function(r){return u(t,void 0,void 0,(function(){var t,i,o,s,u,f;return c(this,(function(c){return t=e.url,i=e.file,o=e.data,s=e.headers,u=e.onUploadProgress,f=wx.uploadFile({url:t,filePath:i,name:"file",formData:a({},o),header:s,timeout:this._timeout,success:function(e){var t={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&o.success_action_status&&(t.statusCode=parseInt(o.success_action_status,10)),r(t)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&n._timeout&&-1!==n._restrictedMethods.indexOf("upload")){var t=e.errMsg;if("request:fail timeout"===t){console.warn(n._timeoutMsg);try{f.abort()}catch(r){}}}}}),u&&f.onProgressUpdate((function(e){u(e)})),[2]}))}))}))},t.prototype.download=function(e){var t=this,n=this;return new Promise((function(r,i){var s=e.url,a=e.headers,u=wx.downloadFile({url:Object(o["formatUrl"])("https:",s),header:a,timeout:t._timeout,success:function(e){200===e.statusCode&&e.tempFilePath?r({statusCode:200,tempFilePath:e.tempFilePath}):r(e)},fail:function(e){i(e)},complete:function(e){if(e&&e.errMsg&&n._timeout&&-1!==n._restrictedMethods.indexOf("download")){var t=e.errMsg;if("request:fail timeout"===t){console.warn(n._timeoutMsg);try{u.abort()}catch(r){}}}}})}))},t}(o["AbstractSDKRequest"]),p={setItem:function(e,t){wx.setStorageSync(e,t)},getItem:function(e){return wx.getStorageSync(e)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}},d=function(){function e(e,t){void 0===t&&(t={});var n=wx.connectSocket(a({url:e},t)),r={set onopen(e){n.onOpen(e)},set onmessage(e){n.onMessage(e)},set onclose(e){n.onClose(e)},set onerror(e){n.onError(e)},send:function(e){return n.send({data:e})},close:function(e,t){return n.close({code:e,reason:t})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};return r}return e}();function y(){var e={root:{},reqClass:h,wsClass:d,localStorage:p,primaryStorage:o["StorageType"].local,getAppSign:function(){var e=wx.getAccountInfoSync();return l()?e&&e.plugin?e.plugin.appId:"":e&&e.miniProgram?e.miniProgram.appId:""}};return e}var v={genAdapter:y,isMatch:f,runtime:"wx_mp"},g=v,m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},_=i["constants"].ERRORS,b={};function w(e,t){var n=t.name,r=t.namespace,i=t.entity,o=t.injectEvents,s=t.IIFE,a=void 0!==s&&s;if(b[n]||r&&e[r])throw new Error(JSON.stringify({code:_.INVALID_OPERATION,msg:"Duplicate component "+n}));if(a){if(!i||"function"!==typeof i)throw new Error(JSON.stringify({code:_.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));i.call(e)}if(b[n]=t,r?e.prototype[r]=i:E(e.prototype,i),o){var u=o.bus,c=o.events;if(!u||!c||0===c.length)return;var f=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={});var l=e.prototype.events||{};l[n]?e.prototype.events[n].events=m(e.prototype.events[n].events,c):e.prototype.events[n]={bus:u,events:c},e.prototype.fire=function(e,t){for(var n in f(e,t),this.events){var r=this.events[n],i=r.bus,o=r.events;if(o.includes(e)){i.fire(e,t);break}}}}}function E(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=E(e[r],t[r]));return e}function O(e,t){var n=t.entity,r=t.target;if(!e.prototype.hasOwnProperty(r))throw new Error(JSON.stringify({code:_.INVALID_OPERATION,msg:"target:"+r+" is not exist"}));var i=e.prototype[r];if("function"!==typeof i)throw new Error(JSON.stringify({code:_.INVALID_OPERATION,msg:"target:"+r+" is not a function which is the only type supports hook"}));e.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.call.apply(n,m([this],e)),i.call.apply(i,m([this],e))}}var S={},T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},T.apply(this,arguments)},A="access_token",I="access_token_expire",N="refresh_token",C="anonymous_uuid",x="login_type",R="user_info",P=i["cache"].CloudbaseCache,j={},k={};function L(e){var t=e.env,n=e.persistence,r=e.platformInfo,i=A+"_"+t,o=I+"_"+t,s=N+"_"+t,a=C+"_"+t,u=x+"_"+t,c=R+"_"+t,f={accessTokenKey:i,accessTokenExpireKey:o,refreshTokenKey:s,anonymousUuidKey:a,loginTypeKey:u,userInfoKey:c};j[t]?j[t].updatePersistence(n):j[t]=new P(T(T({},e),{keys:f,platformInfo:r,alwaysLocalKeys:["anonymousUuidKey"]})),k[t]=k[t]||new P(T(T({},e),{keys:f,platformInfo:r,persistence:"local"}))}function M(e){return j[e]}function D(e){return k[e]}var B=n("f12e"),U={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"},F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F.apply(this,arguments)},q=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},V=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Y=i["constants"].ERRORS,$=i["utils"].genSeqId,W=i["utils"].isFormData,z=i["utils"].formatUrl,G=i["utils"].createSign,H=i["adapters"].RUNTIME,K=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function J(e,t,n){var r=e[t];e[t]=function(t){var i={},o={};n.forEach((function(n){var r=n.call(e,t),s=r.data,a=r.headers;Object.assign(i,s),Object.assign(o,a)}));var s=t.data;return s&&function(){if(W(s))for(var e in i)s.append(e,i[e]);else t.data=F(F({},s),i)}(),t.headers=F(F({},t.headers||{}),o),r.call(e,t)}}function Q(){var e=$();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/"+Object(B["e"])(),"x-seqid":e}}}var X=function(){function e(e){this._throwWhenRequestFail=!1,this.config=e,this._reqClass=new S.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] 请求在"+this.config.timeout/1e3+"s内未完成，已中断",restrictedMethods:["post"]}),this._throwWhenRequestFail=e.throw||!1,this._cache=M(this.config.env),this._localCache=D(this.config.env),J(this._reqClass,"post",[Q]),J(this._reqClass,"upload",[Q]),J(this._reqClass,"download",[Q])}return e.prototype.post=function(e){return q(this,void 0,void 0,(function(){var t;return V(this,(function(n){switch(n.label){case 0:return[4,this._reqClass.post(e)];case 1:return t=n.sent(),[2,t]}}))}))},e.prototype.upload=function(e){return q(this,void 0,void 0,(function(){var t;return V(this,(function(n){switch(n.label){case 0:return[4,this._reqClass.upload(e)];case 1:return t=n.sent(),[2,t]}}))}))},e.prototype.download=function(e){return q(this,void 0,void 0,(function(){var t;return V(this,(function(n){switch(n.label){case 0:return[4,this._reqClass.download(e)];case 1:return t=n.sent(),[2,t]}}))}))},e.prototype.refreshAccessToken=function(){return q(this,void 0,void 0,(function(){var e,t,n;return V(this,(function(r){switch(r.label){case 0:this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._refreshAccessTokenPromise];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return[2,e]}}))}))},e.prototype.getAccessToken=function(){return q(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c;return V(this,(function(f){switch(f.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,[4,this._cache.getStoreAsync(r)];case 1:if(i=f.sent(),!i)throw new Error(JSON.stringify({code:Y.OPERATION_FAIL,msg:"refresh token is not exist, your local data might be messed up, please retry after clear localStorage or sessionStorage"}));return[4,this._cache.getStoreAsync(t)];case 2:return o=f.sent(),a=Number,[4,this._cache.getStoreAsync(n)];case 3:return s=a.apply(void 0,[f.sent()]),u=!0,c=this._shouldRefreshAccessTokenHook,c?[4,this._shouldRefreshAccessTokenHook(o,s)]:[3,5];case 4:c=!f.sent(),f.label=5;case 5:return c&&(u=!1),o&&s&&!(s<Date.now())||!u?[3,7]:[4,this.refreshAccessToken()];case 6:return[2,f.sent()];case 7:return[2,{accessToken:o,accessTokenExpire:s}]}}))}))},e.prototype.request=function(e,t,n){return q(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f,l,h,p,d,y,v,g,m,_,b,w,E,O,T,A,I,N,C,x;return V(this,(function(R){switch(R.label){case 0:return r="x-tcb-trace_"+this.config.env,i="application/x-www-form-urlencoded",o=F({action:e,dataVersion:B["a"],env:this.config.env},t),-1!==K.indexOf(e)?[3,3]:(s=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(s)]);case 1:return a=R.sent(),a?(u=o,[4,this.getAccessToken()]):[3,3];case 2:u.access_token=R.sent().accessToken,R.label=3;case 3:if("storage.uploadFile"===e){for(f in c=new FormData,c)c.hasOwnProperty(f)&&void 0!==c[f]&&c.append(f,o[f]);i="multipart/form-data"}else for(f in i="application/json;charset=UTF-8",c={},o)void 0!==o[f]&&(c[f]=o[f]);return l={headers:{"content-type":i}},(null===n||void 0===n?void 0:n["onUploadProgress"])&&(l.onUploadProgress=n["onUploadProgress"]),this.config.region&&(l.headers["X-TCB-Region"]=this.config.region),h=this._localCache.getStore(r),h&&(l.headers["X-TCB-Trace"]=h),S.runtime!==H.WEB&&(p=this.config,d=p.appSign,y=p.appSecret,v=Date.now(),g=y.appAccessKey,m=y.appAccessKeyId,_=G({data:c,timestamp:v,appAccessKeyId:m,appSign:d},g),l.headers["X-TCB-App-Source"]="timestamp="+v+";appAccessKeyId="+m+";appSign="+d+";sign="+_),b=t.parse,w=t.inQuery,E=t.search,O={env:this.config.env},b&&(O.parse=!0),w&&(O=F(F({},w),O)),T=Object(B["c"])(),A=T.BASE_URL,I=T.PROTOCOL,N=z(I,A,O),E&&(N+=E),[4,this.post(F({url:N,data:c},l))];case 4:if(C=R.sent(),x=C.header&&C.header["x-tcb-trace"],x&&this._localCache.setStore(r,x),200!==Number(C.status)&&200!==Number(C.statusCode)||!C.data)throw new Error("network request error");return[2,C]}}))}))},e.prototype.send=function(e,t){return void 0===t&&(t={}),q(this,void 0,void 0,(function(){var n;return V(this,(function(r){switch(r.label){case 0:return[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 1:return n=r.sent(),"ACCESS_TOKEN_EXPIRED"!==n.data.code||-1!==K.indexOf(e)?[3,4]:[4,this.refreshAccessToken()];case 2:return r.sent(),[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 3:n=r.sent(),r.label=4;case 4:if(n.data.code&&this._throwWhenRequestFail)throw new Error(JSON.stringify({code:Y.OPERATION_FAIL,msg:"["+n.data.code+"] "+n.data.message}));return[2,n.data]}}))}))},e.prototype._refreshAccessToken=function(){return q(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c,f,l,h,p;return V(this,(function(d){switch(d.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,i=e.loginTypeKey,o=e.anonymousUuidKey,[4,this._cache.removeStoreAsync(t)];case 1:return d.sent(),[4,this._cache.removeStoreAsync(n)];case 2:return d.sent(),[4,this._cache.getStoreAsync(r)];case 3:if(s=d.sent(),!s)throw new Error(JSON.stringify({code:Y.INVALID_OPERATION,msg:"not login"}));return a={refresh_token:s},[4,this.request("auth.fetchAccessTokenWithRefreshToken",a)];case 4:return u=d.sent(),u.data.code?(c=u.data.code,"SIGN_PARAM_INVALID"!==c&&"REFRESH_TOKEN_EXPIRED"!==c&&"INVALID_REFRESH_TOKEN"!==c?[3,11]:[4,this._cache.getStoreAsync(i)]):[3,12];case 5:return f=d.sent()===B["b"].ANONYMOUS,f&&"INVALID_REFRESH_TOKEN"===c?[4,this._cache.getStoreAsync(o)]:[3,9];case 6:return l=d.sent(),[4,this._cache.getStoreAsync(r)];case 7:return h=d.sent(),[4,this.send("auth.signInAnonymously",{anonymous_uuid:l,refresh_token:h})];case 8:return p=d.sent(),this._setRefreshToken(p.refresh_token),[2,this._refreshAccessToken()];case 9:return _e.fire(U.LOGIN_STATE_EXPIRED),[4,this._cache.removeStoreAsync(r)];case 10:d.sent(),d.label=11;case 11:throw new Error(JSON.stringify({code:Y.NETWORK_ERROR,msg:"refresh access_token failed："+u.data.code}));case 12:return u.data.access_token?(_e.fire(U.ACCESS_TOKEN_REFRESHD),[4,this._cache.setStoreAsync(t,u.data.access_token)]):[3,15];case 13:return d.sent(),[4,this._cache.setStoreAsync(n,u.data.access_token_expire+Date.now())];case 14:return d.sent(),[2,{accessToken:u.data.access_token,accessTokenExpire:u.data.access_token_expire}];case 15:return u.data.refresh_token?[4,this._cache.removeStoreAsync(r)]:[3,19];case 16:return d.sent(),[4,this._cache.setStoreAsync(r,u.data.refresh_token)];case 17:return d.sent(),[4,this._refreshAccessToken()];case 18:d.sent(),d.label=19;case 19:return[2]}}))}))},e.prototype._setRefreshToken=function(e){return q(this,void 0,void 0,(function(){var t,n,r,i;return V(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return o.sent(),[4,this._cache.setStoreAsync(i,e)];case 3:return o.sent(),[2]}}))}))},e}(),Z={};function ee(e){Z[e.env]=new X(F(F({},e),{throw:!0}))}function te(e){return Z[e]}var ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ne.apply(this,arguments)},re=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ie=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},oe=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},se=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ae=i["adapters"].useAdapters,ue=i["adapters"].useDefaultAdapter,ce=i["adapters"].RUNTIME,fe=i["constants"].ERRORS,le=i["constants"].COMMUNITY_SITE_URL,he=i["utils"].printWarn,pe=i["helpers"].catchErrorsDecorator,de={timeout:15e3,persistence:"session"},ye=6e5,ve=100,ge={},me=function(){function e(e){this._config=e||this._config,this.authInstance=null}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return M(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return D(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return te(this._config.env)},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(!t.env)throw new Error(JSON.stringify({code:fe.INVALID_PARAMS,msg:"env must not be specified"}));if(S.adapter||this._useDefaultAdapter(),this.requestClient=new S.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"["+Object(B["d"])()+"][REQUEST TIMEOUT] request had been abort since didn't finished within"+t.timeout/1e3+"s"}),S.runtime!==ce.WEB){if(!t.appSecret)throw new Error(JSON.stringify({code:fe.INVALID_PARAMS,msg:"invalid appSecret"}));var n=S.adapter.getAppSign?S.adapter.getAppSign():"";if(t.appSign&&n&&t.appSign!==n)throw new Error(JSON.stringify({code:fe.INVALID_PARAMS,msg:"invalid appSign"}));if(n&&(t.appSign=n),!t.appSign)throw new Error(JSON.stringify({code:fe.INVALID_PARAMS,msg:"invalid appSign"}))}this._config=ne(ne({},de),t),this._config.timeout=this._formatTimeout(this._config.timeout);var r=this._config,i=r.env,o=r.persistence,s=r.debug,a=r.timeout,u=r.appSecret,c=r.appSign;return L({env:i,persistence:o,debug:s,platformInfo:this.platform}),ee({env:i,region:t.region||"",timeout:a,appSecret:u,appSign:c}),t.region&&Object(B["g"])(i,t.region||""),new e(this._config)},e.prototype.updateConfig=function(e){var t=e.persistence,n=e.debug;this._config.persistence=t,this._config.debug=n,L({env:this._config.env,persistence:t,debug:n,platformInfo:this.platform})},e.prototype.registerExtension=function(e){ge[e.name]=e},e.prototype.invokeExtension=function(e,t){return oe(this,void 0,void 0,(function(){var n;return se(this,(function(r){switch(r.label){case 0:if(n=ge[e],!n)throw new Error(JSON.stringify({code:fe.INVALID_PARAMS,msg:"extension:"+e+" must be registered before invoke"}));return[4,n.invoke(t,this)];case 1:return[2,r.sent()]}}))}))},e.prototype.useAdapters=function(e){var t=ae(e)||{},n=t.adapter,r=t.runtime;n&&(S.adapter=n),r&&(S.runtime=r)},e.prototype.registerHook=function(t){O(e,t)},e.prototype.registerComponent=function(t){w(e,t)},e.prototype.registerVersion=function(e){Object(B["i"])(e)},e.prototype.registerSdkName=function(e){Object(B["h"])(e)},e.prototype.registerEndPoint=function(e,t){Object(B["f"])(e,t)},e.prototype._useDefaultAdapter=function(){var e=ue(),t=e.adapter,n=e.runtime;S.adapter=t,S.runtime=n},e.prototype._formatTimeout=function(e){switch(!0){case e>ye:return he(fe.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),ye;case e<ve:return he(fe.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),ve;default:return e}},re([pe({mode:"sync",title:"Cloudbase 初始化失败",messages:["请确认以下各项：","  1 - 调用 cloudbase.init() 的语法或参数是否正确","  2 - 如果是非浏览器环境，是否配置了安全应用来源（https://docs.cloudbase.net/api-reference/webv2/adapter.html#jie-ru-liu-cheng）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+le]}),ie("design:type",Function),ie("design:paramtypes",[Object]),ie("design:returntype",e)],e.prototype,"init",null),re([pe({title:"调用扩展能力失败",messages:["请确认以下各项：","  1 - 调用 invokeExtension() 的语法或参数是否正确","  2 - 被调用的扩展能力是否已经安装并通过 registerExtension() 注册","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+le]}),ie("design:type",Function),ie("design:paramtypes",[String,Object]),ie("design:returntype",Promise)],e.prototype,"invokeExtension",null),e}(),_e=new me;_e.useAdapters(g);var be,we=_e,Ee=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Oe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Se=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request}return e.prototype.checkLocalLoginState=function(){return Ee(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Oe(this,(function(s){switch(s.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return r=s.sent(),[4,this._cache.getStoreAsync(n)];case 2:return i=s.sent(),r?i&&i>Date.now()?(o=new Wt({envId:this._config.env,cache:this._cache,request:this._request}),[4,o.checkLocalStateAsync()]):[3,4]:[3,7];case 3:return s.sent(),[2,o];case 4:return[4,this._cache.removeStoreAsync(t)];case 5:return s.sent(),[4,this._cache.removeStoreAsync(n)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},e.prototype.setRefreshToken=function(e){return Ee(this,void 0,void 0,(function(){var t,n,r,i;return Oe(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return o.sent(),[4,this._cache.setStoreAsync(i,e)];case 3:return o.sent(),[2]}}))}))},e.prototype.setAccessToken=function(e,t){return Ee(this,void 0,void 0,(function(){var n,r,i;return Oe(this,(function(o){switch(o.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,i=n.accessTokenExpireKey,[4,this._cache.setStoreAsync(r,e)];case 1:return o.sent(),[4,this._cache.setStoreAsync(i,t)];case 2:return o.sent(),[2]}}))}))},e.prototype.refreshUserInfo=function(){return Ee(this,void 0,void 0,(function(){var e,t;return Oe(this,(function(n){switch(n.label){case 0:return e="auth.getUserInfo",[4,this._request.send(e,{})];case 1:return t=n.sent().data,[4,this.setLocalUserInfo(t)];case 2:return n.sent(),[2,t]}}))}))},e.prototype.setLocalUserInfo=function(e){return Ee(this,void 0,void 0,(function(){var t;return Oe(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.setStoreAsync(t,e)];case 1:return n.sent(),[2]}}))}))},e}();(function(e){e["ANONYMOUS"]="ANONYMOUS",e["WECHAT"]="WECHAT",e["WECHAT_PUBLIC"]="WECHAT-PUBLIC",e["WECHAT_OPEN"]="WECHAT-OPEN",e["CUSTOM"]="CUSTOM",e["EMAIL"]="EMAIL",e["USERNAME"]="USERNAME",e["NULL"]="NULL"})(be||(be={}));var Te=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ie=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Ne=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ce=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},xe=i["constants"].getSdkName,Re=i["constants"].ERRORS,Pe=i["constants"].COMMUNITY_SITE_URL,je=i["adapters"].RUNTIME,ke=i["utils"].getQuery,Le=i["utils"].getHash,Me=i["utils"].removeParam,De=i["utils"].printWarn,Be=i["helpers"].catchErrorsDecorator,Ue=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._runtime=t.runtime,o._appid=n,o._scope=r,o._state=i||"weixin",o}return Te(t,e),t.prototype.signIn=function(){return Ne(this,void 0,void 0,(function(){return Ce(this,(function(e){return[2,De(Re.OPERATION_FAIL,"API signIn has been deprecated, please use signInWithRedirect insteed")]}))}))},t.prototype.signInWithRedirect=function(){return Ne(this,void 0,void 0,(function(){return Ce(this,(function(e){return[2,this._redirect()]}))}))},t.prototype.getRedirectResult=function(e){return Ne(this,void 0,void 0,(function(){var t;return Ce(this,(function(n){return t=Fe(),t?[2,this._signInWithCode(t,e)]:[2,null]}))}))},t.prototype.getLinkRedirectResult=function(e){return void 0===e&&(e={}),Ne(this,void 0,void 0,(function(){var t,n,r,i,o,s;return Ce(this,(function(a){return t=e.withUnionId,n=void 0!==t&&t,r=Fe(),r?(i=this._appid,o=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),s=this._runtime===je.WX_MP?"1":"0",[2,this._request.send("auth.linkWithWeixinCode",{payload:{appid:i,loginType:o,code:r,hybridMiniapp:s,withUnionId:n}})]):[2,null]}))}))},t.prototype._redirect=function(){var e=Me("code",location.href);e=Me("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this._scope&&(t="//open.weixin.qq.com/connect/qrconnect");try{location.href=t+"?appid="+this._appid+"&redirect_uri="+e+"&response_type=code&scope="+this._scope+"&state="+this._state+"#wechat_redirect"}catch(n){throw new Error("["+xe()+"]["+Re.UNKOWN_ERROR+"]"+n)}},t.prototype._signInWithCode=function(e,t){return Ne(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Ce(this,(function(f){switch(f.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,i=n.accessTokenExpireKey,o=n.refreshTokenKey,s=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),[4,this._getRefreshTokenByWXCode(this._appid,s,e,t)];case 1:return a=f.sent(),u=a.refreshToken,[4,this._cache.setStoreAsync(o,u)];case 2:return f.sent(),a.accessToken?[4,this._cache.setStoreAsync(r,a.accessToken)]:[3,4];case 3:f.sent(),f.label=4;case 4:return a.accessTokenExpire?[4,this._cache.setStoreAsync(i,String(a.accessTokenExpire+Date.now()))]:[3,6];case 5:f.sent(),f.label=6;case 6:return Yt.fire(Gt.LOGIN_STATE_CHANGED),Yt.fire(Gt.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:be.WECHAT,persistence:this._config.persistence}),[4,this.refreshUserInfo()];case 7:return f.sent(),c=new Wt({envId:this._config.env,cache:this._cache,request:this._request}),[4,c.checkLocalStateAsync()];case 8:return f.sent(),[2,c]}}))}))},t.prototype._getRefreshTokenByWXCode=function(e,t,n,r){return void 0===r&&(r={}),Ne(this,void 0,void 0,(function(){var i,o,s,a,u,c,f;return Ce(this,(function(l){return i=r.withUnionId,o=void 0!==i&&i,s=r.createUser,a=void 0===s||s,u="snsapi_base"!==this._scope&&(r.syncUserInfo||!1),c="auth.signIn",f=this._runtime===je.WX_MP?"1":"0",[2,this._request.send(c,{appid:e,loginType:t,hybridMiniapp:f,syncUserInfo:u,loginCredential:n,withUnionId:o,createUser:a}).then((function(e){if(e.code)throw new Error("["+xe()+"]["+Re.OPERATION_FAIL+"] failed login via wechat: "+e.code);if(e.refresh_token)return{refreshToken:e.refresh_token,accessToken:e.access_token,accessTokenExpire:e.access_token_expire};throw new Error("["+xe()+"]["+Re.OPERATION_FAIL+"] action:getJwt not return refreshToken")}))]}))}))},Ae([Be({title:"跳转微信公众号授权失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().signInWithRedirect() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Pe]}),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",Promise)],t.prototype,"signInWithRedirect",null),Ae([Be({title:"微信公众号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Pe]}),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Promise)],t.prototype,"getRedirectResult",null),Ae([Be({title:"获取微信重定向绑定结果",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getLinkRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Pe]}),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Promise)],t.prototype,"getLinkRedirectResult",null),t}(Se);function Fe(){return ke("code")||Le("code")}var qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ye=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},$e=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},We=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ze=i["constants"].ERRORS,Ge=i["constants"].COMMUNITY_SITE_URL,He=i["utils"].throwError,Ke=i["utils"].isString,Je=i["events"].addEventListener,Qe=i["helpers"].catchErrorsDecorator,Xe=function(e){function t(t){var n=e.call(this,t)||this;return n._onConverted=n._onConverted.bind(n),Je(Gt.ANONYMOUS_CONVERTED,n._onConverted),n}return qe(t,e),t.prototype.signIn=function(){return $e(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return We(this,(function(a){switch(a.label){case 0:return[4,this._cache.updatePersistenceAsync("local")];case 1:return a.sent(),e=this._cache.keys,t=e.anonymousUuidKey,n=e.refreshTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=a.sent(),[4,this._cache.getStoreAsync(n)];case 3:return i=a.sent(),[4,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:i})];case 4:return o=a.sent(),o.uuid&&o.refresh_token?[4,this._setAnonymousUUID(o.uuid)]:[3,10];case 5:return a.sent(),[4,this.setRefreshToken(o.refresh_token)];case 6:return a.sent(),[4,this._request.refreshAccessToken()];case 7:return a.sent(),Yt.fire(Gt.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:be.ANONYMOUS,persistence:"local"}),Yt.fire(Gt.LOGIN_STATE_CHANGED),s=new Wt({envId:this._config.env,cache:this._cache,request:this._request}),[4,s.checkLocalStateAsync()];case 8:return a.sent(),[4,s.user.refresh()];case 9:return a.sent(),[2,s];case 10:throw new Error(JSON.stringify({code:ze.OPERATION_FAIL,msg:JSON.stringify(o)||"anonymous signIn failed"}))}}))}))},t.prototype.linkAndRetrieveDataWithTicket=function(e){return $e(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return We(this,(function(u){switch(u.label){case 0:return Ke(e)||He(ze.INVALID_PARAMS,"ticket must be a string"),t=this._cache.keys,n=t.anonymousUuidKey,r=t.refreshTokenKey,[4,this._cache.getStoreAsync(n)];case 1:return i=u.sent(),[4,this._cache.getStoreAsync(r)];case 2:return o=u.sent(),[4,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:i,refresh_token:o,ticket:e})];case 3:return s=u.sent(),s.refresh_token?[4,this._clearAnonymousUUID()]:[3,8];case 4:return u.sent(),[4,this.setRefreshToken(s.refresh_token)];case 5:return u.sent(),[4,this._request.refreshAccessToken()];case 6:return u.sent(),Yt.fire(Gt.ANONYMOUS_CONVERTED,{env:this._config.env}),Yt.fire(Gt.LOGIN_TYPE_CHANGED,{loginType:be.CUSTOM,persistence:"local"}),a=new Wt({envId:this._config.env,cache:this._cache,request:this._request}),[4,a.checkLocalStateAsync()];case 7:return u.sent(),[2,a];case 8:He(ze.OPERATION_FAIL,JSON.stringify(s)||"linkAndRetrieveDataWithTicket failed"),u.label=9;case 9:return[2]}}))}))},t.prototype._setAnonymousUUID=function(e){return $e(this,void 0,void 0,(function(){var t,n,r;return We(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.setStoreAsync(n,e)];case 2:return i.sent(),[4,this._cache.setStoreAsync(r,be.ANONYMOUS)];case 3:return i.sent(),[2]}}))}))},t.prototype._clearAnonymousUUID=function(){return $e(this,void 0,void 0,(function(){return We(this,(function(e){switch(e.label){case 0:return[4,this._cache.removeStoreAsync(this._cache.keys.anonymousUuidKey)];case 1:return e.sent(),[2]}}))}))},t.prototype._onConverted=function(e){return $e(this,void 0,void 0,(function(){var t;return We(this,(function(n){switch(n.label){case 0:return t=e.data.env,t!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(this._config.persistence)];case 1:return n.sent(),[2]}}))}))},Ve([Qe({title:"匿名登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了匿名登录","  2 - 调用 auth().anonymouseProvider().signIn() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ge]}),Ye("design:type",Function),Ye("design:paramtypes",[]),Ye("design:returntype",Promise)],t.prototype,"signIn",null),t}(Se),Ze=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},tt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},nt=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},rt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},it=i["constants"].ERRORS,ot=i["constants"].COMMUNITY_SITE_URL,st=i["utils"].isString,at=i["helpers"].catchErrorsDecorator,ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ze(t,e),t.prototype.signIn=function(e){return nt(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return rt(this,(function(u){switch(u.label){case 0:if(!st(e))throw new Error(JSON.stringify({code:it.INVALID_PARAMS,msg:"ticket must be a string"}));return t=this._cache.keys.refreshTokenKey,i=(r=this._request).send,o=["auth.signInWithTicket"],s={ticket:e},[4,this._cache.getStoreAsync(t)];case 1:return[4,i.apply(r,o.concat([(s.refresh_token=u.sent()||"",s)]))];case 2:return n=u.sent(),n.refresh_token?[4,this.setRefreshToken(n.refresh_token)]:[3,7];case 3:return u.sent(),[4,this._request.refreshAccessToken()];case 4:return u.sent(),Yt.fire(Gt.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:be.CUSTOM,persistence:this._config.persistence}),Yt.fire(Gt.LOGIN_STATE_CHANGED),[4,this.refreshUserInfo()];case 5:return u.sent(),a=new Wt({envId:this._config.env,cache:this._cache,request:this._request}),[4,a.checkLocalStateAsync()];case 6:return u.sent(),[2,a];case 7:throw new Error(JSON.stringify({code:it.OPERATION_FAIL,msg:"custom signIn failed"}))}}))}))},et([at({title:"自定义登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了自定义登录","  2 - 调用 auth().customAuthProvider().signIn() 的语法或参数是否正确","  3 - ticket 是否归属于当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ot]}),tt("design:type",Function),tt("design:paramtypes",[String]),tt("design:returntype",Promise)],t.prototype,"signIn",null),t}(Se),ct=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},lt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},ht=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},pt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},dt=i["utils"].throwError,yt=i["utils"].isString,vt=i["constants"].ERRORS,gt=i["constants"].COMMUNITY_SITE_URL,mt=i["helpers"].catchErrorsDecorator,_t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ct(t,e),t.prototype.signIn=function(e,t){return ht(this,void 0,void 0,(function(){var n,r,i,o,s;return pt(this,(function(a){switch(a.label){case 0:return yt(e)||dt(vt.INVALID_PARAMS,"email must be a string"),n=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(n)||""})];case 1:return r=a.sent(),i=r.refresh_token,o=r.access_token,s=r.access_token_expire,i?[4,this.setRefreshToken(i)]:[3,8];case 2:return a.sent(),o&&s?[4,this.setAccessToken(o,s)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:a.sent(),a.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return a.sent(),Yt.fire(Gt.LOGIN_STATE_CHANGED),Yt.fire(Gt.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:be.EMAIL,persistence:this._config.persistence}),[2,new Wt({envId:this._config.env,cache:this._cache,request:this._request})];case 8:r.code?dt(vt.OPERATION_FAIL,"Email login fail["+r.code+"] "+r.message):dt(vt.OPERATION_FAIL,"Email login fail"),a.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t){return ht(this,void 0,void 0,(function(){return pt(this,(function(n){return[2,this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})]}))}))},t.prototype.resetPassword=function(e){return ht(this,void 0,void 0,(function(){return pt(this,(function(t){return[2,this._request.send("auth.sendPasswordResetEmail",{email:e})]}))}))},t.prototype.resetPasswordWithToken=function(e,t){return ht(this,void 0,void 0,(function(){return pt(this,(function(n){return[2,this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})]}))}))},t.prototype.activate=function(e){return ht(this,void 0,void 0,(function(){return pt(this,(function(t){return[2,this._request.send("auth.activateEndUserMail",{token:e})]}))}))},ft([mt({title:"邮箱密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().emailAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 邮箱地址与密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gt]}),lt("design:type",Function),lt("design:paramtypes",[String,String]),lt("design:returntype",Promise)],t.prototype,"signIn",null),ft([mt({title:"邮箱注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithEmailAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gt]}),lt("design:type",Function),lt("design:paramtypes",[String,String]),lt("design:returntype",Promise)],t.prototype,"signUp",null),ft([mt({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用 auth().sendPasswordResetEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经与当前用户绑定","  4 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gt]}),lt("design:type",Function),lt("design:paramtypes",[String]),lt("design:returntype",Promise)],t.prototype,"resetPassword",null),ft([mt({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gt]}),lt("design:type",Function),lt("design:paramtypes",[String,String]),lt("design:returntype",Promise)],t.prototype,"resetPasswordWithToken",null),ft([mt({title:"邮箱激活失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gt]}),lt("design:type",Function),lt("design:paramtypes",[String]),lt("design:returntype",Promise)],t.prototype,"activate",null),t}(Se),bt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Et=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Ot=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},St=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Tt=i["utils"].printWarn,At=i["constants"].ERRORS,It=i["constants"].COMMUNITY_SITE_URL,Nt=i["helpers"].catchErrorsDecorator,Ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bt(t,e),t.prototype.signIn=function(e,t){return Ot(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f;return St(this,(function(l){switch(l.label){case 0:if("string"!==typeof e)throw new Error(JSON.stringify({code:At.INVALID_PARAMS,msg:"username must be a string"}));return"string"!==typeof t&&(t="",Tt(At.INVALID_PARAMS,"password is empty")),n=this._cache.keys.refreshTokenKey,o=(i=this._request).send,s=["auth.signIn"],a={loginType:be.USERNAME,username:e,password:t},[4,this._cache.getStoreAsync(n)];case 1:return[4,o.apply(i,s.concat([(a.refresh_token=l.sent()||"",a)]))];case 2:return r=l.sent(),u=r.refresh_token,c=r.access_token_expire,f=r.access_token,u?[4,this.setRefreshToken(u)]:[3,9];case 3:return l.sent(),f&&c?[4,this.setAccessToken(f,c)]:[3,5];case 4:return l.sent(),[3,7];case 5:return[4,this._request.refreshAccessToken()];case 6:l.sent(),l.label=7;case 7:return[4,this.refreshUserInfo()];case 8:return l.sent(),Yt.fire(Gt.LOGIN_STATE_CHANGED),Yt.fire(Gt.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:be.USERNAME,persistence:this._config.persistence}),[2,new Wt({envId:this._config.env,cache:this._cache,request:this._request})];case 9:throw r.code?new Error(JSON.stringify({code:At.OPERATION_FAIL,msg:"login by username failed:["+r.code+"] "+r.message})):new Error(JSON.stringify({code:At.OPERATION_FAIL,msg:"login by username failed"}));case 10:return[2]}}))}))},wt([Nt({title:"用户名密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().signInWithUsernameAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","  3 - 用户名密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+It]}),Et("design:type",Function),Et("design:paramtypes",[String,String]),Et("design:returntype",Promise)],t.prototype,"signIn",null),t}(Se),xt=function(){return xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xt.apply(this,arguments)},Rt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Pt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},jt=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},kt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Lt=i["events"].CloudbaseEventEmitter,Mt=i["adapters"].RUNTIME,Dt=i["utils"].printWarn,Bt=i["utils"].throwError,Ut=i["constants"].ERRORS,Ft=i["constants"].COMMUNITY_SITE_URL,qt=i["helpers"].catchErrorsDecorator,Vt="auth",Yt=new Lt,$t=function(){function e(e){var t=e.cache,n=e.request;this._cache=t,this._request=n,this._setUserInfo()}return e.prototype.checkLocalInfo=function(){return jt(this,void 0,void 0,(function(){return kt(this,(function(e){return this.uid=this._getLocalUserInfo("uid"),this.loginType=this._getLocalUserInfo("loginType"),this.openid=this._getLocalUserInfo("wxOpenId"),this.wxOpenId=this._getLocalUserInfo("wxOpenId"),this.wxPublicId=this._getLocalUserInfo("wxPublicId"),this.unionId=this._getLocalUserInfo("wxUnionId"),this.qqMiniOpenId=this._getLocalUserInfo("qqMiniOpenId"),this.customUserId=this._getLocalUserInfo("customUserId"),this.nickName=this._getLocalUserInfo("nickName"),this.gender=this._getLocalUserInfo("gender"),this.avatarUrl=this._getLocalUserInfo("avatarUrl"),this.email=this._getLocalUserInfo("email"),this.hasPassword=Boolean(this._getLocalUserInfo("hasPassword")),this.location={country:this._getLocalUserInfo("country"),province:this._getLocalUserInfo("province"),city:this._getLocalUserInfo("city")},[2]}))}))},e.prototype.checkLocalInfoAsync=function(){return jt(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c,f,l,h,p,d,y;return kt(this,(function(v){switch(v.label){case 0:return e=this,[4,this._getLocalUserInfoAsync("uid")];case 1:return e.uid=v.sent(),t=this,[4,this._getLocalUserInfoAsync("loginType")];case 2:return t.loginType=v.sent(),n=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 3:return n.openid=v.sent(),r=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 4:return r.wxOpenId=v.sent(),i=this,[4,this._getLocalUserInfoAsync("wxPublicId")];case 5:return i.wxPublicId=v.sent(),o=this,[4,this._getLocalUserInfoAsync("wxUnionId")];case 6:return o.unionId=v.sent(),s=this,[4,this._getLocalUserInfoAsync("qqMiniOpenId")];case 7:return s.qqMiniOpenId=v.sent(),a=this,[4,this._getLocalUserInfoAsync("customUserId")];case 8:return a.customUserId=v.sent(),u=this,[4,this._getLocalUserInfoAsync("nickName")];case 9:return u.nickName=v.sent(),c=this,[4,this._getLocalUserInfoAsync("gender")];case 10:return c.gender=v.sent(),f=this,[4,this._getLocalUserInfoAsync("avatarUrl")];case 11:return f.avatarUrl=v.sent(),l=this,[4,this._getLocalUserInfoAsync("email")];case 12:return l.email=v.sent(),h=this,p=Boolean,[4,this._getLocalUserInfoAsync("hasPassword")];case 13:return h.hasPassword=p.apply(void 0,[v.sent()]),d=this,y={},[4,this._getLocalUserInfoAsync("country")];case 14:return y.country=v.sent(),[4,this._getLocalUserInfoAsync("province")];case 15:return y.province=v.sent(),[4,this._getLocalUserInfoAsync("city")];case 16:return d.location=(y.city=v.sent(),y),[2]}}))}))},e.prototype.linkWithTicket=function(e){if("string"!==typeof e)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})},e.prototype.linkWithRedirect=function(e){e.signInWithRedirect()},e.prototype.getLinkedUidList=function(){return jt(this,void 0,void 0,(function(){var e,t,n,r,i,o;return kt(this,(function(s){switch(s.label){case 0:return[4,this._request.send("auth.getLinkedUidList",{})];case 1:for(e=s.sent().data,t=!1,n=e.users,r=0,i=n;r<i.length;r++)if(o=i[r],o.wxOpenId&&o.wxPublicId){t=!0;break}return[2,{users:n,hasPrimaryUid:t}]}}))}))},e.prototype.setPrimaryUid=function(e){return this._request.send("auth.setPrimaryUid",{uid:e})},e.prototype.unlink=function(e){return this._request.send("auth.unlink",{platform:e})},e.prototype.update=function(e){return jt(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return kt(this,(function(u){switch(u.label){case 0:return t=e.nickName,n=e.gender,r=e.avatarUrl,i=e.province,o=e.country,s=e.city,[4,this._request.send("auth.updateUserInfo",{nickName:t,gender:n,avatarUrl:r,province:i,country:o,city:s})];case 1:return a=u.sent().data,this._setLocalUserInfo(a),[2]}}))}))},e.prototype.updatePassword=function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})},e.prototype.updateEmail=function(e){return this._request.send("auth.updateEmail",{newEmail:e})},e.prototype.updateUsername=function(e){return"string"!==typeof e&&Bt(Ut.INVALID_PARAMS,"username must be a string"),this._request.send("auth.updateUsername",{username:e})},e.prototype.refresh=function(){return jt(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return e="auth.getUserInfo",[4,this._request.send(e,{})];case 1:return t=n.sent().data,this._setLocalUserInfo(t),[2,t]}}))}))},e.prototype._getLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);return n[e]},e.prototype._getLocalUserInfoAsync=function(e){return jt(this,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.getStoreAsync(t)];case 1:return n=r.sent(),[2,n[e]]}}))}))},e.prototype._setUserInfo=function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(t){e[t]=n[t]})),this.location={country:n["country"],province:n["province"],city:n["city"]}},e.prototype._setLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this._setUserInfo()},Rt([qt({title:"绑定自定义登录失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithTicket() 的语法或参数是否正确","  2 - 此账户是否已经绑定自定义登录","  3 - ticket 参数是否归属当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[String]),Pt("design:returntype",Promise)],e.prototype,"linkWithTicket",null),Rt([qt({title:"绑定第三方登录方式失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithRedirect() 的语法或参数是否正确","  2 - 此账户是否已经绑定此第三方","  3 - 此第三方是否已经授权","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[Object]),Pt("design:returntype",void 0)],e.prototype,"linkWithRedirect",null),Rt([qt({title:"获取账户列表失败",messages:["请确认以下各项：","  1 - 调用 User.getLinkedUidList() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[]),Pt("design:returntype",Promise)],e.prototype,"getLinkedUidList",null),Rt([qt({title:"设置微信主账号失败",messages:["请确认以下各项：","  1 - 调用 User.setPrimaryUid() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[String]),Pt("design:returntype",void 0)],e.prototype,"setPrimaryUid",null),Rt([qt({title:"接触绑定失败",messages:["请确认以下各项：","  1 - 调用 User.unlink() 的语法或参数是否正确","  2 - 当前账户是否已经与此登录方式解绑","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[String]),Pt("design:returntype",void 0)],e.prototype,"unlink",null),Rt([qt({title:"更新用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.update() 的语法或参数是否正确","  2 - 用户信息中是否包含非法值","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[Object]),Pt("design:returntype",Promise)],e.prototype,"update",null),Rt([qt({title:"更新密码失败",messages:["请确认以下各项：","  1 - 调用 User.updatePassword() 的语法或参数是否正确","  3 - 新密码中是否包含非法字符","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[String,String]),Pt("design:returntype",void 0)],e.prototype,"updatePassword",null),Rt([qt({title:"更新邮箱地址失败",messages:["请确认以下各项：","  1 - 调用 User.updateEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[String]),Pt("design:returntype",void 0)],e.prototype,"updateEmail",null),Rt([qt({title:"更新用户名失败",messages:["请确认以下各项：","  1 - 调用 User.updateUsername() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[String]),Pt("design:returntype",void 0)],e.prototype,"updateUsername",null),Rt([qt({title:"刷新本地用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.refresh() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[]),Pt("design:returntype",Promise)],e.prototype,"refresh",null),e}(),Wt=function(){function e(e){var t=e.envId,n=e.cache,r=e.request;t||Bt(Ut.INVALID_PARAMS,"envId is not defined"),this._cache=n,this.user=new $t({cache:n,request:r})}return e.prototype.checkLocalState=function(){return jt(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return kt(this,(function(a){return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,i=this._cache.getStore(t),o=this._cache.getStore(n),s=this._cache.getStore(r),this.credential={refreshToken:i,accessToken:o,accessTokenExpire:s},this._loginType=this._cache.getStore(this._cache.keys.loginTypeKey),this.user.checkLocalInfo(),[2]}))}))},e.prototype.checkLocalStateAsync=function(){return jt(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a;return kt(this,(function(u){switch(u.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return i=u.sent(),[4,this._cache.getStoreAsync(n)];case 2:return o=u.sent(),[4,this._cache.getStoreAsync(r)];case 3:return s=u.sent(),this.credential={refreshToken:i,accessToken:o,accessTokenExpire:s},a=this,[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 4:return a._loginType=u.sent(),[4,this.user.checkLocalInfoAsync()];case 5:return u.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"isAnonymousAuth",{get:function(){return this.loginType===be.ANONYMOUS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomAuth",{get:function(){return this.loginType===be.CUSTOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeixinAuth",{get:function(){return this.loginType===be.WECHAT||this.loginType===be.WECHAT_OPEN||this.loginType===be.WECHAT_PUBLIC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsernameAuth",{get:function(){return this.loginType===be.USERNAME},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},enumerable:!1,configurable:!0}),e}(),zt=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request,this._runtime=e.runtime||Mt.WEB,Yt.on(Gt.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged.bind(this))}return Object.defineProperty(e.prototype,"currentUser",{get:function(){if("async"!==this._cache.mode){var e=this.hasLoginState();return e&&e.user||null}Dt(Ut.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrenUser insteed")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!1,configurable:!0}),e.prototype.getCurrenUser=function(){return jt(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return[4,this.getLoginState()];case 1:return e=t.sent(),e?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return t.sent(),[2,e.user||null];case 3:return[2,null]}}))}))},e.prototype.getLoginType=function(){return jt(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 1:return[2,e.sent()]}}))}))},e.prototype.getAccessToken=function(){return jt(this,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return e={},[4,this._request.getAccessToken()];case 1:return[2,(e.accessToken=t.sent().accessToken,e.env=this._config.env,e)]}}))}))},e.prototype.weixinAuthProvider=function(e){var t=e.appid,n=e.scope,r=e.state;return this._weixinAuthProvider||(this._weixinAuthProvider=new Ue(xt(xt({},this._config),{cache:this._cache,request:this._request,runtime:this._runtime}),t,n,r)),this._weixinAuthProvider},e.prototype.anonymousAuthProvider=function(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new Xe(xt(xt({},this._config),{cache:this._cache,request:this._request}))),this._anonymousAuthProvider},e.prototype.customAuthProvider=function(){return this._customAuthProvider||(this._customAuthProvider=new ut(xt(xt({},this._config),{cache:this._cache,request:this._request}))),this._customAuthProvider},e.prototype.emailAuthProvider=function(){return this._emailAuthProvider||(this._emailAuthProvider=new _t(xt(xt({},this._config),{cache:this._cache,request:this._request}))),this._emailAuthProvider},e.prototype.usernameAuthProvider=function(){return this._usernameAuthProvider||(this._usernameAuthProvider=new Ct(xt(xt({},this._config),{cache:this._cache,request:this._request}))),this._usernameAuthProvider},e.prototype.signInWithUsernameAndPassword=function(e,t){return jt(this,void 0,void 0,(function(){return kt(this,(function(n){return[2,this.usernameAuthProvider().signIn(e,t)]}))}))},e.prototype.isUsernameRegistered=function(e){return jt(this,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return"string"!==typeof e&&Bt(Ut.INVALID_PARAMS,"username must be a string"),[4,this._request.send("auth.isUsernameRegistered",{username:e})];case 1:return t=n.sent().data,[2,null===t||void 0===t?void 0:t.isRegistered]}}))}))},e.prototype.signInWithEmailAndPassword=function(e,t){return jt(this,void 0,void 0,(function(){return kt(this,(function(n){return[2,this.emailAuthProvider().signIn(e,t)]}))}))},e.prototype.signUpWithEmailAndPassword=function(e,t){return jt(this,void 0,void 0,(function(){return kt(this,(function(n){return[2,this.emailAuthProvider().signUp(e,t)]}))}))},e.prototype.sendPasswordResetEmail=function(e){return jt(this,void 0,void 0,(function(){return kt(this,(function(t){return[2,this.emailAuthProvider().resetPassword(e)]}))}))},e.prototype.signOut=function(){return jt(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a;return kt(this,(function(u){switch(u.label){case 0:return[4,this.getLoginType()];case 1:if(e=u.sent(),e===be.ANONYMOUS)throw new Error(JSON.stringify({code:Ut.INVALID_OPERATION,msg:"anonymous user doesn't support signOut action"}));return t=this._cache.keys,n=t.refreshTokenKey,r=t.accessTokenKey,i=t.accessTokenExpireKey,o="auth.logout",[4,this._cache.getStoreAsync(n)];case 2:return s=u.sent(),s?[4,this._request.send(o,{refresh_token:s})]:[2];case 3:return a=u.sent(),this._cache.removeStoreAsync(n),this._cache.removeStoreAsync(r),this._cache.removeStoreAsync(i),Yt.fire(Gt.LOGIN_STATE_CHANGED),Yt.fire(Gt.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:be.NULL,persistence:this._config.persistence}),[2,a]}}))}))},e.prototype.onLoginStateChanged=function(e){return jt(this,void 0,void 0,(function(){var t,n=this;return kt(this,(function(r){switch(r.label){case 0:return Yt.on(Gt.LOGIN_STATE_CHANGED,(function(){return jt(n,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))})),[4,this.getLoginState()];case 1:return t=r.sent(),e.call(this,t),[2]}}))}))},e.prototype.onLoginStateExpired=function(e){Yt.on(Gt.LOGIN_STATE_EXPIRED,e.bind(this))},e.prototype.onAccessTokenRefreshed=function(e){Yt.on(Gt.ACCESS_TOKEN_REFRESHD,e.bind(this))},e.prototype.onAnonymousConverted=function(e){Yt.on(Gt.ANONYMOUS_CONVERTED,e.bind(this))},e.prototype.onLoginTypeChanged=function(e){var t=this;Yt.on(Gt.LOGIN_TYPE_CHANGED,(function(){return jt(t,void 0,void 0,(function(){var t;return kt(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))}))},e.prototype.hasLoginState=function(){if("async"!==this._cache.mode){var e=this._cache.keys.refreshTokenKey,t=this._cache.getStore(e);if(t){var n=new Wt({envId:this._config.env,cache:this._cache,request:this._request});return n.checkLocalState(),n}return null}Dt(Ut.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed")},e.prototype.getLoginState=function(){return jt(this,void 0,void 0,(function(){var e,t,n;return kt(this,(function(r){switch(r.label){case 0:return e=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(e)];case 1:return t=r.sent(),t?(n=new Wt({envId:this._config.env,cache:this._cache,request:this._request}),[4,n.checkLocalStateAsync()]):[3,3];case 2:return r.sent(),[2,n];case 3:return[2,null]}}))}))},e.prototype.shouldRefreshAccessToken=function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)},e.prototype.getUserInfo=function(){return jt(this,void 0,void 0,(function(){var e,t;return kt(this,(function(n){switch(n.label){case 0:return e="auth.getUserInfo",[4,this._request.send(e,{})];case 1:return t=n.sent(),t.code?[2,t]:[2,xt(xt({},t.data),{requestId:t.seqId})]}}))}))},e.prototype.getAuthHeader=function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t),i=this._cache.getStore(n);return{"x-cloudbase-credentials":i+"/@@/"+r}},e.prototype.getAuthHeaderAsync=function(){return jt(this,void 0,void 0,(function(){var e,t,n,r,i;return kt(this,(function(o){switch(o.label){case 0:return[4,this._request.refreshAccessToken()];case 1:return o.sent(),e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=o.sent(),[4,this._cache.getStoreAsync(n)];case 3:return i=o.sent(),[2,{"x-cloudbase-credentials":i+"/@@/"+r}]}}))}))},e.prototype._onLoginTypeChanged=function(e){return jt(this,void 0,void 0,(function(){var t,n,r,i;return kt(this,(function(o){switch(o.label){case 0:return t=e.data,n=t.loginType,r=t.persistence,i=t.env,i!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(r)];case 1:return o.sent(),[4,this._cache.setStoreAsync(this._cache.keys.loginTypeKey,n)];case 2:return o.sent(),[2]}}))}))},Rt([qt({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 调用 auth().getCurrenUser() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[]),Pt("design:returntype",Promise)],e.prototype,"getCurrenUser",null),Rt([qt({title:"获取用户是否被占用失败",messages:["请确认以下各项：","  1 - 调用 auth().isUsernameRegistered() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[String]),Pt("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),Rt([qt({title:"用户登出失败",messages:["请确认以下各项：","  1 - 调用 auth().signOut() 的语法或参数是否正确","  2 - 当前用户是否为匿名登录（匿名登录不支持signOut）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[]),Pt("design:returntype",Promise)],e.prototype,"signOut",null),Rt([qt({title:"获取本地登录态失败",messages:["请确认以下各项：","  1 - 调用 auth().getLoginState() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[]),Pt("design:returntype",Promise)],e.prototype,"getLoginState",null),Rt([qt({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 是否已登录","  2 - 调用 auth().getUserInfo() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ft]}),Pt("design:type",Function),Pt("design:paramtypes",[]),Pt("design:returntype",Promise)],e.prototype,"getUserInfo",null),e}(),Gt={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"},Ht={name:Vt,namespace:"auth",injectEvents:{bus:Yt,events:[Gt.LOGIN_TYPE_CHANGED,Gt.LOGIN_STATE_EXPIRED,Gt.LOGIN_STATE_CHANGED,Gt.ACCESS_TOKEN_REFRESHD,Gt.ANONYMOUS_CONVERTED]},entity:function(e){if(void 0===e&&(e={region:"",persistence:"session"}),this.authInstance)return Dt(Ut.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform,n=t.adapter,r=t.runtime,i=e.persistence||n.primaryStorage;i&&i!==this.config.persistence&&this.updateConfig({persistence:i});var o=this.config,s=o.env,a=o.persistence,u=o.debug;return this.authInstance=new zt({env:s,region:e.region,persistence:a,debug:u,cache:this.cache,request:this.request,runtime:r}),this.authInstance}};try{cloudbase.registerComponent(Ht)}catch(cs){}function Kt(e){try{e.registerComponent(Ht)}catch(cs){console.warn(cs)}}var Jt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Qt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Xt=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Zt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},en=i["constants"].getSdkName,tn=i["constants"].ERRORS,nn=i["constants"].COMMUNITY_SITE_URL,rn=i["utils"].execCallback,on=i["helpers"].catchErrorsDecorator,sn="functions",an=function(){function e(){}return e.prototype.callFunction=function(e,t){return Xt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,p;return Zt(this,(function(d){switch(d.label){case 0:if(n=e.name,r=e.data,i=e.query,o=e.parse,s=e.search,!n)throw new Error(JSON.stringify({code:tn.INVALID_PARAMS,msg:"["+sn+".callFunction] invalid function name"}));try{a=r?JSON.stringify(r):""}catch(cs){throw new Error(JSON.stringify({code:tn.INVALID_PARAMS,msg:"["+sn+".callFunction] invalid data"}))}u="functions.invokeFunction",c={inQuery:i,parse:o,search:s,function_name:n,request_data:a},f=this.request,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,f.send(u,c)];case 2:if(l=d.sent(),l.code)return[2,rn(t,null,l)];if(h=l.data.response_data,o)return[2,rn(t,null,{result:h,requestId:l.requestId})];try{return h=JSON.parse(l.data.response_data),[2,rn(t,null,{result:h,requestId:l.requestId})]}catch(cs){rn(t,new Error("["+en()+"]["+tn.INVALID_PARAMS+"]["+sn+".callFunction] response data must be json"))}return[3,4];case 3:return p=d.sent(),rn(t,p),[3,4];case 4:return[2]}}))}))},Jt([on({customInfo:{className:"Cloudbase",methodName:"callFunction"},title:"函数调用失败",messages:["请确认以下各项：","  1 - 调用 callFunction() 的语法或参数是否正确","  2 - 当前环境下是否存在此函数","  3 - 函数安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+nn]}),Qt("design:type",Function),Qt("design:paramtypes",[Object,Function]),Qt("design:returntype",Promise)],e.prototype,"callFunction",null),e}(),un=new an,cn={name:sn,entity:{callFunction:un.callFunction}};try{cloudbase.registerComponent(cn)}catch(cs){}function fn(e){try{e.registerComponent(cn)}catch(cs){console.warn(cs)}}var ln=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},hn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},pn=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},dn=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},yn=i["constants"].getSdkName,vn=i["constants"].ERRORS,gn=i["constants"].COMMUNITY_SITE_URL,mn=i["utils"].isArray,_n=i["utils"].isString,bn=i["utils"].isPalinObject,wn=i["utils"].execCallback,En=i["helpers"].catchErrorsDecorator,On="storage",Sn=function(){function e(){}return e.prototype.uploadFile=function(e,t){return pn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,p,d,y,v;return dn(this,(function(g){switch(g.label){case 0:if(n=e.cloudPath,r=e.filePath,i=e.onUploadProgress,!_n(n)||!r)throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".uploadFile] invalid params"}));return o="storage.getUploadMetadata",s=this.request,[4,s.send(o,{path:n})];case 1:return a=g.sent(),u=a.data,c=u.url,f=u.authorization,l=u.token,h=u.fileId,p=u.cosFileId,d=a.requestId,y={key:n,signature:f,"x-cos-meta-fileid":p,success_action_status:"201","x-cos-security-token":l},[4,s.upload({url:c,data:y,file:r,name:n,onUploadProgress:i})];case 2:return v=g.sent(),201===v.statusCode?[2,wn(t,null,{fileID:h,requestId:d})]:[2,wn(t,new Error("["+yn()+"]["+vn.OPERATION_FAIL+"]["+On+"]:"+v.data))]}}))}))},e.prototype.getUploadMetadata=function(e,t){return pn(this,void 0,void 0,(function(){var n,r,i,o,s;return dn(this,(function(a){switch(a.label){case 0:if(n=e.cloudPath,!_n(n))throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".getUploadMetadata] invalid cloudPath"}));r=this.request,i="storage.getUploadMetadata",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.send(i,{path:n})];case 2:return o=a.sent(),[2,wn(t,null,o)];case 3:return s=a.sent(),[2,wn(t,s)];case 4:return[2]}}))}))},e.prototype.deleteFile=function(e,t){return pn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return dn(this,(function(f){switch(f.label){case 0:if(n=e.fileList,!n||!mn(n)||0===n.length)throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".deleteFile] fileList must not be empty"}));for(r=0,i=n;r<i.length;r++)if(o=i[r],!o||!_n(o))throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".deleteFile] fileID must be string"}));return s="storage.batchDeleteFile",a=this.request,[4,a.send(s,{fileid_list:n})];case 1:return u=f.sent(),u.code?[2,wn(t,null,u)]:(c={fileList:u.data.delete_list,requestId:u.requestId},[2,wn(t,null,c)])}}))}))},e.prototype.getTempFileURL=function(e,t){return pn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return dn(this,(function(f){switch(f.label){case 0:if(n=e.fileList,!n||!mn(n)||0===n.length)throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".getTempFileURL] fileList must not be empty"}));for(r=[],i=0,o=n;i<o.length;i++)if(s=o[i],bn(s)){if(!s.hasOwnProperty("fileID")||!s.hasOwnProperty("maxAge"))throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".getTempFileURL] file info must include fileID and maxAge"}));r.push({fileid:s.fileID,max_age:s.maxAge})}else{if(!_n(s))throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".getTempFileURL] invalid fileList"}));r.push({fileid:s})}return a="storage.batchGetDownloadUrl",u=this.request,[4,u.send(a,{file_list:r})];case 1:return c=f.sent(),c.code?[2,wn(t,null,c)]:[2,wn(t,null,{fileList:c.data.download_list,requestId:c.requestId})]}}))}))},e.prototype.downloadFile=function(e,t){return pn(this,void 0,void 0,(function(){var n,r,i,o,s,a;return dn(this,(function(u){switch(u.label){case 0:if(n=e.fileID,!_n(n))throw new Error(JSON.stringify({code:vn.INVALID_PARAMS,msg:"["+On+".getTempFileURL] fileID must be string"}));return[4,this.getTempFileURL.call(this,{fileList:[{fileID:n,maxAge:600}]})];case 1:return r=u.sent(),i=r.fileList[0],"SUCCESS"!==i.code?[2,wn(t,i)]:(o=this.request,s=encodeURI(i.download_url),[4,o.download({url:s})]);case 2:return a=u.sent(),[2,wn(t,null,a)]}}))}))},ln([En({customInfo:{className:"Cloudbase",methodName:"uploadFile"},title:"上传文件失败",messages:["请确认以下各项：","  1 - 调用 uploadFile() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gn]}),hn("design:type",Function),hn("design:paramtypes",[Object,Function]),hn("design:returntype",Promise)],e.prototype,"uploadFile",null),ln([En({customInfo:{className:"Cloudbase",methodName:"getUploadMetadata"},title:"获取上传元信息失败",messages:["请确认以下各项：","  1 - 调用 getUploadMetadata() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gn]}),hn("design:type",Function),hn("design:paramtypes",[Object,Function]),hn("design:returntype",Promise)],e.prototype,"getUploadMetadata",null),ln([En({customInfo:{className:"Cloudbase",methodName:"deleteFile"},title:"删除文件失败",messages:["请确认以下各项：","  1 - 调用 deleteFile() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gn]}),hn("design:type",Function),hn("design:paramtypes",[Object,Function]),hn("design:returntype",Promise)],e.prototype,"deleteFile",null),ln([En({customInfo:{className:"Cloudbase",methodName:"getTempFileURL"},title:"获取文件下载链接",messages:["请确认以下各项：","  1 - 调用 getTempFileURL() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gn]}),hn("design:type",Function),hn("design:paramtypes",[Object,Function]),hn("design:returntype",Promise)],e.prototype,"getTempFileURL",null),ln([En({customInfo:{className:"Cloudbase",methodName:"downloadFile"},title:"下载文件失败",messages:["请确认以下各项：","  1 - 调用 downloadFile() 的语法或参数是否正确","  2 - 当前域名是否在安全域名列表中：https://console.cloud.tencent.com/tcb/env/safety","  3 - 云存储安全规则是否限制了当前登录状态访问","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+gn]}),hn("design:type",Function),hn("design:paramtypes",[Object,Function]),hn("design:returntype",Promise)],e.prototype,"downloadFile",null),e}(),Tn=new Sn,An={name:On,entity:{uploadFile:Tn.uploadFile,deleteFile:Tn.deleteFile,getTempFileURL:Tn.getTempFileURL,downloadFile:Tn.downloadFile,getUploadMetadata:Tn.getUploadMetadata}};try{cloudbase.registerComponent(An)}catch(cs){}function In(e){try{e.registerComponent(An)}catch(cs){console.warn(cs)}}var Nn=n("f4c4"),Cn=n.n(Nn),xn=n("abc7"),Rn=n.n(xn),Pn=n("cd3f"),jn=n.n(Pn);function kn(e){return void 0===e&&(e=""),(e?e+"_":"")+ +new Date+"_"+Math.random()}var Ln,Mn=function(){function e(e){this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return e.virtualClient}})}return e}(),Dn=function(){function e(e){var t,n,r=e.id,i=e.docChanges,o=e.docs,s=e.msgType,a=e.type;Object.defineProperties(this,{id:{get:function(){return r},enumerable:!0},docChanges:{get:function(){return t||(t=JSON.parse(JSON.stringify(i))),t},enumerable:!0},docs:{get:function(){return n||(n=JSON.parse(JSON.stringify(o))),n},enumerable:!0},msgType:{get:function(){return s},enumerable:!0},type:{get:function(){return a},enumerable:!0}})}return e}(),Bn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Un=function(e){function t(t){var n=e.call(this,"Watch Error "+JSON.stringify(t.msgData)+" (requestid: "+t.requestId+")")||this;return n.isRealtimeErrorMessageError=!0,n.payload=t,n}return Bn(t,e),t}(Error),Fn=function(e){return null===e||void 0===e?void 0:e.isRealtimeErrorMessageError},qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeout",t.payload=null,t.generic=!0,t}return Bn(t,e),t}(Error),Vn=function(e){return"timeout"===e.type},Yn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cancelled",t.payload=null,t.generic=!0,t}return Bn(t,e),t}(Error),$n=function(e){return"cancelled"===e.type},Wn=function(e){function t(t){var n=e.call(this,t.errMsg)||this;return n.errCode="UNKNOWN_ERROR",Object.defineProperties(n,{message:{get:function(){return"errCode: "+this.errCode+" "+(zn[this.errCode]||"")+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e}}}),n.errCode=t.errCode||"UNKNOWN_ERROR",n.errMsg=t.errMsg,n}return Bn(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: "+this.errCode+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e},enumerable:!1,configurable:!0}),t}(Error),zn={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"},Gn=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},Hn=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Kn=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Jn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};(function(e){e["LOGGINGIN"]="LOGGINGIN",e["INITING"]="INITING",e["REBUILDING"]="REBUILDING",e["ACTIVE"]="ACTIVE",e["ERRORED"]="ERRORED",e["CLOSING"]="CLOSING",e["CLOSED"]="CLOSED",e["PAUSED"]="PAUSED",e["RESUMING"]="RESUMING"})(Ln||(Ln={}));var Qn=100,Xn=2,Zn=2,er=1e4,tr=1e4,nr=1e4,rr=function(){function e(e){var t=this;this.watchStatus=Ln.INITING,this._login=function(e,n){return Hn(t,void 0,void 0,(function(){var t;return Kn(this,(function(r){switch(r.label){case 0:return this.watchStatus=Ln.LOGGINGIN,[4,this.login(e,n)];case 1:return t=r.sent(),this.envId||(this.envId=t.envId),[2,t]}}))}))},this.initWatch=function(e){return Hn(t,void 0,void 0,(function(){var t,n=this;return Kn(this,(function(r){switch(r.label){case 0:if(this._initWatchPromise)return[2,this._initWatchPromise];this._initWatchPromise=new Promise((function(t,r){return Hn(n,void 0,void 0,(function(){var n,i,o,s,a,u,c,f,l,h,p;return Kn(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),this.watchStatus===Ln.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,t()]):[4,this._login(this.envId,e)];case 1:return n=d.sent().envId,this.watchStatus===Ln.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,t()]):(this.watchStatus=Ln.INITING,i={watchId:this.watchId,requestId:kn(),msgType:"INIT_WATCH",msgData:{envId:n,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy}},[4,this.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:tr})]);case 2:if(o=d.sent(),s=o.msgData,a=s.events,u=s.currEvent,this.sessionInfo={queryID:o.msgData.queryID,currentEventId:u-1,currentDocs:[]},a.length>0){for(c=0,f=a;c<f.length;c++)l=f[c],l.ID=u;this.handleServerEvents(o)}else this.sessionInfo.currentEventId=u,h=new Dn({id:u,docChanges:[],docs:[],type:"init"}),this.listener.onChange(h),this.scheduleSendACK();return this.onWatchStart(this,this.sessionInfo.queryID),this.watchStatus=Ln.ACTIVE,this._availableRetries.INIT_WATCH=Xn,t(),[3,4];case 3:return p=d.sent(),this.handleWatchEstablishmentError(p,{operationName:"INIT_WATCH",resolve:t,reject:r}),[3,4];case 4:return[2]}}))}))})),t=!1,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this._initWatchPromise];case 2:return r.sent(),t=!0,[3,4];case 3:return this._initWatchPromise=void 0,[7];case 4:return console.log("[realtime] initWatch "+(t?"success":"fail")),[2]}}))}))},this.rebuildWatch=function(e){return Hn(t,void 0,void 0,(function(){var t,n=this;return Kn(this,(function(r){switch(r.label){case 0:if(this._rebuildWatchPromise)return[2,this._rebuildWatchPromise];this._rebuildWatchPromise=new Promise((function(t,r){return Hn(n,void 0,void 0,(function(){var n,i,o,s;return Kn(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.watchStatus===Ln.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,t()]):[4,this._login(this.envId,e)];case 1:if(n=a.sent().envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");return this.watchStatus===Ln.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,t()]):(this.watchStatus=Ln.REBUILDING,i={watchId:this.watchId,requestId:kn(),msgType:"REBUILD_WATCH",msgData:{envId:n,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:i,waitResponse:!0,skipOnMessage:!1,timeout:nr})]);case 2:return o=a.sent(),this.handleServerEvents(o),this.watchStatus=Ln.ACTIVE,this._availableRetries.REBUILD_WATCH=Xn,t(),[3,4];case 3:return s=a.sent(),this.handleWatchEstablishmentError(s,{operationName:"REBUILD_WATCH",resolve:t,reject:r}),[3,4];case 4:return[2]}}))}))})),t=!1,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this._rebuildWatchPromise];case 2:return r.sent(),t=!0,[3,4];case 3:return this._rebuildWatchPromise=void 0,[7];case 4:return console.log("[realtime] rebuildWatch "+(t?"success":"fail")),[2]}}))}))},this.handleWatchEstablishmentError=function(e,n){return Hn(t,void 0,void 0,(function(){var t,r,i,o=this;return Kn(this,(function(s){return t="INIT_WATCH"===n.operationName,r=function(){o.closeWithError(new Wn({errCode:t?zn.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:zn.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:e})),n.reject(e)},i=function(e){o.useRetryTicket(n.operationName)?t?(o._initWatchPromise=void 0,n.resolve(o.initWatch(e))):(o._rebuildWatchPromise=void 0,n.resolve(o.rebuildWatch(e))):r()},this.handleCommonError(e,{onSignError:function(){return i(!0)},onTimeoutError:function(){return i(!1)},onNotRetryableError:r,onCancelledError:n.reject,onUnknownError:function(){return Hn(o,void 0,void 0,(function(){var e,t=this;return Kn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),e=function(){return Hn(t,void 0,void 0,(function(){return Kn(this,(function(e){switch(e.label){case 0:return this.pause(),[4,this.onceWSConnected()];case 1:return e.sent(),i(!0),[2]}}))}))},this.isWSConnected()?[3,2]:[4,e()];case 1:return r.sent(),[3,7];case 2:return[4,Gn(Qn)];case 3:return r.sent(),this.watchStatus!==Ln.PAUSED?[3,4]:(n.reject(new Yn(n.operationName+" cancelled due to pause after unknownError")),[3,7]);case 4:return this.isWSConnected()?[3,6]:[4,e()];case 5:return r.sent(),[3,7];case 6:i(!1),r.label=7;case 7:return[3,9];case 8:return r.sent(),i(!0),[3,9];case 9:return[2]}}))}))}}),[2]}))}))},this.closeWatch=function(){return Hn(t,void 0,void 0,(function(){var e,t,n;return Kn(this,(function(r){switch(r.label){case 0:if(e=this.sessionInfo?this.sessionInfo.queryID:"",this.watchStatus!==Ln.ACTIVE)return this.watchStatus=Ln.CLOSED,this.onWatchClose(this,e),[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),this.watchStatus=Ln.CLOSING,t={watchId:this.watchId,requestId:kn(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:t})];case 2:return r.sent(),this.sessionInfo=void 0,this.watchStatus=Ln.CLOSED,[3,5];case 3:return n=r.sent(),this.closeWithError(new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:n})),[3,5];case 4:return this.onWatchClose(this,e),[7];case 5:return[2]}}))}))},this.scheduleSendACK=function(){t.clearACKSchedule(),t._ackTimeoutId=setTimeout((function(){t._waitExpectedTimeoutId?t.scheduleSendACK():t.sendACK()}),er)},this.clearACKSchedule=function(){t._ackTimeoutId&&clearTimeout(t._ackTimeoutId)},this.sendACK=function(){return Hn(t,void 0,void 0,(function(){var e,t,n;return Kn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.watchStatus!==Ln.ACTIVE?(this.scheduleSendACK(),[2]):this.sessionInfo?(e={watchId:this.watchId,requestId:kn(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:e})]):(console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),[2]);case 1:return r.sent(),this.scheduleSendACK(),[3,3];case 2:if(t=r.sent(),Fn(t))switch(n=t.payload,n.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this.rebuildWatch(),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:n.msgData.code})),[2];default:break}return this._availableRetries.CHECK_LAST&&this._availableRetries.CHECK_LAST>0?(this._availableRetries.CHECK_LAST--,this.scheduleSendACK()):this.closeWithError(new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:t})),[3,3];case 3:return[2]}}))}))},this.handleCommonError=function(e,t){if(Fn(e)){var n=e.payload;switch(n.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return void t.onNotRetryableError(e);default:return void t.onNotRetryableError(e)}}else{if(Vn(e))return void t.onTimeoutError(e);if($n(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_"+ +new Date+"_"+Math.random(),this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.onceWSConnected=e.onceWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.debug=e.debug,this._availableRetries={INIT_WATCH:Xn,REBUILD_WATCH:Xn,CHECK_LAST:Zn},this.listener=new Mn({close:this.closeWatch,onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this.initWatch()}return e.prototype.onMessage=function(e){var t=this;switch(this.watchStatus){case Ln.PAUSED:if("ERROR"!==e.msgType)return;break;case Ln.LOGGINGIN:case Ln.INITING:case Ln.REBUILDING:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received while "+this.watchStatus);case Ln.CLOSED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");case Ln.ERRORED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error")}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":console.warn("nextevent "+e.msgData.currEvent+" ignored",e),this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((function(){t.rebuildWatch()}),this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength "+this.getWaitExpectedTimeoutLength()));break;case"ERROR":this.closeWithError(new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:e.msgData.code+" - "+e.msgData.message}));break;default:console.warn("[realtime listener] virtual client receive unexpected msg "+e.msgType+": ",e);break}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")},e.prototype.closeWithError=function(e){this.watchStatus=Ln.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),console.log("[realtime] client closed ("+this.collectionName+" "+this.query+") (watchId "+this.watchId+")")},e.prototype.pause=function(){this.watchStatus=Ln.PAUSED,console.log("[realtime] client paused ("+this.collectionName+" "+this.query+") (watchId "+this.watchId+")")},e.prototype.resume=function(){return Hn(this,void 0,void 0,(function(){var e;return Kn(this,(function(t){switch(t.label){case 0:this.watchStatus=Ln.RESUMING,console.log("[realtime] client resuming with "+(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH")+" ("+this.collectionName+" "+this.query+") ("+this.watchId+")"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.sessionInfo?this.rebuildWatch():this.initWatch()];case 2:return t.sent(),console.log("[realtime] client successfully resumed ("+this.collectionName+" "+this.query+") ("+this.watchId+")"),[3,4];case 3:return e=t.sent(),console.error("[realtime] client resume failed ("+this.collectionName+" "+this.query+") ("+this.watchId+")",e),[3,4];case 4:return[2]}}))}))},e.prototype.useRetryTicket=function(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,console.log("[realtime] "+e+" use a retry ticket, now only "+this._availableRetries[e]+" retry left"),!0)},e.prototype.handleServerEvents=function(e){return Hn(this,void 0,void 0,(function(){var t;return Kn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this._handleServerEvents(e)];case 1:return n.sent(),this._postHandleServerEventsValidityCheck(e),[3,3];case 2:throw t=n.sent(),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",t),t;case 3:return[2]}}))}))},e.prototype._handleServerEvents=function(e){return Hn(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,h;return Kn(this,(function(p){switch(p.label){case 0:if(t=e.requestId,n=e.msgData.events,r=e.msgType,!n.length||!this.sessionInfo)return[2];i=this.sessionInfo;try{o=n.map(ir)}catch(cs){return this.closeWithError(new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:cs})),[2]}s=Jn(i.currentDocs),a=!1,u=function(n,u){var f,l,h,p,d,y,v,g,m,_,b;return Kn(this,(function(w){switch(w.label){case 0:return f=o[n],i.currentEventId>=f.id?(!o[n-1]||f.id>o[n-1].id?console.warn("[realtime] duplicate event received, cur "+i.currentEventId+" but got "+f.id):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId "+t+")"),[2,"continue"]):[3,1];case 1:if(i.currentEventId!==f.id-1)return[3,2];switch(f.dataType){case"update":if(!f.doc)switch(f.queueType){case"update":case"dequeue":if(l=s.find((function(e){return e._id===f.docId})),l){if(y=jn()(l),f.updatedFields)for(d in f.updatedFields)Cn()(y,d,f.updatedFields[d]);if(f.removedFields)for(h=0,p=f.removedFields;h<p.length;h++)d=p[h],Rn()(y,d);f.doc=y}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");break;case"enqueue":throw v=new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '+e.requestId+")"}),c.closeWithError(v),v;default:break}break;case"replace":if(!f.doc)throw v=new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '+e.requestId+")"}),c.closeWithError(v),v;break;case"remove":y=s.find((function(e){return e._id===f.docId})),y?f.doc=y:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated.");break;case"limit":if(!f.doc)switch(f.queueType){case"dequeue":y=s.find((function(e){return e._id===f.docId})),y?f.doc=y:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated.");break;case"enqueue":throw v=new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '+e.requestId+")"}),c.closeWithError(v),v;default:break}break}switch(f.queueType){case"init":a?s.push(f.doc):(a=!0,s=[f.doc]);break;case"enqueue":s.push(f.doc);break;case"dequeue":g=s.findIndex((function(e){return e._id===f.docId})),g>-1?s.splice(g,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated.");break;case"update":g=s.findIndex((function(e){return e._id===f.docId})),g>-1?s[g]=f.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated.");break}return(n===u-1||o[n+1]&&o[n+1].id!==f.id)&&(m=Jn(s),_=o.slice(0,n+1).filter((function(e){return e.id===f.id})),c.sessionInfo.currentEventId=f.id,c.sessionInfo.currentDocs=s,b=new Dn({id:f.id,docChanges:_,docs:m,msgType:r}),c.listener.onChange(b)),[3,4];case 2:return console.warn("[realtime listener] event received is out of order, cur "+c.sessionInfo.currentEventId+" but got "+f.id),[4,c.rebuildWatch()];case 3:return w.sent(),[2,{value:void 0}];case 4:return[2]}}))},c=this,f=0,l=o.length,p.label=1;case 1:return f<l?[5,u(f,l)]:[3,4];case 2:if(h=p.sent(),"object"===typeof h)return[2,h.value];p.label=3;case 3:return f++,[3,1];case 4:return[2]}}))}))},e.prototype._postHandleServerEventsValidityCheck=function(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling")):console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur")},e.prototype.clearWaitExpectedEvent=function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)},e}();function ir(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}var or,sr={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}};(function(e){e[e["NormalClosure"]=1e3]="NormalClosure",e[e["GoingAway"]=1001]="GoingAway",e[e["ProtocolError"]=1002]="ProtocolError",e[e["UnsupportedData"]=1003]="UnsupportedData",e[e["NoStatusReceived"]=1005]="NoStatusReceived",e[e["AbnormalClosure"]=1006]="AbnormalClosure",e[e["InvalidFramePayloadData"]=1007]="InvalidFramePayloadData",e[e["PolicyViolation"]=1008]="PolicyViolation",e[e["MessageTooBig"]=1009]="MessageTooBig",e[e["MissingExtension"]=1010]="MissingExtension",e[e["InternalError"]=1011]="InternalError",e[e["ServiceRestart"]=1012]="ServiceRestart",e[e["TryAgainLater"]=1013]="TryAgainLater",e[e["BadGateway"]=1014]="BadGateway",e[e["TLSHandshake"]=1015]="TLSHandshake",e[e["ReconnectWebSocket"]=3e3]="ReconnectWebSocket",e[e["NoRealtimeListeners"]=3001]="NoRealtimeListeners",e[e["HeartbeatPingError"]=3002]="HeartbeatPingError",e[e["HeartbeatPongTimeoutError"]=3003]="HeartbeatPongTimeoutError",e[e["NoAuthentication"]=3050]="NoAuthentication"})(or||(or={}));var ar=function(e,t){var n=sr[e],r=n?n.name+", code "+e+", reason "+(t||n.description):"code "+e;return new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:r})},ur=null,cr="web";function fr(){return ur}function lr(e){ur=e}function hr(){return cr}function pr(e){cr=e}var dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dr.apply(this,arguments)},yr=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},vr=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},gr={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},mr=3,_r=5e3,br=1e4,wr=5,Er=1e4,Or=2,Sr=2,Tr=5e3,Ar=function(){function e(e){var t=this;this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._wsReadySubsribers=[],this._wsResponseWait=new Map,this._rttObserved=[],this.send=function(e){return yr(t,void 0,void 0,(function(){var t=this;return vr(this,(function(n){return[2,new Promise((function(n,r){return yr(t,void 0,void 0,(function(){var t,i,o,s,a,u,c,f=this;return vr(this,(function(l){switch(l.label){case 0:i=!1,o=!1,s=function(e){i=!0,t&&clearTimeout(t),n(e)},a=function(e){o=!0,t&&clearTimeout(t),r(e)},e.timeout&&(t=setTimeout((function(){return yr(f,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return i&&o?[3,2]:[4,Gn(0)];case 1:e.sent(),i&&o||a(new qn("wsclient.send timedout")),e.label=2;case 2:return[2]}}))}))}),e.timeout)),l.label=1;case 1:return l.trys.push([1,8,,9]),this._wsInitPromise?[4,this._wsInitPromise]:[3,3];case 2:l.sent(),l.label=3;case 3:if(!this._ws)return a(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this._ws.readyState!==gr.OPEN)return a(new Error("ws readyState invalid: "+this._ws.readyState+", can not send message")),[2];e.waitResponse&&this._wsResponseWait.set(e.msg.requestId,{resolve:s,reject:a,skipOnMessage:e.skipOnMessage}),l.label=4;case 4:return l.trys.push([4,6,,7]),[4,this._ws.send(JSON.stringify(e.msg))];case 5:return l.sent(),e.waitResponse||s(),[3,7];case 6:return u=l.sent(),u&&(a(u),e.waitResponse&&this._wsResponseWait.delete(e.msg.requestId)),[3,7];case 7:return[3,9];case 8:return c=l.sent(),a(c),[3,9];case 9:return[2]}}))}))}))]}))}))},this.closeAllClients=function(e){t._virtualWSClient.forEach((function(t){t.closeWithError(e)}))},this.pauseClients=function(e){(e||t._virtualWSClient).forEach((function(e){e.pause()}))},this.resumeClients=function(e){(e||t._virtualWSClient).forEach((function(e){e.resume()}))},this.initWebSocketConnection=function(e,n){return void 0===n&&(n=t._maxReconnect),yr(t,void 0,void 0,(function(){var t=this;return vr(this,(function(r){switch(r.label){case 0:if(e&&this._reconnectState)return[2];if(e&&(this._reconnectState=!0),this._wsInitPromise)return[2,this._wsInitPromise];e&&this.pauseClients(),this.close(or.ReconnectWebSocket),this._wsInitPromise=new Promise((function(r,i){return yr(t,void 0,void 0,(function(){var t,o,s,a=this;return vr(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,11]),[4,this.getWsSign()];case 1:return t=u.sent(),[4,new Promise((function(e){var n=t.wsUrl||"wss://tcb-ws.tencentcloudapi.com",r=fr();a._ws=r?new r(n):new WebSocket(n),e()}))];case 2:return u.sent(),this._ws.connect?[4,this._ws.connect()]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,this.initWebSocketEvent()];case 5:return u.sent(),r(),e&&(this.resumeClients(),this._reconnectState=!1),[3,11];case 6:return o=u.sent(),console.error("[realtime] initWebSocketConnection connect fail",o),n>0?(s=!0,this._wsInitPromise=void 0,s?[4,Gn(this._reconnectInterval)]:[3,8]):[3,9];case 7:u.sent(),e&&(this._reconnectState=!1),u.label=8;case 8:return r(this.initWebSocketConnection(e,n-1)),[3,10];case 9:i(o),e&&this.closeAllClients(new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:o})),u.label=10;case 10:return[3,11];case 11:return[2]}}))}))})),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this._wsInitPromise];case 2:return r.sent(),this._wsReadySubsribers.forEach((function(e){var t=e.resolve;return t()})),[3,5];case 3:return r.sent(),this._wsReadySubsribers.forEach((function(e){var t=e.reject;return t()})),[3,5];case 4:return this._wsInitPromise=void 0,this._wsReadySubsribers=[],[7];case 5:return[2]}}))}))},this.initWebSocketEvent=function(){return new Promise((function(e,n){if(!t._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;t._ws.onopen=function(t){console.warn("[realtime] ws event: open",t),r=!0,e()},t._ws.onerror=function(e){t._logins=new Map,r?(console.error("[realtime] ws event: error",e),t.clearHeartbeat(),t._virtualWSClient.forEach((function(t){return t.closeWithError(new Wn({errCode:zn.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:e}))}))):(console.error("[realtime] ws open failed with ws event: error",e),n(e))},t._ws.onclose=function(e){switch(console.warn("[realtime] ws event: close",e),t._logins=new Map,t.clearHeartbeat(),e.code){case or.ReconnectWebSocket:break;case or.NoRealtimeListeners:break;case or.HeartbeatPingError:case or.HeartbeatPongTimeoutError:case or.NormalClosure:case or.AbnormalClosure:t._maxReconnect>0?t.initWebSocketConnection(!0,t._maxReconnect):t.closeAllClients(ar(e.code));break;case or.NoAuthentication:t.closeAllClients(ar(e.code,e.reason));break;default:t._maxReconnect>0?t.initWebSocketConnection(!0,t._maxReconnect):t.closeAllClients(ar(e.code))}},t._ws.onmessage=function(e){var n,r=e.data;t.heartbeat();try{n=JSON.parse(r)}catch(cs){throw new Error("[realtime] onMessage parse res.data error: "+cs)}if("ERROR"===n.msgType){var i=null;t._virtualWSClient.forEach((function(e){e.watchId===n.watchId&&(i=e)})),i&&i.listener.onError(n)}var o=t._wsResponseWait.get(n.requestId);if(o){try{"ERROR"===n.msgType?o.reject(new Un(n)):o.resolve(n)}catch(cs){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",cs)}finally{t._wsResponseWait.delete(n.requestId)}if(o.skipOnMessage)return}if("PONG"!==n.msgType){var s=n.watchId&&t._watchIdClientMap.get(n.watchId);if(s)s.onMessage(n);else switch(console.error("[realtime] no realtime listener found responsible for watchId "+n.watchId+": ",n),n.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":s=t._queryIdClientMap.get(n.msgData.queryID),s&&s.onMessage(n);break;default:for(var a=0,u=Array.from(t._watchIdClientMap.entries());a<u.length;a++){var c=u[a],f=c[1];f.onMessage(n);break}}}else if(t._lastPingSendTS){var l=Date.now()-t._lastPingSendTS;if(l>br)return void console.warn("[realtime] untrusted rtt observed: "+l);t._rttObserved.length>=mr&&t._rttObserved.splice(0,t._rttObserved.length-mr+1),t._rttObserved.push(l)}},t.heartbeat()}))},this.isWSConnected=function(){return Boolean(t._ws&&t._ws.readyState===gr.OPEN)},this.onceWSConnected=function(){return yr(t,void 0,void 0,(function(){var e=this;return vr(this,(function(t){return this.isWSConnected()?[2]:this._wsInitPromise?[2,this._wsInitPromise]:[2,new Promise((function(t,n){e._wsReadySubsribers.push({resolve:t,reject:n})}))]}))}))},this.webLogin=function(e,n){return yr(t,void 0,void 0,(function(){var t,r,i,o,s,a,u,c,f=this;return vr(this,(function(l){switch(l.label){case 0:if(!n)if(e){if(t=this._logins.get(e),t){if(t.loggedIn&&t.loginResult)return[2,t.loginResult];if(t.loggingInPromise)return[2,t.loggingInPromise]}}else if(r=this._logins.get(""),null===r||void 0===r?void 0:r.loggingInPromise)return[2,r.loggingInPromise];i=new Promise((function(e,t){return yr(f,void 0,void 0,(function(){var n,r,i,o,s;return vr(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.getWsSign()];case 1:return n=a.sent(),r={envId:n.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:""},i={watchId:void 0,requestId:kn(),msgType:"LOGIN",msgData:r,exMsgData:{runtime:hr(),signStr:n.signStr,secretVersion:n.secretVersion}},[4,this.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:Tr})];case 2:return o=a.sent(),o.msgData.code?t(new Error(o.msgData.code+" "+o.msgData.message)):e({envId:n.envId}),[3,4];case 3:return s=a.sent(),t(s),[3,4];case 4:return[2]}}))}))})),o=e&&this._logins.get(e),s=Date.now(),o?(o.loggedIn=!1,o.loggingInPromise=i,o.loginStartTS=s):(o={loggedIn:!1,loggingInPromise:i,loginStartTS:s},this._logins.set(e||"",o)),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,i];case 2:if(a=l.sent(),u=e&&this._logins.get(e),u&&u===o&&u.loginStartTS===s)return o.loggedIn=!0,o.loggingInPromise=void 0,o.loginStartTS=void 0,o.loginResult=a,[2,a];if(u){if(u.loggedIn&&u.loginResult)return[2,u.loginResult];if(u.loggingInPromise)return[2,u.loggingInPromise];throw new Error("ws unexpected login info")}throw new Error("ws login info reset");case 3:throw c=l.sent(),o.loggedIn=!1,o.loggingInPromise=void 0,o.loginStartTS=void 0,o.loginResult=void 0,c;case 4:return[2]}}))}))},this.getWsSign=function(){return yr(t,void 0,void 0,(function(){var e,t,n,r,i,o,s;return vr(this,(function(a){switch(a.label){case 0:return this._wsSign&&this._wsSign.expiredTs>Date.now()?[2,this._wsSign]:(e=Date.now()+6e4,[4,this._context.appConfig.request.send("auth.wsWebSign",{runtime:hr()})]);case 1:if(t=a.sent(),t.code)throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败: "+t.code);if(t.data)return n=t.data,r=n.signStr,i=n.wsUrl,o=n.secretVersion,s=n.envId,[2,{signStr:r,wsUrl:i,secretVersion:o,envId:s,expiredTs:e}];throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败")}}))}))},this.getWaitExpectedTimeoutLength=function(){return t._rttObserved.length?t._rttObserved.reduce((function(e,t){return e+t}))/t._rttObserved.length*1.5:_r},this.ping=function(){return yr(t,void 0,void 0,(function(){var e;return vr(this,(function(t){switch(t.label){case 0:return e={watchId:void 0,requestId:kn(),msgType:"PING",msgData:null},[4,this.send({msg:e})];case 1:return t.sent(),[2]}}))}))},this.onWatchStart=function(e,n){t._queryIdClientMap.set(n,e)},this.onWatchClose=function(e,n){n&&t._queryIdClientMap.delete(n),t._watchIdClientMap.delete(e.watchId),t._virtualWSClient.delete(e),t._virtualWSClient.size||t.close(or.NoRealtimeListeners)},this._maxReconnect=e.maxReconnect||wr,this._reconnectInterval=e.reconnectInterval||Er,this._context=e.context}return e.prototype.clearHeartbeat=function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)},e.prototype.close=function(e){this.clearHeartbeat(),this._ws&&(this._ws.close(e,sr[e].name),this._ws=void 0)},e.prototype.watch=function(e){this._ws||this._wsInitPromise||this.initWebSocketConnection(!1);var t=new rr(dr(dr({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this._virtualWSClient.add(t),this._watchIdClientMap.set(t.watchId,t),t.listener},e.prototype.heartbeat=function(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout((function(){return yr(t,void 0,void 0,(function(){var e=this;return vr(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this._ws&&this._ws.readyState===gr.OPEN?(this._lastPingSendTS=Date.now(),[4,this.ping()]):[2];case 1:return t.sent(),this._pingFailed=0,this._pongTimeoutId=setTimeout((function(){console.error("pong timed out"),e._pongMissed<Sr?(e._pongMissed++,e.heartbeat(!0)):e.initWebSocketConnection(!0)}),this._context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return t.sent(),this._pingFailed<Or?(this._pingFailed++,this.heartbeat()):this.close(or.HeartbeatPingError),[3,3];case 3:return[2]}}))}))}),e?0:this._context.appConfig.realtimePingInterval)},e}(),Ir={target:"database",entity:function(){var e=this.platform,t=e.adapter,n=e.runtime;lr(t.wsClass),pr(n)}},Nr={name:"realtime",IIFE:!0,entity:function(){this.prototype.wsClientClass=Ar}};try{cloudbase.registerComponent(Nr),cloudbase.registerHook(Ir)}catch(cs){}function Cr(e){try{e.registerComponent(Nr),e.registerHook(Ir)}catch(cs){console.warn(cs)}}var xr=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Rr=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Pr=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},jr=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},kr=i["constants"].ERRORS,Lr=i["constants"].COMMUNITY_SITE_URL,Mr=i["helpers"].catchErrorsDecorator,Dr="analytics",Br=["mall"];function Ur(e){if("Object"!==Object.prototype.toString.call(e).slice(8,-1))return!1;var t=e.report_data,n=e.report_type;return!1!==Br.includes(n)&&("Object"===Object.prototype.toString.call(t).slice(8,-1)&&(!(void 0!==t.action_time&&!Number.isInteger(t.action_time))&&"string"===typeof t.action_type))}var Fr,qr,Vr=function(){function e(){}return e.prototype.analytics=function(e){return Pr(this,void 0,void 0,(function(){var t,n,r,i,o;return jr(this,(function(s){if(!Ur(e))throw new Error(JSON.stringify({code:kr.INVALID_PARAMS,msg:"["+Dr+".analytics] invalid report data"}));return t="analytics.report",n=void 0===e.report_data.action_time?Math.floor(Date.now()/1e3):e.report_data.action_time,r={analytics_scene:e.report_type,analytics_data:Object.assign({},e.report_data,{action_time:n})},i={requestData:r},o=this.request,o.send(t,i),[2]}))}))},xr([Mr({customInfo:{className:"Cloudbase",methodName:"analytics"},title:"上报调用失败",messages:["请确认以下各项：","  1 - 调用 analytics() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Lr]}),Rr("design:type",Function),Rr("design:paramtypes",[Object]),Rr("design:returntype",Promise)],e.prototype,"analytics",null),e}(),Yr=new Vr,$r={name:Dr,entity:{analytics:Yr.analytics}};try{cloudbase.registerComponent($r)}catch(cs){}function Wr(e){try{e.registerComponent($r)}catch(cs){console.warn(cs)}}(function(e){e["DocIDError"]="文档ID不合法",e["CollNameError"]="集合名称不合法",e["OpStrError"]="操作符不合法",e["DirectionError"]="排序字符不合法",e["IntergerError"]="must be integer",e["QueryParamTypeError"]="查询参数必须为对象",e["QueryParamValueError"]="查询参数对象值不能均为undefined"})(qr||(qr={}));var zr,Gr={String:"String",Number:"Number",Object:"Object",Array:"Array",Boolean:"Boolean",Null:"Null",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",Command:"Command",ServerDate:"ServerDate",BsonDate:"BsonDate"},Hr=["desc","asc"],Kr=["<","<=","==",">=",">"];(function(e){e["lt"]="<",e["gt"]=">",e["lte"]="<=",e["gte"]=">=",e["eq"]="=="})(zr||(zr={}));var Jr;Fr={},Fr[zr.eq]="$eq",Fr[zr.lt]="$lt",Fr[zr.lte]="$lte",Fr[zr.gt]="$gt",Fr[zr.gte]="$gte";(function(e){e["WHERE"]="WHERE",e["DOC"]="DOC"})(Jr||(Jr={}));var Qr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=[],Zr={},ei=function(){function e(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}return e}(),ti=function(e){function t(t,n){var r=this;if(n!==Zr)throw new TypeError("InternalSymbol cannot be constructed with new operator");return r=e.call(this,t)||this,r}return Qr(t,e),t.for=function(e){for(var n=0,r=Xr.length;n<r;n++)if(Xr[n].target===e)return Xr[n].instance;var i=new t(e,Zr);return Xr.push({target:e,instance:i}),i},t}(ei),ni=ti,ri=ni.for("UNSET_FIELD_NAME"),ii=ni.for("UPDATE_COMMAND"),oi=ni.for("QUERY_COMMAND"),si=ni.for("LOGIC_COMMAND"),ai=ni.for("GEO_POINT"),ui=ni.for("SYMBOL_GEO_LINE_STRING"),ci=ni.for("SYMBOL_GEO_POLYGON"),fi=ni.for("SYMBOL_GEO_MULTI_POINT"),li=ni.for("SYMBOL_GEO_MULTI_LINE_STRING"),hi=ni.for("SYMBOL_GEO_MULTI_POLYGON"),pi=ni.for("SERVER_DATE"),di=ni.for("REGEXP"),yi=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},vi=function(e){return"object"===yi(e)},gi=function(e){return"string"===yi(e)},mi=function(e){return"number"===yi(e)},_i=function(e){return Array.isArray(e)},bi=function(e){return"date"===yi(e)},wi=function(e){return"regexp"===yi(e)},Ei=function(e){return e&&e._internalType instanceof ti},Oi=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Si=function(){function e(e){if(!_i(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach((function(e){if(!(e instanceof Ui))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("LineString"!==e.type||!_i(e.coordinates))return!1;try{for(var r=Oi(e.coordinates),i=r.next();!i.done;i=r.next()){var o=i.value;if(!mi(o[0])||!mi(o[1]))return!1}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},e.isClosed=function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return ui},enumerable:!0,configurable:!0}),e}(),Ti=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ai=function(){function e(e){if(!_i(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Si))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]");if(!Si.isClosed(e))throw new Error("LineString "+e.points.map((function(e){return e.toReadableString()}))+" is not a closed cycle")})),this.lines=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,i;if("Polygon"!==e.type||!_i(e.coordinates))return!1;try{for(var o=Ti(e.coordinates),s=o.next();!s.done;s=o.next()){var a=s.value;if(!this.isCloseLineString(a))return!1;try{for(var u=(r=void 0,Ti(a)),c=u.next();!c.done;c=u.next()){var f=c.value;if(!mi(f[0])||!mi(f[1]))return!1}}catch(l){r={error:l}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0},e.isCloseLineString=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]},Object.defineProperty(e.prototype,"_internalType",{get:function(){return hi},enumerable:!0,configurable:!0}),e}(),Ii=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ni=function(){function e(e){if(!_i(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach((function(e){if(!(e instanceof Ui))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("MultiPoint"!==e.type||!_i(e.coordinates))return!1;try{for(var r=Ii(e.coordinates),i=r.next();!i.done;i=r.next()){var o=i.value;if(!mi(o[0])||!mi(o[1]))return!1}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return fi},enumerable:!0,configurable:!0}),e}(),Ci=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xi=function(){function e(e){if(!_i(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Si))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]")})),this.lines=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,i;if("MultiLineString"!==e.type||!_i(e.coordinates))return!1;try{for(var o=Ci(e.coordinates),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(r=void 0,Ci(a)),c=u.next();!c.done;c=u.next()){var f=c.value;if(!mi(f[0])||!mi(f[1]))return!1}}catch(l){r={error:l}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return li},enumerable:!0,configurable:!0}),e}(),Ri=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pi=function(){function e(e){var t,n;if(!_i(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var r=Ri(e),i=r.next();!i.done;i=r.next()){var o=i.value;if(!(o instanceof Ai))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof o+"[]")}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.polygons=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))},t},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}},e.validate=function(e){var t,n,r,i,o,s;if("MultiPolygon"!==e.type||!_i(e.coordinates))return!1;try{for(var a=Ri(e.coordinates),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var f=(r=void 0,Ri(c)),l=f.next();!l.done;l=f.next()){var h=l.value;try{for(var p=(o=void 0,Ri(h)),d=p.next();!d.done;d=p.next()){var y=d.value;if(!mi(y[0])||!mi(y[1]))return!1}}catch(v){o={error:v}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}catch(g){r={error:g}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return ci},enumerable:!0,configurable:!0}),e}(),ji=function(){function e(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return pi},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e}();function ki(e){return new ji(e)}var Li,Mi=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},Di=function(){function e(){}return e.formatResDocumentData=function(t){return t.map((function(t){return e.formatField(t)}))},e.formatField=function(t){var n=Object.keys(t),r={};return Array.isArray(t)&&(r=[]),n.forEach((function(n){var i,o=t[n],s=e.whichType(o);switch(s){case Gr.GeoPoint:i=new Ui(o.coordinates[0],o.coordinates[1]);break;case Gr.GeoLineString:i=new Si(o.coordinates.map((function(e){return new Ui(e[0],e[1])})));break;case Gr.GeoPolygon:i=new Ai(o.coordinates.map((function(e){return new Si(e.map((function(e){var t=Mi(e,2),n=t[0],r=t[1];return new Ui(n,r)})))})));break;case Gr.GeoMultiPoint:i=new Ni(o.coordinates.map((function(e){return new Ui(e[0],e[1])})));break;case Gr.GeoMultiLineString:i=new xi(o.coordinates.map((function(e){return new Si(e.map((function(e){var t=Mi(e,2),n=t[0],r=t[1];return new Ui(n,r)})))})));break;case Gr.GeoMultiPolygon:i=new Pi(o.coordinates.map((function(e){return new Ai(e.map((function(e){return new Si(e.map((function(e){var t=Mi(e,2),n=t[0],r=t[1];return new Ui(n,r)})))})))})));break;case Gr.Timestamp:i=new Date(1e3*o.$timestamp);break;case Gr.Object:case Gr.Array:i=e.formatField(o);break;case Gr.ServerDate:i=new Date(o.$date);break;default:i=o}Array.isArray(r)?r.push(i):r[n]=i})),r},e.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===Gr.Timestamp)return Gr.BsonDate;if(t===Gr.Object){if(e instanceof Ui)return Gr.GeoPoint;if(e instanceof Date)return Gr.Timestamp;if(e instanceof ji)return Gr.ServerDate;e.$timestamp?t=Gr.Timestamp:e.$date?t=Gr.ServerDate:Ui.validate(e)?t=Gr.GeoPoint:Si.validate(e)?t=Gr.GeoLineString:Ai.validate(e)?t=Gr.GeoPolygon:Ni.validate(e)?t=Gr.GeoMultiPoint:xi.validate(e)?t=Gr.GeoMultiLineString:Pi.validate(e)&&(t=Gr.GeoMultiPolygon)}return t},e.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e}(),Bi=function(){function e(){}return e.isGeopoint=function(e,t){if(Di.whichType(t)!==Gr.Number)throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(e,t){if(!Number.isInteger(t))throw new Error(e+qr.IntergerError);return!0},e.isFieldOrder=function(e){if(-1===Hr.indexOf(e))throw new Error(qr.DirectionError);return!0},e.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},e.isOperator=function(e){if(-1===Kr.indexOf(e))throw new Error(qr.OpStrError);return!0},e.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(qr.CollNameError);return!0},e.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(qr.DocIDError);return!0},e}(),Ui=function(){function e(e,t){Bi.isGeopoint("longitude",e),Bi.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"Point",coordinates:[this.longitude,this.latitude]},t},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(e){return"Point"===e.type&&_i(e.coordinates)&&Bi.isGeopoint("longitude",e.coordinates[0])&&Bi.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return ai},enumerable:!0,configurable:!0}),e}(),Fi=function(){var e;if(!Promise){e=function(){},e.promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};(function(e){e["SET"]="set",e["REMOVE"]="remove",e["INC"]="inc",e["MUL"]="mul",e["PUSH"]="push",e["PULL"]="pull",e["PULL_ALL"]="pullAll",e["POP"]="pop",e["SHIFT"]="shift",e["UNSHIFT"]="unshift",e["ADD_TO_SET"]="addToSet",e["BIT"]="bit",e["RENAME"]="rename",e["MAX"]="max",e["MIN"]="min"})(Li||(Li={}));var qi=function(){function e(e,t,n){this._internalType=ii,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||ri}return e.prototype._setFieldName=function(t){var n=new e(this.operator,this.operands,t);return n},e}();function Vi(e){return e&&e instanceof qi&&e._internalType===ii}var Yi;(function(e){e["AND"]="and",e["OR"]="or",e["NOT"]="not",e["NOR"]="nor"})(Yi||(Yi={}));var $i=function(){function e(e,t,n){if(this._internalType=si,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||ri,this.fieldName!==ri)if(Array.isArray(t)){t=t.slice(),this.operands=t;for(var r=0,i=t.length;r<i;r++){var o=t[r];(Wi(o)||Ki(o))&&(t[r]=o._setFieldName(this.fieldName))}}else{o=t;(Wi(o)||Ki(o))&&(t=o._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n})),r=new e(this.operator,n,t);return r},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(Yi.AND,r,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(Yi.OR,r,this.fieldName)},e}();function Wi(e){return e&&e instanceof $i&&e._internalType===si}var zi,Gi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){e["EQ"]="eq",e["NEQ"]="neq",e["GT"]="gt",e["GTE"]="gte",e["LT"]="lt",e["LTE"]="lte",e["IN"]="in",e["NIN"]="nin",e["ALL"]="all",e["ELEM_MATCH"]="elemMatch",e["EXISTS"]="exists",e["SIZE"]="size",e["MOD"]="mod",e["GEO_NEAR"]="geoNear",e["GEO_WITHIN"]="geoWithin",e["GEO_INTERSECTS"]="geoIntersects"})(zi||(zi={}));var Hi=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.operator=t,i._internalType=oi,i}return Gi(t,e),t.prototype.toJSON=function(){var e,t;switch(this.operator){case zi.IN:case zi.NIN:return e={},e["$"+this.operator]=this.operands,e;default:return t={},t["$"+this.operator]=this.operands[0],t}},t.prototype._setFieldName=function(e){var n=new t(this.operator,this.operands,e);return n},t.prototype.eq=function(e){var n=new t(zi.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(zi.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(zi.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(zi.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(zi.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(zi.LTE,[e],this.fieldName);return this.and(n)},t.prototype.in=function(e){var n=new t(zi.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){var n=new t(zi.NIN,e,this.fieldName);return this.and(n)},t.prototype.geoNear=function(e){if(!(e.geometry instanceof Ui))throw new TypeError('"geometry" must be of type Point. Received type '+typeof e.geometry);if(void 0!==e.maxDistance&&!mi(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof e.maxDistance);if(void 0!==e.minDistance&&!mi(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof e.minDistance);var n=new t(zi.GEO_NEAR,[e],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(e){if(!(e.geometry instanceof Pi)&&!(e.geometry instanceof Ai))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof e.geometry);var n=new t(zi.GEO_WITHIN,[e],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(e){if(!(e.geometry instanceof Ui)&&!(e.geometry instanceof Si)&&!(e.geometry instanceof Ai)&&!(e.geometry instanceof Ni)&&!(e.geometry instanceof xi)&&!(e.geometry instanceof Pi))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof e.geometry);var n=new t(zi.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)},t}($i);function Ki(e){return e&&e instanceof Hi&&e._internalType===oi}function Ji(e){return Ki(e)}var Qi={};for(var Xi in zi)Qi[Xi]="$"+Xi;for(var Xi in Yi)Qi[Xi]="$"+Xi;for(var Xi in Li)Qi[Xi]="$"+Xi;function Zi(e){return Qi[e]||"$"+e}Qi[zi.NEQ]="$ne",Qi[Li.REMOVE]="$unset",Qi[Li.SHIFT]="$pop",Qi[Li.UNSHIFT]="$push";var eo=function(){return eo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eo.apply(this,arguments)},to=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},no=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(to(arguments[t]));return e};function ro(e){return io(e,[e])}function io(e,t){if(!Ei(e)){if(bi(e))return{$date:+e};if(wi(e))return{$regex:e.source,$options:e.flags};if(_i(e))return e.map((function(e){if(t.indexOf(e)>-1)throw new Error("Cannot convert circular structure to JSON");return io(e,no(t,[e]))}));if(vi(e)){var n=eo({},e);for(var r in n){if(t.indexOf(n[r])>-1)throw new Error("Cannot convert circular structure to JSON");n[r]=io(n[r],no(t,[n[r]]))}return n}return e}switch(e._internalType){case ai:return e.toJSON();case pi:return e.parse();case di:return e.parse();default:return e.toJSON?e.toJSON():e}}var oo=function(){return oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oo.apply(this,arguments)},so=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},ao=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(so(arguments[t]));return e};function uo(e,t,n,r){var i=oo({},e);for(var o in e)if(!/^\$/.test(o)){var s=e[o];if(s&&vi(s)&&!t(s)){if(r.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var a=ao(n,[o]),u=ao(r,[s]),c=uo(s,t,a,u);i[o]=c;var f=!1;for(var l in c)/^\$/.test(l)?f=!0:(i[o+"."+l]=c[l],delete i[o][l]);f||delete i[o]}}return i}function co(e){return uo(e,lo,[],[e])}function fo(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?_i(e[r])?e[r].push(t[r]):vi(e[r])?vi(t[r])?Object.assign(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is "+yi(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+yi(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]}function lo(e){return Ei(e)||bi(e)||wi(e)}function ho(e){return ro(e)}var po=function(){function e(){}return e.encode=function(t){var n=new e;return n.encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return Vi(e)?this.encodeUpdateCommand(e):"object"===yi(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===ri)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case Li.PUSH:case Li.PULL:case Li.PULL_ALL:case Li.POP:case Li.SHIFT:case Li.UNSHIFT:case Li.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,r,i,o=Zi(e.operator);switch(e.operator){case Li.REMOVE:return t={},t[o]=(n={},n[e.fieldName]="",n),t;default:return r={},r[o]=(i={},i[e.fieldName]=e.operands[0],i),r}},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,r,i,o,s,a,u,c,f,l=Zi(e.operator);switch(e.operator){case Li.PUSH:var h=void 0;return h=_i(e.operands)?{$each:e.operands.map(ho)}:e.operands,t={},t[l]=(n={},n[e.fieldName]=h,n),t;case Li.UNSHIFT:h={$each:e.operands.map(ho),$position:0};return r={},r[l]=(i={},i[e.fieldName]=h,i),r;case Li.POP:return o={},o[l]=(s={},s[e.fieldName]=1,s),o;case Li.SHIFT:return a={},a[l]=(u={},u[e.fieldName]=-1,u),a;default:return c={},c[l]=(f={},f[e.fieldName]=ho(e.operands),f),c}},e.prototype.encodeUpdateObject=function(e){var t=co(e);for(var n in t)if(!/^\$/.test(n)){var r=t[n];if(Vi(r)){t[n]=r._setFieldName(n);var i=this.encodeUpdateCommand(t[n]);fo(t,i,n)}else{t[n]=r=ho(r);var o=new qi(Li.SET,[r],n);i=this.encodeUpdateCommand(o);fo(t,i,n)}}return t},e}(),yo={};function vo(e){if(!ts.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return yo[t]||(yo[t]=new ts.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new ts.reqClass(e.config)}}})),yo[t]}var go=function(){return go=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},go.apply(this,arguments)},mo=function(){function e(e,t,n,r){var i=this;void 0===r&&(r={}),this.watch=function(e){var t=vo(i._db);return t.watch(go(go({},e),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify({_id:i.id})}))},this._db=e,this._coll=t,this.id=n,this.request=new ts.reqClass(this._db.config),this.projection=r}return e.prototype.create=function(e,t){t=t||Fi();var n={collectionName:this._coll,data:ro(e)};return this.id&&(n["_id"]=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.set=function(e,t){if(t=t||Fi(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!==typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1,r=function(e){if("object"===typeof e)for(var t in e)e[t]instanceof qi?n=!0:"object"===typeof e[t]&&r(e[t])};if(r(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var i=!1,o={collectionName:this._coll,queryType:Jr.DOC,data:ro(e),multi:!1,merge:i,upsert:!0};return this.id&&(o["query"]={_id:this.id}),this.request.send("database.updateDocument",o).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.update=function(e,t){if(t=t||Fi(),!e||"object"!==typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r=!0,i={collectionName:this._coll,data:po.encode(e),query:n,queryType:Jr.DOC,multi:!1,merge:r,upsert:!1};return this.request.send("database.updateDocument",i).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.remove=function(e){e=e||Fi();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Jr.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},e.prototype.get=function(e){e=e||Fi();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Jr.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=Di.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}})).catch((function(t){e(t)})),e.promise},e.prototype.field=function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)},e}(),_o=function(){function e(){}return e.encode=function(e){var t=new bo;return t.encodeQuery(e)},e}(),bo=function(){function e(){}return e.prototype.encodeQuery=function(e,t){var n;return lo(e)?Wi(e)?this.encodeLogicCommand(e):Ki(e)?this.encodeQueryCommand(e):(n={},n[t]=this.encodeQueryObject(e),n):vi(e)?this.encodeQueryObject(e):e},e.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},e.prototype.encodeLogicCommand=function(e){var t,n,r,i,o,s,a,u=this;switch(e.operator){case Yi.NOR:case Yi.AND:case Yi.OR:var c=Zi(e.operator),f=e.operands.map((function(t){return u.encodeQuery(t,e.fieldName)}));return t={},t[c]=f,t;case Yi.NOT:c=Zi(e.operator);var l=e.operands[0];if(wi(l))return n={},n[e.fieldName]=(r={},r[c]=this.encodeRegExp(l),r),n;f=this.encodeQuery(l)[e.fieldName];return i={},i[e.fieldName]=(o={},o[c]=f,o),i;default:c=Zi(e.operator);if(1===e.operands.length){var h=this.encodeQuery(e.operands[0]);return s={},s[c]=h,s}f=e.operands.map(this.encodeQuery.bind(this));return a={},a[c]=f,a}},e.prototype.encodeQueryCommand=function(e){return Ji(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,n,r,i,o,s,a,u,c;if(e.fieldName===ri)throw new Error("Cannot encode a comparison command with unset field name");var f=Zi(e.operator);switch(e.operator){case zi.EQ:case zi.NEQ:case zi.LT:case zi.LTE:case zi.GT:case zi.GTE:case zi.ELEM_MATCH:case zi.EXISTS:case zi.SIZE:case zi.MOD:return t={},t[e.fieldName]=(n={},n[f]=ho(e.operands[0]),n),t;case zi.IN:case zi.NIN:case zi.ALL:return r={},r[e.fieldName]=(i={},i[f]=ho(e.operands),i),r;case zi.GEO_NEAR:var l=e.operands[0];return o={},o[e.fieldName]={$nearSphere:{$geometry:l.geometry.toJSON(),$maxDistance:l.maxDistance,$minDistance:l.minDistance}},o;case zi.GEO_WITHIN:l=e.operands[0];return s={},s[e.fieldName]={$geoWithin:{$geometry:l.geometry.toJSON()}},s;case zi.GEO_INTERSECTS:l=e.operands[0];return a={},a[e.fieldName]={$geoIntersects:{$geometry:l.geometry.toJSON()}},a;default:return u={},u[e.fieldName]=(c={},c[f]=ho(e.operands[0]),c),u}},e.prototype.encodeQueryObject=function(e){var t=co(e);for(var n in t){var r=t[n];if(Wi(r)){t[n]=r._setFieldName(n);var i=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,i,n)}else if(Ji(r)){t[n]=r._setFieldName(n);i=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,i,n)}else lo(r)&&(t[n]=ho(r))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?_i(e[r])?e[r]=e[r].concat(t[r]):vi(e[r])?vi(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+yi(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+yi(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},e}(),wo=function(){return wo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wo.apply(this,arguments)},Eo=function(){function e(e,t,n,r,i){var o=this;this.watch=function(e){var t=vo(o._db);return t.watch(wo(wo({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify(o._fieldFilters||{}),limit:o._queryOptions.limit,orderBy:o._fieldOrders?o._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):void 0}))},this._db=e,this._coll=t,this._fieldFilters=n,this._fieldOrders=r||[],this._queryOptions=i||{},this._request=new ts.reqClass(this._db.config)}return e.prototype.get=function(e){e=e||Fi();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:Jr.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=Di.formatResDocumentData(t.data.list),r={data:n,requestId:t.requestId};t.TotalCount&&(r.total=t.TotalCount),t.Limit&&(r.limit=t.Limit),t.Offset&&(r.offset=t.Offset),e(0,r)}})).catch((function(t){e(t)})),e.promise},e.prototype.count=function(e){e=e||Fi();var t={collectionName:this._coll,queryType:Jr.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})})).catch((function(t){e(t)})),e.promise},e.prototype.where=function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(qr.QueryParamTypeError);var n=Object.keys(t),r=n.some((function(e){return void 0!==t[e]}));if(n.length&&!r)throw Error(qr.QueryParamValueError);return new e(this._db,this._coll,_o.encode(t),this._fieldOrders,this._queryOptions)},e.prototype.orderBy=function(t,n){Bi.isFieldPath(t),Bi.isFieldOrder(n);var r={field:t,direction:n},i=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,i,this._queryOptions)},e.prototype.limit=function(t){Bi.isInteger("limit",t);var n=wo({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.skip=function(t){Bi.isInteger("offset",t);var n=wo({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.update=function(e,t){if(t=t||Fi(),!e||"object"!==typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:Jr.WHERE,multi:!0,merge:!0,upsert:!1,data:po.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})})).catch((function(e){t(e)})),t.promise},e.prototype.field=function(t){for(var n in t)t[n]?"object"!==typeof t[n]&&(t[n]=1):t[n]=0;var r=wo({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.remove=function(e){e=e||Fi(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:_o.encode(this._fieldFilters),queryType:Jr.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})})).catch((function(t){e(t)})),e.promise},e}(),Oo=n("9e8e"),So=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},To=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Ao=function(){function e(e,t){this._stages=[],e&&t&&(this._db=e,this._request=new ts.reqClass(this._db.config),this._collectionName=t)}return e.prototype.end=function(){return So(this,void 0,void 0,(function(){var e;return To(this,(function(t){switch(t.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return e=t.sent(),e&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(Oo["a"].parse)}]:[2,e]}}))}))},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map((function(e){var t,n=e.stageKey,r=e.stageValue;return t={},t[n]=JSON.parse(r),t}))},e.prototype._pipe=function(e,t){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(t)}),this},e.prototype.addFields=function(e){return this._pipe("addFields",e)},e.prototype.bucket=function(e){return this._pipe("bucket",e)},e.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},e.prototype.count=function(e){return this._pipe("count",e)},e.prototype.geoNear=function(e){return this._pipe("geoNear",e)},e.prototype.group=function(e){return this._pipe("group",e)},e.prototype.limit=function(e){return this._pipe("limit",e)},e.prototype.match=function(e){return this._pipe("match",_o.encode(e))},e.prototype.project=function(e){return this._pipe("project",e)},e.prototype.lookup=function(e){return this._pipe("lookup",e)},e.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},e.prototype.sample=function(e){return this._pipe("sample",e)},e.prototype.skip=function(e){return this._pipe("skip",e)},e.prototype.sort=function(e){return this._pipe("sort",e)},e.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},e.prototype.unwind=function(e){return this._pipe("unwind",e)},e}(),Io=Ao,No=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Co=function(e){function t(t,n){return e.call(this,t,n)||this}return No(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!==typeof e&&"number"!==typeof e)throw new Error("docId必须为字符串或数字");return new mo(this._db,this._coll,e)},t.prototype.add=function(e,t){var n=new mo(this._db,this._coll,void 0);return n.create(e,t)},t.prototype.aggregate=function(){return new Io(this._db,this._coll)},t}(Eo),xo={eq:function(e){return new Hi(zi.EQ,[e])},neq:function(e){return new Hi(zi.NEQ,[e])},lt:function(e){return new Hi(zi.LT,[e])},lte:function(e){return new Hi(zi.LTE,[e])},gt:function(e){return new Hi(zi.GT,[e])},gte:function(e){return new Hi(zi.GTE,[e])},in:function(e){return new Hi(zi.IN,e)},nin:function(e){return new Hi(zi.NIN,e)},all:function(e){return new Hi(zi.ALL,e)},elemMatch:function(e){return new Hi(zi.ELEM_MATCH,[e])},exists:function(e){return new Hi(zi.EXISTS,[e])},size:function(e){return new Hi(zi.SIZE,[e])},mod:function(e){return new Hi(zi.MOD,[e])},geoNear:function(e){return new Hi(zi.GEO_NEAR,[e])},geoWithin:function(e){return new Hi(zi.GEO_WITHIN,[e])},geoIntersects:function(e){return new Hi(zi.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_i(arguments[0])?arguments[0]:Array.from(arguments);return new $i(Yi.AND,n)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_i(arguments[0])?arguments[0]:Array.from(arguments);return new $i(Yi.NOR,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_i(arguments[0])?arguments[0]:Array.from(arguments);return new $i(Yi.OR,n)},not:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_i(arguments[0])?arguments[0]:Array.from(arguments);return new $i(Yi.NOT,n)},set:function(e){return new qi(Li.SET,[e])},remove:function(){return new qi(Li.REMOVE,[])},inc:function(e){return new qi(Li.INC,[e])},mul:function(e){return new qi(Li.MUL,[e])},push:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(vi(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];e={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else e=_i(t[0])?t[0]:Array.from(t);return new qi(Li.PUSH,e)},pull:function(e){return new qi(Li.PULL,e)},pullAll:function(e){return new qi(Li.PULL_ALL,e)},pop:function(){return new qi(Li.POP,[])},shift:function(){return new qi(Li.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_i(arguments[0])?arguments[0]:Array.from(arguments);return new qi(Li.UNSHIFT,n)},addToSet:function(e){return new qi(Li.ADD_TO_SET,e)},rename:function(e){return new qi(Li.RENAME,[e])},bit:function(e){return new qi(Li.BIT,[e])},max:function(e){return new qi(Li.MAX,[e])},min:function(e){return new qi(Li.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return gi(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new Io},abs:function(e){return new Ro("abs",e)},add:function(e){return new Ro("add",e)},ceil:function(e){return new Ro("ceil",e)},divide:function(e){return new Ro("divide",e)},exp:function(e){return new Ro("exp",e)},floor:function(e){return new Ro("floor",e)},ln:function(e){return new Ro("ln",e)},log:function(e){return new Ro("log",e)},log10:function(e){return new Ro("log10",e)},mod:function(e){return new Ro("mod",e)},multiply:function(e){return new Ro("multiply",e)},pow:function(e){return new Ro("pow",e)},sqrt:function(e){return new Ro("sqrt",e)},subtract:function(e){return new Ro("subtract",e)},trunc:function(e){return new Ro("trunc",e)},arrayElemAt:function(e){return new Ro("arrayElemAt",e)},arrayToObject:function(e){return new Ro("arrayToObject",e)},concatArrays:function(e){return new Ro("concatArrays",e)},filter:function(e){return new Ro("filter",e)},in:function(e){return new Ro("in",e)},indexOfArray:function(e){return new Ro("indexOfArray",e)},isArray:function(e){return new Ro("isArray",e)},map:function(e){return new Ro("map",e)},range:function(e){return new Ro("range",e)},reduce:function(e){return new Ro("reduce",e)},reverseArray:function(e){return new Ro("reverseArray",e)},size:function(e){return new Ro("size",e)},slice:function(e){return new Ro("slice",e)},zip:function(e){return new Ro("zip",e)},and:function(e){return new Ro("and",e)},not:function(e){return new Ro("not",e)},or:function(e){return new Ro("or",e)},cmp:function(e){return new Ro("cmp",e)},eq:function(e){return new Ro("eq",e)},gt:function(e){return new Ro("gt",e)},gte:function(e){return new Ro("gte",e)},lt:function(e){return new Ro("lt",e)},lte:function(e){return new Ro("lte",e)},neq:function(e){return new Ro("ne",e)},cond:function(e){return new Ro("cond",e)},ifNull:function(e){return new Ro("ifNull",e)},switch:function(e){return new Ro("switch",e)},dateFromParts:function(e){return new Ro("dateFromParts",e)},dateFromString:function(e){return new Ro("dateFromString",e)},dayOfMonth:function(e){return new Ro("dayOfMonth",e)},dayOfWeek:function(e){return new Ro("dayOfWeek",e)},dayOfYear:function(e){return new Ro("dayOfYear",e)},isoDayOfWeek:function(e){return new Ro("isoDayOfWeek",e)},isoWeek:function(e){return new Ro("isoWeek",e)},isoWeekYear:function(e){return new Ro("isoWeekYear",e)},millisecond:function(e){return new Ro("millisecond",e)},minute:function(e){return new Ro("minute",e)},month:function(e){return new Ro("month",e)},second:function(e){return new Ro("second",e)},hour:function(e){return new Ro("hour",e)},week:function(e){return new Ro("week",e)},year:function(e){return new Ro("year",e)},literal:function(e){return new Ro("literal",e)},mergeObjects:function(e){return new Ro("mergeObjects",e)},objectToArray:function(e){return new Ro("objectToArray",e)},allElementsTrue:function(e){return new Ro("allElementsTrue",e)},anyElementTrue:function(e){return new Ro("anyElementTrue",e)},setDifference:function(e){return new Ro("setDifference",e)},setEquals:function(e){return new Ro("setEquals",e)},setIntersection:function(e){return new Ro("setIntersection",e)},setIsSubset:function(e){return new Ro("setIsSubset",e)},setUnion:function(e){return new Ro("setUnion",e)},concat:function(e){return new Ro("concat",e)},dateToString:function(e){return new Ro("dateToString",e)},indexOfBytes:function(e){return new Ro("indexOfBytes",e)},indexOfCP:function(e){return new Ro("indexOfCP",e)},split:function(e){return new Ro("split",e)},strLenBytes:function(e){return new Ro("strLenBytes",e)},strLenCP:function(e){return new Ro("strLenCP",e)},strcasecmp:function(e){return new Ro("strcasecmp",e)},substr:function(e){return new Ro("substr",e)},substrBytes:function(e){return new Ro("substrBytes",e)},substrCP:function(e){return new Ro("substrCP",e)},toLower:function(e){return new Ro("toLower",e)},toUpper:function(e){return new Ro("toUpper",e)},meta:function(e){return new Ro("meta",e)},addToSet:function(e){return new Ro("addToSet",e)},avg:function(e){return new Ro("avg",e)},first:function(e){return new Ro("first",e)},last:function(e){return new Ro("last",e)},max:function(e){return new Ro("max",e)},min:function(e){return new Ro("min",e)},push:function(e){return new Ro("push",e)},stdDevPop:function(e){return new Ro("stdDevPop",e)},stdDevSamp:function(e){return new Ro("stdDevSamp",e)},sum:function(e){return new Ro("sum",e)},let:function(e){return new Ro("let",e)}},project:{slice:function(e){return new Po("slice",e)},elemMatch:function(e){return new Po("elemMatch",e)}}},Ro=function(){function e(e,t){this["$"+e]=t}return e}(),Po=function(){function e(e,t){this["$"+e]=t}return e}(),jo=function(){function e(e){var t=e.regexp,n=e.options;if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return di},enumerable:!0,configurable:!0}),e}();function ko(e){return new jo(e)}var Lo={CREATE_WATCH_NET_ERROR:{code:"CREATE_WATCH_NET_ERROR",message:"create watch network error"},CREATE_WACTH_EXCEED_ERROR:{code:"CREATE_WACTH_EXCEED_ERROR",message:"maximum connections exceed"},CREATE_WATCH_SERVER_ERROR:{code:"CREATE_WATCH_SERVER_ERROR",message:"create watch server error"},CONN_ERROR:{code:"CONN_ERROR",message:"connection error"},INVALID_PARAM:{code:"INVALID_PARAM",message:"Invalid request param"},INSERT_DOC_FAIL:{code:"INSERT_DOC_FAIL",message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"}},Mo=function(){return Mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mo.apply(this,arguments)},Do=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Bo=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Uo="database.getInTransaction",Fo="database.updateDocInTransaction",qo="database.deleteDocInTransaction",Vo="database.insertDocInTransaction",Yo=function(){function e(e,t,n){this._coll=t,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(e){return Do(this,void 0,void 0,(function(){var t,n,r,i;return Bo(this,(function(o){switch(o.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:Oo["a"].stringify(ro(e),{relaxed:!1})},this.id&&(t["_id"]=this.id),[4,this._request.send(Vo,t)];case 1:if(n=o.sent(),n.code)throw n;if(r=Oo["a"].parse(n.inserted),i=Oo["a"].parse(n.ok),1==i&&1==r)return[2,Mo(Mo({},n),{ok:i,inserted:r})];throw new Error(Lo.INSERT_DOC_FAIL.message)}}))}))},e.prototype.get=function(){return Do(this,void 0,void 0,(function(){var e,t;return Bo(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(Uo,e)];case 1:if(t=n.sent(),t.code)throw t;return[2,{data:"null"!==t.data?Di.formatField(Oo["a"].parse(t.data)):Oo["a"].parse(t.data),requestId:t.requestId}]}}))}))},e.prototype.set=function(e){return Do(this,void 0,void 0,(function(){var t,n;return Bo(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Oo["a"].stringify(ro(e),{relaxed:!1}),upsert:!0},[4,this._request.send(Fo,t)];case 1:if(n=r.sent(),n.code)throw n;return[2,Mo(Mo({},n),{updated:Oo["a"].parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}}))}))},e.prototype.update=function(e){return Do(this,void 0,void 0,(function(){var t,n;return Bo(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Oo["a"].stringify(po.encode(e),{relaxed:!1})},[4,this._request.send(Fo,t)];case 1:if(n=r.sent(),n.code)throw n;return[2,Mo(Mo({},n),{updated:Oo["a"].parse(n.updated)})]}}))}))},e.prototype.delete=function(){return Do(this,void 0,void 0,(function(){var e,t;return Bo(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(qo,e)];case 1:if(t=n.sent(),t.code)throw t;return[2,Mo(Mo({},t),{deleted:Oo["a"].parse(t.deleted)})]}}))}))},e}(),$o=function(){function e(e,t){this._coll=t,this._transaction=e}return e}(),Wo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zo=function(e){function t(t,n){return e.call(this,t,n)||this}return Wo(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!==typeof e&&"number"!==typeof e)throw new Error("docId必须为字符串或数字");return new Yo(this._transaction,this._coll,e)},t.prototype.add=function(e){var t;void 0!==e._id&&(t=e._id);var n=new Yo(this._transaction,this._coll,t);return n.create(e)},t}($o),Go=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(cs){o(cs)}}function a(e){try{u(r["throw"](e))}catch(cs){o(cs)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ho=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(cs){o=[6,cs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Ko="database.startTransaction",Jo="database.commitTransaction",Qo="database.abortTransaction",Xo=function(){function e(e){this._db=e,this._request=new ts.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return Go(this,void 0,void 0,(function(){var e;return Ho(this,(function(t){switch(t.label){case 0:return[4,this._request.send(Ko)];case 1:if(e=t.sent(),e.code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}}))}))},e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new zo(this,e)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return Go(this,void 0,void 0,(function(){var e,t;return Ho(this,(function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send(Jo,e)];case 1:if(t=n.sent(),t.code)throw t;return this.commited=!0,[2,t]}}))}))},e.prototype.rollback=function(e){return Go(this,void 0,void 0,(function(){var t,n;return Ho(this,(function(r){switch(r.label){case 0:return t={transactionId:this._id},[4,this._request.send(Qo,t)];case 1:if(n=r.sent(),n.code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}}))}))},e}();function Zo(){return Go(this,void 0,void 0,(function(){var e;return Ho(this,(function(t){switch(t.label){case 0:return e=new Xo(this),[4,e.init()];case 1:return t.sent(),[2,e]}}))}))}function es(e,t){return void 0===t&&(t=3),Go(this,void 0,void 0,(function(){var n,r,i,o,s=this;return Ho(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,10]),n=new Xo(this),[4,n.init()];case 1:return a.sent(),[4,e(n)];case 2:if(r=a.sent(),!0===n.aborted)throw n.abortReason;return[4,n.commit()];case 3:return a.sent(),[2,r];case 4:if(i=a.sent(),!1===n.inited)throw i;return o=function(e){return Go(s,void 0,void 0,(function(){return Ho(this,(function(t){switch(t.label){case 0:if(n.aborted||n.commited)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.rollback()];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:throw e;case 5:if(!0===n.aborted)throw n.abortReason;throw e}}))}))},t<=0?[4,o(i)]:[3,6];case 5:a.sent(),a.label=6;case 6:return i&&i.code===Lo.DATABASE_TRANSACTION_CONFLICT.code?[4,es.bind(this)(e,--t)]:[3,8];case 7:return[2,a.sent()];case 8:return[4,o(i)];case 9:return a.sent(),[3,10];case 10:return[2]}}))}))}var ts=function(){function e(e){this.config=e,this.Geo=r,this.serverDate=ki,this.command=xo,this.RegExp=ko,this.startTransaction=Zo,this.runTransaction=es,this.logicCommand=$i,this.updateCommand=qi,this.queryCommand=Hi}return e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new Co(this,e)},e.prototype.createCollection=function(t){var n=new e.reqClass(this.config),r={collectionName:t};return n.send("database.addCollection",r)},e}(),ns=function(){return ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ns.apply(this,arguments)},rs="database";function is(e){var t=this.platform,n=t.adapter,r=t.runtime;return ts.reqClass=this.request.constructor,ts.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},ts.runtime=r,this.wsClientClass&&(ts.wsClass=n.wsClass,ts.wsClientClass=this.wsClientClass),ts.ws||(ts.ws=null),new ts(ns(ns({},this.config),e))}var os={name:rs,entity:{database:is}};try{cloudbase.registerComponent(os)}catch(cs){}function ss(e){try{e.registerComponent(os)}catch(cs){console.warn(cs)}}var as=n("2d02"),us=as["a"];we.registerVersion(us);try{Kt(we),fn(we),In(we),ss(we),Cr(we),Wr(we)}catch(cs){}try{window.cloudbase=we}catch(cs){}t["a"]=we},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d370:function(e,t,n){var r=n("253c"),i=n("1310"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d460:function(e,t,n){var r=n("be56");function i(e,t){var n=-1,i=e.length,o=i-1;t=void 0===t?i:t;while(++n<t){var s=r(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}e.exports=i},d4ec:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),o=n("44ad"),s=n("50c4"),a=function(e){return function(t,n,a,u){r(n);var c=i(t),f=o(c),l=s(c.length),h=e?l-1:0,p=e?-1:1;if(a<2)while(1){if(h in f){u=f[h],h+=p;break}if(h+=p,e?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:l>h;h+=p)h in f&&(u=n(u,f[h],h,c));return u}};e.exports={left:a(!1),right:a(!0)}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),s=n("9263"),a=n("9112"),u=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){return"$0"==="a".replace(/./,"$0")}(),l=o("replace"),h=function(){return!!/./[l]&&""===/./[l]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,l){var d=o(e),y=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),v=y&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!y||!v||"replace"===e&&(!c||!f||h)||"split"===e&&!p){var g=/./[d],m=n(d,""[e],(function(e,t,n,r,i){return t.exec===s?y&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),_=m[0],b=m[1];r(String.prototype,e,_),r(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}l&&a(RegExp.prototype[d],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=n("ae40"),a=o("map"),u=s("map");r({target:"Array",proto:!0,forced:!a||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},db82:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i;"undefined"!==typeof window?i=window:"undefined"===typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),i=void 0):i=self;var o=n("7297"),s=n("375a"),a=n("90c9"),u=n("f338"),c=n("ff21"),f=n("9d96");function l(){}e.exports=function(e,n){return"function"===typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)},t=e.exports;var h=t;t.Request=b,h.getXHR=function(){if(i.XMLHttpRequest&&(!i.location||"file:"!==i.location.protocol||!i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(r){}throw new Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function d(e){if(!u(e))return e;var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&y(t,n,e[n]);return t.join("&")}function y(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){y(e,t,n)}));else if(u(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&y(e,"".concat(t,"[").concat(r,"]"),n[r]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function v(e){for(var t,n,r={},i=e.split("&"),o=0,s=i.length;o<s;++o)t=i[o],n=t.indexOf("="),-1===n?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function g(e){for(var t,n,r,i,o=e.split(/\r?\n/),s={},a=0,u=o.length;a<u;++a)n=o[a],t=n.indexOf(":"),-1!==t&&(r=n.slice(0,t).toLowerCase(),i=p(n.slice(t+1)),s[r]=i);return s}function m(e){return/[/+]json($|[^-\w])/.test(e)}function _(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=g(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function b(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new _(n)}catch(i){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=i,n.xhr?(t.rawResponse="undefined"===typeof n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(i){e=i}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function w(e,t,n){var r=h("DELETE",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}h.serializeObject=d,h.parseString=v,h.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":d,"application/json":s},h.parse={"application/x-www-form-urlencoded":v,"application/json":JSON.parse},c(_.prototype),_.prototype._parseBody=function(e){var t=h.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=h.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},_.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot ".concat(t," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},h.Response=_,o(b.prototype),a(b.prototype),b.prototype.type=function(e){return this.set("Content-Type",h.types[e]||e),this},b.prototype.accept=function(e){return this.set("Accept",h.types[e]||e),this},b.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"===r(t)&&null!==t&&(n=t,t=""),n||(n={type:"function"===typeof btoa?"basic":"auto"});var i=function(e){if("function"===typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,i)},b.prototype.query=function(e){return"string"!==typeof e&&(e=d(e)),e&&this._query.push(e),this},b.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},b.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},b.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},b.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},b.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},b.prototype.ca=b.prototype.agent,b.prototype.buffer=b.prototype.ca,b.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},b.prototype.pipe=b.prototype.write,b.prototype._isHost=function(e){return e&&"object"===r(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},b.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||l,this._finalizeQueryString(),this._end()},b.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},b.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=h.getXHR();var t=this.xhr,n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===n){var r;try{r=t.status}catch(i){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",r.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",r.bind(null,"upload"))}catch(a){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(u){return this.callback(u)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!==typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||h.serialize[i?i.split(";")[0]:""];!o&&m(i)&&(o=h.serialize["application/json"]),o&&(n=o(n))}for(var s in this.header)null!==this.header[s]&&Object.prototype.hasOwnProperty.call(this.header,s)&&t.setRequestHeader(s,this.header[s]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send("undefined"===typeof n?null:n)},h.agent=function(){return new f},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){f.prototype[e.toLowerCase()]=function(t,n){var r=new h.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),f.prototype.del=f.prototype.delete,h.get=function(e,t,n){var r=h("GET",e);return"function"===typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},h.head=function(e,t,n){var r=h("HEAD",e);return"function"===typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},h.options=function(e,t,n){var r=h("OPTIONS",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},h.del=w,h.delete=w,h.patch=function(e,t,n){var r=h("PATCH",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},h.post=function(e,t,n){var r=h("POST",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},h.put=function(e,t,n){var r=h("PUT",e);return"function"===typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),s=n("9112"),a=n("b622"),u=a("iterator"),c=a("toStringTag"),f=o.values;for(var l in i){var h=r[l],p=h&&h.prototype;if(p){if(p[u]!==f)try{s(p,u,f)}catch(y){p[u]=f}if(p[c]||s(p,c,l),i[l])for(var d in o)if(p[d]!==o[d])try{s(p,d,o[d])}catch(y){p[d]=o[d]}}}},df33:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=89)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var u,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=u):i&&(u=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},15:function(e,t){e.exports=n("5128")},4:function(e,t){e.exports=n("d010")},89:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{key:e.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style,attrs:{role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"}},[n("div",{staticClass:"el-dialog__header"},[e._t("title",[n("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[n("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?n("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?n("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])},i=[];r._withStripped=!0;var o=n(15),s=n.n(o),a=n(11),u=n.n(a),c=n(4),f=n.n(c),l={name:"ElDialog",mixins:[s.a,f.a,u.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick((function(){t.$refs.dialog.scrollTop=0})),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick((function(){t.key++})))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},h=l,p=n(0),d=Object(p["a"])(h,r,i,!1,null,null,null);d.options.__file="packages/dialog/src/component.vue";var y=d.exports;y.install=function(e){e.component(y.name,y)};t["default"]=y}})},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("5135"),a=n("861d"),u=n("9bf2").f,c=n("e893"),f=o.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new f(e):void 0===e?f():f(e);return""===e&&(l[t]=!0),t};c(h,f);var p=h.prototype=f.prototype;p.constructor=h;var d=p.toString,y="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=d.call(e);if(s(l,e))return"";var n=y?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),u=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),u="Array Iterator",c=s.set,f=s.getterFor(u);e.exports=a(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e538:function(e,t,n){var r=n("b622");t.f=r},e62d:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){if(i.default.prototype.$isServer)return 0;if(void 0!==s)return s;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),s=t-r,s};var r=n("2b0e"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=void 0},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),u=n("c430"),c=n("da84"),f=n("d066"),l=n("fea9"),h=n("6eeb"),p=n("e2cc"),d=n("d44e"),y=n("2626"),v=n("861d"),g=n("1c0b"),m=n("19aa"),_=n("8925"),b=n("2266"),w=n("1c7e"),E=n("4840"),O=n("2cf4").set,S=n("b575"),T=n("cdf9"),A=n("44de"),I=n("f069"),N=n("e667"),C=n("69f3"),x=n("94ca"),R=n("b622"),P=n("605d"),j=n("2d00"),k=R("species"),L="Promise",M=C.get,D=C.set,B=C.getterFor(L),U=l,F=c.TypeError,q=c.document,V=c.process,Y=f("fetch"),$=I.f,W=$,z=!!(q&&q.createEvent&&c.dispatchEvent),G="function"==typeof PromiseRejectionEvent,H="unhandledrejection",K="rejectionhandled",J=0,Q=1,X=2,Z=1,ee=2,te=x(L,(function(){var e=_(U)!==String(U);if(!e){if(66===j)return!0;if(!P&&!G)return!0}if(u&&!U.prototype["finally"])return!0;if(j>=51&&/native code/.test(U))return!1;var t=U.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[k]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){U.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){var r=e.value,i=e.state==Q,o=0;while(n.length>o){var s,a,u,c=n[o++],f=i?c.ok:c.fail,l=c.resolve,h=c.reject,p=c.domain;try{f?(i||(e.rejection===ee&&ue(e),e.rejection=Z),!0===f?s=r:(p&&p.enter(),s=f(r),p&&(p.exit(),u=!0)),s===c.promise?h(F("Promise-chain cycle")):(a=re(s))?a.call(s,l,h):l(s)):h(r)}catch(d){p&&!u&&p.exit(),h(d)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},oe=function(e,t,n){var r,i;z?(r=q.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!G&&(i=c["on"+e])?i(r):e===H&&A("Unhandled promise rejection",n)},se=function(e){O.call(c,(function(){var t,n=e.facade,r=e.value,i=ae(e);if(i&&(t=N((function(){P?V.emit("unhandledRejection",r,n):oe(H,n,r)})),e.rejection=P||ae(e)?ee:Z,t.error))throw t.value}))},ae=function(e){return e.rejection!==Z&&!e.parent},ue=function(e){O.call(c,(function(){var t=e.facade;P?V.emit("rejectionHandled",t):oe(K,t,e.value)}))},ce=function(e,t,n){return function(r){e(t,r,n)}},fe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=X,ie(e,!0))},le=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F("Promise can't be resolved itself");var r=re(t);r?S((function(){var n={done:!1};try{r.call(t,ce(le,n,e),ce(fe,n,e))}catch(i){fe(n,i,e)}})):(e.value=t,e.state=Q,ie(e,!1))}catch(i){fe({done:!1},i,e)}}};te&&(U=function(e){m(this,U,L),g(e),r.call(this);var t=M(this);try{e(ce(le,t),ce(fe,t))}catch(n){fe(t,n)}},r=function(e){D(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},r.prototype=p(U.prototype,{then:function(e,t){var n=B(this),r=$(E(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?V.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=J&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=M(e);this.promise=e,this.resolve=ce(le,t),this.reject=ce(fe,t)},I.f=$=function(e){return e===U||e===o?new i(e):W(e)},u||"function"!=typeof l||(s=l.prototype.then,h(l.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Y&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return T(U,Y.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:U}),d(U,L,!1,!0),y(L),o=f(L),a({target:L,stat:!0,forced:te},{reject:function(e){var t=$(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:u||te},{resolve:function(e){return T(u&&this===o?U:this,e)}}),a({target:L,stat:!0,forced:ne},{all:function(e){var t=this,n=$(t),r=n.resolve,i=n.reject,o=N((function(){var n=g(t.resolve),o=[],s=0,a=1;b(e,(function(e){var u=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=$(t),r=n.reject,i=N((function(){var i=g(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e73f:function(e,t,n){"use strict";var r=n("51ef"),i=r.Realtime,o=r.setAdapters,s=n("c520"),a=s.LiveQueryPlugin;i.__preRegisteredPlugins=[a],e.exports=function(e){e._sharedConfig.liveQueryRealtime=i;var t=e.setAdapters;return e.setAdapters=function(e){t(e),o(e)},e}},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,u=o.f,c=0;c<n.length;c++){var f=n[c];r(e,f)||a(e,f,u(t,f))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},eac5:function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}e.exports=r},ec69:function(e,t,n){var r=n("6fcd"),i=n("03dd"),o=n("30c9");function s(e){return o(e)?r(e):i(e)}e.exports=s},ecb6:function(e,t,n){"use strict";(function(e,r){function i(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n("0cf0")),s=i(n("5ab7")),a=i(n("a34a")),u=i(n("c973")),c=i(n("448a")),f=i(n("9523")),l=i(n("4082")),h=i(n("3c96")),p=i(n("55b5")),d=i(n("46b0")),y=i(n("f560")),v=i(n("3ff1")),g=i(n("480f")),m=i(n("5bc3")),_=i(n("53ec")),b=i(n("04a0")),w=i(n("7037")),E=i(n("60ed")),O=n("d086"),S=o.newBuilder({})["import"]({package:"push_server.messages2",syntax:"proto2",options:{objc_class_prefix:"AVIM"},messages:[{name:"JsonObjectMessage",syntax:"proto2",fields:[{rule:"required",type:"string",name:"data",id:1}]},{name:"UnreadTuple",syntax:"proto2",fields:[{rule:"required",type:"string",name:"cid",id:1},{rule:"required",type:"int32",name:"unread",id:2},{rule:"optional",type:"string",name:"mid",id:3},{rule:"optional",type:"int64",name:"timestamp",id:4},{rule:"optional",type:"string",name:"from",id:5},{rule:"optional",type:"string",name:"data",id:6},{rule:"optional",type:"int64",name:"patchTimestamp",id:7},{rule:"optional",type:"bool",name:"mentioned",id:8},{rule:"optional",type:"bytes",name:"binaryMsg",id:9},{rule:"optional",type:"int32",name:"convType",id:10}]},{name:"LogItem",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"from",id:1},{rule:"optional",type:"string",name:"data",id:2},{rule:"optional",type:"int64",name:"timestamp",id:3},{rule:"optional",type:"string",name:"msgId",id:4},{rule:"optional",type:"int64",name:"ackAt",id:5},{rule:"optional",type:"int64",name:"readAt",id:6},{rule:"optional",type:"int64",name:"patchTimestamp",id:7},{rule:"optional",type:"bool",name:"mentionAll",id:8},{rule:"repeated",type:"string",name:"mentionPids",id:9},{rule:"optional",type:"bool",name:"bin",id:10},{rule:"optional",type:"int32",name:"convType",id:11}]},{name:"ConvMemberInfo",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"pid",id:1},{rule:"optional",type:"string",name:"role",id:2},{rule:"optional",type:"string",name:"infoId",id:3}]},{name:"DataCommand",syntax:"proto2",fields:[{rule:"repeated",type:"string",name:"ids",id:1},{rule:"repeated",type:"JsonObjectMessage",name:"msg",id:2},{rule:"optional",type:"bool",name:"offline",id:3}]},{name:"SessionCommand",syntax:"proto2",fields:[{rule:"optional",type:"int64",name:"t",id:1},{rule:"optional",type:"string",name:"n",id:2},{rule:"optional",type:"string",name:"s",id:3},{rule:"optional",type:"string",name:"ua",id:4},{rule:"optional",type:"bool",name:"r",id:5},{rule:"optional",type:"string",name:"tag",id:6},{rule:"optional",type:"string",name:"deviceId",id:7},{rule:"repeated",type:"string",name:"sessionPeerIds",id:8},{rule:"repeated",type:"string",name:"onlineSessionPeerIds",id:9},{rule:"optional",type:"string",name:"st",id:10},{rule:"optional",type:"int32",name:"stTtl",id:11},{rule:"optional",type:"int32",name:"code",id:12},{rule:"optional",type:"string",name:"reason",id:13},{rule:"optional",type:"string",name:"deviceToken",id:14},{rule:"optional",type:"bool",name:"sp",id:15},{rule:"optional",type:"string",name:"detail",id:16},{rule:"optional",type:"int64",name:"lastUnreadNotifTime",id:17},{rule:"optional",type:"int64",name:"lastPatchTime",id:18},{rule:"optional",type:"int64",name:"configBitmap",id:19}]},{name:"ErrorCommand",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"code",id:1},{rule:"required",type:"string",name:"reason",id:2},{rule:"optional",type:"int32",name:"appCode",id:3},{rule:"optional",type:"string",name:"detail",id:4},{rule:"repeated",type:"string",name:"pids",id:5},{rule:"optional",type:"string",name:"appMsg",id:6}]},{name:"DirectCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"msg",id:1},{rule:"optional",type:"string",name:"uid",id:2},{rule:"optional",type:"string",name:"fromPeerId",id:3},{rule:"optional",type:"int64",name:"timestamp",id:4},{rule:"optional",type:"bool",name:"offline",id:5},{rule:"optional",type:"bool",name:"hasMore",id:6},{rule:"repeated",type:"string",name:"toPeerIds",id:7},{rule:"optional",type:"bool",name:"r",id:10},{rule:"optional",type:"string",name:"cid",id:11},{rule:"optional",type:"string",name:"id",id:12},{rule:"optional",type:"bool",name:"transient",id:13},{rule:"optional",type:"string",name:"dt",id:14},{rule:"optional",type:"string",name:"roomId",id:15},{rule:"optional",type:"string",name:"pushData",id:16},{rule:"optional",type:"bool",name:"will",id:17},{rule:"optional",type:"int64",name:"patchTimestamp",id:18},{rule:"optional",type:"bytes",name:"binaryMsg",id:19},{rule:"repeated",type:"string",name:"mentionPids",id:20},{rule:"optional",type:"bool",name:"mentionAll",id:21},{rule:"optional",type:"int32",name:"convType",id:22}]},{name:"AckCommand",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"code",id:1},{rule:"optional",type:"string",name:"reason",id:2},{rule:"optional",type:"string",name:"mid",id:3},{rule:"optional",type:"string",name:"cid",id:4},{rule:"optional",type:"int64",name:"t",id:5},{rule:"optional",type:"string",name:"uid",id:6},{rule:"optional",type:"int64",name:"fromts",id:7},{rule:"optional",type:"int64",name:"tots",id:8},{rule:"optional",type:"string",name:"type",id:9},{rule:"repeated",type:"string",name:"ids",id:10},{rule:"optional",type:"int32",name:"appCode",id:11},{rule:"optional",type:"string",name:"appMsg",id:12}]},{name:"UnreadCommand",syntax:"proto2",fields:[{rule:"repeated",type:"UnreadTuple",name:"convs",id:1},{rule:"optional",type:"int64",name:"notifTime",id:2}]},{name:"ConvCommand",syntax:"proto2",fields:[{rule:"repeated",type:"string",name:"m",id:1},{rule:"optional",type:"bool",name:"transient",id:2},{rule:"optional",type:"bool",name:"unique",id:3},{rule:"optional",type:"string",name:"cid",id:4},{rule:"optional",type:"string",name:"cdate",id:5},{rule:"optional",type:"string",name:"initBy",id:6},{rule:"optional",type:"string",name:"sort",id:7},{rule:"optional",type:"int32",name:"limit",id:8},{rule:"optional",type:"int32",name:"skip",id:9},{rule:"optional",type:"int32",name:"flag",id:10},{rule:"optional",type:"int32",name:"count",id:11},{rule:"optional",type:"string",name:"udate",id:12},{rule:"optional",type:"int64",name:"t",id:13},{rule:"optional",type:"string",name:"n",id:14},{rule:"optional",type:"string",name:"s",id:15},{rule:"optional",type:"bool",name:"statusSub",id:16},{rule:"optional",type:"bool",name:"statusPub",id:17},{rule:"optional",type:"int32",name:"statusTTL",id:18},{rule:"optional",type:"string",name:"uniqueId",id:19},{rule:"optional",type:"string",name:"targetClientId",id:20},{rule:"optional",type:"int64",name:"maxReadTimestamp",id:21},{rule:"optional",type:"int64",name:"maxAckTimestamp",id:22},{rule:"optional",type:"bool",name:"queryAllMembers",id:23},{rule:"repeated",type:"MaxReadTuple",name:"maxReadTuples",id:24},{rule:"repeated",type:"string",name:"cids",id:25},{rule:"optional",type:"ConvMemberInfo",name:"info",id:26},{rule:"optional",type:"bool",name:"tempConv",id:27},{rule:"optional",type:"int32",name:"tempConvTTL",id:28},{rule:"repeated",type:"string",name:"tempConvIds",id:29},{rule:"repeated",type:"string",name:"allowedPids",id:30},{rule:"repeated",type:"ErrorCommand",name:"failedPids",id:31},{rule:"optional",type:"string",name:"next",id:40},{rule:"optional",type:"JsonObjectMessage",name:"results",id:100},{rule:"optional",type:"JsonObjectMessage",name:"where",id:101},{rule:"optional",type:"JsonObjectMessage",name:"attr",id:103},{rule:"optional",type:"JsonObjectMessage",name:"attrModified",id:104}]},{name:"RoomCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"roomId",id:1},{rule:"optional",type:"string",name:"s",id:2},{rule:"optional",type:"int64",name:"t",id:3},{rule:"optional",type:"string",name:"n",id:4},{rule:"optional",type:"bool",name:"transient",id:5},{rule:"repeated",type:"string",name:"roomPeerIds",id:6},{rule:"optional",type:"string",name:"byPeerId",id:7}]},{name:"LogsCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"optional",type:"int32",name:"l",id:2},{rule:"optional",type:"int32",name:"limit",id:3},{rule:"optional",type:"int64",name:"t",id:4},{rule:"optional",type:"int64",name:"tt",id:5},{rule:"optional",type:"string",name:"tmid",id:6},{rule:"optional",type:"string",name:"mid",id:7},{rule:"optional",type:"string",name:"checksum",id:8},{rule:"optional",type:"bool",name:"stored",id:9},{rule:"optional",type:"QueryDirection",name:"direction",id:10,options:{default:"OLD"}},{rule:"optional",type:"bool",name:"tIncluded",id:11},{rule:"optional",type:"bool",name:"ttIncluded",id:12},{rule:"optional",type:"int32",name:"lctype",id:13},{rule:"repeated",type:"LogItem",name:"logs",id:105}],enums:[{name:"QueryDirection",syntax:"proto2",values:[{name:"OLD",id:1},{name:"NEW",id:2}]}]},{name:"RcpCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"id",id:1},{rule:"optional",type:"string",name:"cid",id:2},{rule:"optional",type:"int64",name:"t",id:3},{rule:"optional",type:"bool",name:"read",id:4},{rule:"optional",type:"string",name:"from",id:5}]},{name:"ReadTuple",syntax:"proto2",fields:[{rule:"required",type:"string",name:"cid",id:1},{rule:"optional",type:"int64",name:"timestamp",id:2},{rule:"optional",type:"string",name:"mid",id:3}]},{name:"MaxReadTuple",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"pid",id:1},{rule:"optional",type:"int64",name:"maxAckTimestamp",id:2},{rule:"optional",type:"int64",name:"maxReadTimestamp",id:3}]},{name:"ReadCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"repeated",type:"string",name:"cids",id:2},{rule:"repeated",type:"ReadTuple",name:"convs",id:3}]},{name:"PresenceCommand",syntax:"proto2",fields:[{rule:"optional",type:"StatusType",name:"status",id:1},{rule:"repeated",type:"string",name:"sessionPeerIds",id:2},{rule:"optional",type:"string",name:"cid",id:3}]},{name:"ReportCommand",syntax:"proto2",fields:[{rule:"optional",type:"bool",name:"initiative",id:1},{rule:"optional",type:"string",name:"type",id:2},{rule:"optional",type:"string",name:"data",id:3}]},{name:"PatchItem",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"optional",type:"string",name:"mid",id:2},{rule:"optional",type:"int64",name:"timestamp",id:3},{rule:"optional",type:"bool",name:"recall",id:4},{rule:"optional",type:"string",name:"data",id:5},{rule:"optional",type:"int64",name:"patchTimestamp",id:6},{rule:"optional",type:"string",name:"from",id:7},{rule:"optional",type:"bytes",name:"binaryMsg",id:8},{rule:"optional",type:"bool",name:"mentionAll",id:9},{rule:"repeated",type:"string",name:"mentionPids",id:10},{rule:"optional",type:"int64",name:"patchCode",id:11},{rule:"optional",type:"string",name:"patchReason",id:12}]},{name:"PatchCommand",syntax:"proto2",fields:[{rule:"repeated",type:"PatchItem",name:"patches",id:1},{rule:"optional",type:"int64",name:"lastPatchTime",id:2}]},{name:"PubsubCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"cid",id:1},{rule:"repeated",type:"string",name:"cids",id:2},{rule:"optional",type:"string",name:"topic",id:3},{rule:"optional",type:"string",name:"subtopic",id:4},{rule:"repeated",type:"string",name:"topics",id:5},{rule:"repeated",type:"string",name:"subtopics",id:6},{rule:"optional",type:"JsonObjectMessage",name:"results",id:7}]},{name:"BlacklistCommand",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"srcCid",id:1},{rule:"repeated",type:"string",name:"toPids",id:2},{rule:"optional",type:"string",name:"srcPid",id:3},{rule:"repeated",type:"string",name:"toCids",id:4},{rule:"optional",type:"int32",name:"limit",id:5},{rule:"optional",type:"string",name:"next",id:6},{rule:"repeated",type:"string",name:"blockedPids",id:8},{rule:"repeated",type:"string",name:"blockedCids",id:9},{rule:"repeated",type:"string",name:"allowedPids",id:10},{rule:"repeated",type:"ErrorCommand",name:"failedPids",id:11},{rule:"optional",type:"int64",name:"t",id:12},{rule:"optional",type:"string",name:"n",id:13},{rule:"optional",type:"string",name:"s",id:14}]},{name:"GenericCommand",syntax:"proto2",fields:[{rule:"optional",type:"CommandType",name:"cmd",id:1},{rule:"optional",type:"OpType",name:"op",id:2},{rule:"optional",type:"string",name:"appId",id:3},{rule:"optional",type:"string",name:"peerId",id:4},{rule:"optional",type:"int32",name:"i",id:5},{rule:"optional",type:"string",name:"installationId",id:6},{rule:"optional",type:"int32",name:"priority",id:7},{rule:"optional",type:"int32",name:"service",id:8},{rule:"optional",type:"int64",name:"serverTs",id:9},{rule:"optional",type:"int64",name:"clientTs",id:10},{rule:"optional",type:"int32",name:"notificationType",id:11},{rule:"optional",type:"DataCommand",name:"dataMessage",id:101},{rule:"optional",type:"SessionCommand",name:"sessionMessage",id:102},{rule:"optional",type:"ErrorCommand",name:"errorMessage",id:103},{rule:"optional",type:"DirectCommand",name:"directMessage",id:104},{rule:"optional",type:"AckCommand",name:"ackMessage",id:105},{rule:"optional",type:"UnreadCommand",name:"unreadMessage",id:106},{rule:"optional",type:"ReadCommand",name:"readMessage",id:107},{rule:"optional",type:"RcpCommand",name:"rcpMessage",id:108},{rule:"optional",type:"LogsCommand",name:"logsMessage",id:109},{rule:"optional",type:"ConvCommand",name:"convMessage",id:110},{rule:"optional",type:"RoomCommand",name:"roomMessage",id:111},{rule:"optional",type:"PresenceCommand",name:"presenceMessage",id:112},{rule:"optional",type:"ReportCommand",name:"reportMessage",id:113},{rule:"optional",type:"PatchCommand",name:"patchMessage",id:114},{rule:"optional",type:"PubsubCommand",name:"pubsubMessage",id:115},{rule:"optional",type:"BlacklistCommand",name:"blacklistMessage",id:116}]}],enums:[{name:"CommandType",syntax:"proto2",values:[{name:"session",id:0},{name:"conv",id:1},{name:"direct",id:2},{name:"ack",id:3},{name:"rcp",id:4},{name:"unread",id:5},{name:"logs",id:6},{name:"error",id:7},{name:"login",id:8},{name:"data",id:9},{name:"room",id:10},{name:"read",id:11},{name:"presence",id:12},{name:"report",id:13},{name:"echo",id:14},{name:"loggedin",id:15},{name:"logout",id:16},{name:"loggedout",id:17},{name:"patch",id:18},{name:"pubsub",id:19},{name:"blacklist",id:20},{name:"goaway",id:21}]},{name:"OpType",syntax:"proto2",values:[{name:"open",id:1},{name:"add",id:2},{name:"remove",id:3},{name:"close",id:4},{name:"opened",id:5},{name:"closed",id:6},{name:"query",id:7},{name:"query_result",id:8},{name:"conflict",id:9},{name:"added",id:10},{name:"removed",id:11},{name:"refresh",id:12},{name:"refreshed",id:13},{name:"start",id:30},{name:"started",id:31},{name:"joined",id:32},{name:"members_joined",id:33},{name:"left",id:39},{name:"members_left",id:40},{name:"results",id:42},{name:"count",id:43},{name:"result",id:44},{name:"update",id:45},{name:"updated",id:46},{name:"mute",id:47},{name:"unmute",id:48},{name:"status",id:49},{name:"members",id:50},{name:"max_read",id:51},{name:"is_member",id:52},{name:"member_info_update",id:53},{name:"member_info_updated",id:54},{name:"member_info_changed",id:55},{name:"join",id:80},{name:"invite",id:81},{name:"leave",id:82},{name:"kick",id:83},{name:"reject",id:84},{name:"invited",id:85},{name:"kicked",id:86},{name:"upload",id:100},{name:"uploaded",id:101},{name:"subscribe",id:120},{name:"subscribed",id:121},{name:"unsubscribe",id:122},{name:"unsubscribed",id:123},{name:"is_subscribed",id:124},{name:"modify",id:150},{name:"modified",id:151},{name:"block",id:170},{name:"unblock",id:171},{name:"blocked",id:172},{name:"unblocked",id:173},{name:"members_blocked",id:174},{name:"members_unblocked",id:175},{name:"check_block",id:176},{name:"check_result",id:177},{name:"add_shutup",id:180},{name:"remove_shutup",id:181},{name:"query_shutup",id:182},{name:"shutup_added",id:183},{name:"shutup_removed",id:184},{name:"shutup_result",id:185},{name:"shutuped",id:186},{name:"unshutuped",id:187},{name:"members_shutuped",id:188},{name:"members_unshutuped",id:189},{name:"check_shutup",id:190}]},{name:"StatusType",syntax:"proto2",values:[{name:"on",id:1},{name:"off",id:2}]}],isNamespace:!0}).build(),T=S.push_server.messages2,A=T.JsonObjectMessage,I=T.UnreadTuple,N=T.LogItem,C=T.DataCommand,x=T.SessionCommand,R=T.ErrorCommand,P=T.DirectCommand,j=T.AckCommand,k=T.UnreadCommand,L=T.ConvCommand,M=T.RoomCommand,D=T.LogsCommand,B=T.RcpCommand,U=T.ReadTuple,F=T.MaxReadTuple,q=T.ReadCommand,V=T.PresenceCommand,Y=T.ReportCommand,$=T.GenericCommand,W=T.BlacklistCommand,z=T.PatchCommand,G=T.PatchItem,H=T.ConvMemberInfo,K=T.CommandType,J=T.OpType,Q=T.StatusType,X=Object.freeze({__proto__:null,JsonObjectMessage:A,UnreadTuple:I,LogItem:N,DataCommand:C,SessionCommand:x,ErrorCommand:R,DirectCommand:P,AckCommand:j,UnreadCommand:k,ConvCommand:L,RoomCommand:M,LogsCommand:D,RcpCommand:B,ReadTuple:U,MaxReadTuple:F,ReadCommand:q,PresenceCommand:V,ReportCommand:Y,GenericCommand:$,BlacklistCommand:W,PatchCommand:z,PatchItem:G,ConvMemberInfo:H,CommandType:K,OpType:J,StatusType:Q}),Z={},ee=function(e){var t=Z[e];if(void 0===t)throw new Error("".concat(e," adapter is not configured"));return t},te=function(e){Object.assign(Z,e)},ne="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},re=Symbol("expired"),ie=d("LC:Expirable"),oe=function(){function e(e,t){this.originalValue=e,"number"===typeof t&&(this.expiredAt=Date.now()+t)}return m(e,[{key:"value",get:function(){var e=this.expiredAt&&this.expiredAt<=Date.now();return e&&ie("expired: ".concat(this.originalValue)),e?re:this.originalValue}}]),e}();oe.EXPIRED=re;var se=d("LC:Cache"),ae=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous";this.name=e,this._map={}}var t=e.prototype;return t.get=function(e){var t=this._map[e];if(t){var n=t.value;if(n!==oe.EXPIRED)return se("[%s] hit: %s",this.name,e),n;delete this._map[e]}return se("[".concat(this.name,"] missed: ").concat(e)),null},t.set=function(e,t,n){se("[%s] set: %s %d",this.name,e,n),this._map[e]=new oe(t,n)},e}();function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe,le={enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LC*";return d.enable(e)},disable:d.disable},he=function e(t){var n=new Promise(t[0]);return 1===t.length?n:n["catch"]((function(){return e(t.slice(1))}))},pe=function(e){return function(t){return e(t),t}},de=(ne.navigator&&ne.navigator.userAgent&&ne.navigator.userAgent.indexOf("MSIE 10."),new WeakMap),ye=function(e){return de.has(e)||de.set(e,{}),de.get(e)},ve=function e(t,n){if(!E(t))return t;var r=ce({},t);return Object.keys(r).forEach((function(t){var i=r[t];i===n?delete r[t]:r[t]=e(i,n)})),r},ge=function(e){return ve(e,null)},me=function(e){return ge(JSON.parse(JSON.stringify(e)))},_e=function(e){return Array.isArray(e)?e:void 0===e||null===e?[]:[e]},be="object"===("undefined"===typeof wx?"undefined":w(wx))&&"function"===typeof wx.connectSocket,we=function(e){return"-MdYXbMMI"!==e.slice(-9)},Ee=function(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;var n=new Uint8Array(e),r=new Uint8Array(t);return!n.some((function(e,t){return e!==r[t]}))};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=d("LC:WebSocketPlus"),Ae="open",Ie="disconnect",Ne="reconnect",Ce="retry",xe="schedule",Re="offline",Pe="online",je="error",ke="message",Le=18e4,Me=38e4,De=function(e){return Math.min(1e3*Math.pow(2,e),3e5)},Be=function(e,t,n){return Se(Se({},n),{},{value:function(){var e;this.checkConnectionAvailability(t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.value).call.apply(e,[this].concat(i))}})},Ue=(fe=function(e){function t(t,n){var r;return r=e.call(this)||this,r.init(),r._protocol=n,Promise.resolve("function"===typeof t?t():t).then(_e).then((function(e){return r._urls=e,r._open()})).then((function(){r.__postponeTimeoutTimer=r._postponeTimeoutTimer.bind(h(r)),ne.addEventListener&&(r.__pause=function(){r.can("pause")&&r.pause()},r.__resume=function(){r.can("resume")&&r.resume()},ne.addEventListener("offline",r.__pause),ne.addEventListener("online",r.__resume)),r.open()}))["catch"](r["throw"].bind(h(r))),r}p(t,e),m(t,[{key:"urls",get:function(){return this._urls},set:function(e){this._urls=_e(e)}}]);var n=t.prototype;return n._open=function(){var e=this;return this._createWs(this._urls,this._protocol).then((function(t){var n=g(e._urls),r=n[0],i=n.slice(1);return e._urls=[].concat(c(i),[r]),t}))},n._createWs=function(e,t){var n=this;return he(e.map((function(e){return function(r,i){Te("connect [".concat(e,"] ").concat(t));var o=ee("WebSocket"),s=t?new o(e,t):new o(e);s.binaryType=n.binaryType||"arraybuffer",s.onopen=function(){return r(s)},s.onclose=function(t){return t instanceof Error?i(t):i(new Error("Failed to connect [".concat(e,"]")))},s.onerror=s.onclose}}))).then((function(e){return n._ws=e,n._ws.onclose=n._handleClose.bind(n),n._ws.onmessage=n._handleMessage.bind(n),e}))},n._destroyWs=function(){var e=this._ws;e&&(e.onopen=null,e.onclose=null,e.onerror=null,e.onmessage=null,this._ws=null,e.close())},n.onbeforeevent=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];Te("".concat(e,": ").concat(t," -> ").concat(n," %o"),i)},n.onopen=function(){this.emit(Ae)},n.onconnected=function(){this._startConnectionKeeper()},n.onleaveconnected=function(e,t,n){this._stopConnectionKeeper(),this._destroyWs(),"offline"!==n&&"disconnected"!==n||this.emit(Ie)},n.onpause=function(){this.emit(Re)},n.onbeforeresume=function(){this.emit(Pe)},n.onreconnect=function(){this.emit(Ne)},n.ondisconnected=function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=t===Re?0:De.call(null,i);Te("schedule attempt=".concat(i," delay=").concat(o)),this.emit(xe,i,o),this.__scheduledRetry&&clearTimeout(this.__scheduledRetry),this.__scheduledRetry=setTimeout((function(){r.is("disconnected")&&r.retry(i)}),o)},n.onretry=function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.emit(Ce,i),this._open().then((function(){return r.can("reconnect")&&r.reconnect()}),(function(){return r.can("fail")&&r.fail(i+1)}))},n.onerror=function(e,t,n,r){this.emit(je,r)},n.onclose=function(){ne.removeEventListener&&(this.__pause&&ne.removeEventListener("offline",this.__pause),this.__resume&&ne.removeEventListener("online",this.__resume))},n.checkConnectionAvailability=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"API";if(!this.is("connected")){var t=this.current;throw console.warn("".concat(e," should not be called when the connection is ").concat(t)),(this.is("disconnected")||this.is("reconnecting"))&&console.warn("disconnect and reconnect event should be handled to avoid such calls."),new Error("Connection unavailable")}},n._ping=function(){Te("ping");try{this.ping()}catch(Fe){console.warn("websocket ping error: ".concat(Fe.message))}},n.ping=function(){this._ws.ping?this._ws.ping():console.warn("The WebSocket implement does not support sending ping frame.\n        Override ping method to use application defined ping/pong mechanism.")},n._postponeTimeoutTimer=function(){var e=this;Te("_postponeTimeoutTimer"),this._clearTimeoutTimers(),this._timeoutTimer=setTimeout((function(){Te("timeout"),e.disconnect()}),Me)},n._clearTimeoutTimers=function(){this._timeoutTimer&&clearTimeout(this._timeoutTimer)},n._startConnectionKeeper=function(){Te("start connection keeper"),this._heartbeatTimer=setInterval(this._ping.bind(this),Le);var e=this._ws.addListener||this._ws.addEventListener;e?(e.call(this._ws,"message",this.__postponeTimeoutTimer),e.call(this._ws,"pong",this.__postponeTimeoutTimer),this._postponeTimeoutTimer()):Te("connection keeper disabled due to the lack of #addEventListener.")},n._stopConnectionKeeper=function(){Te("stop connection keeper");var e=this._ws.removeListener||this._ws.removeEventListener;e&&(e.call(this._ws,"message",this.__postponeTimeoutTimer),e.call(this._ws,"pong",this.__postponeTimeoutTimer),this._clearTimeoutTimers()),this._heartbeatTimer&&clearInterval(this._heartbeatTimer)},n._handleClose=function(e){Te("ws closed [".concat(e.code,"] ").concat(e.reason)),this.isFinished()||this.handleClose(e)},n.handleClose=function(){this.disconnect()},n.send=function(e){Te("send",e),this._ws.send(e)},n._handleMessage=function(e){Te("message",e.data),this.handleMessage(e.data)},n.handleMessage=function(e){this.emit(ke,e)},t}(s),_(fe.prototype,"_ping",[Be],Object.getOwnPropertyDescriptor(fe.prototype,"_ping"),fe.prototype),_(fe.prototype,"send",[Be],Object.getOwnPropertyDescriptor(fe.prototype,"send"),fe.prototype),fe);b.create({target:Ue.prototype,initial:{state:"initialized",event:"init",defer:!0},terminal:"closed",events:[{name:"open",from:"initialized",to:"connected"},{name:"disconnect",from:"connected",to:"disconnected"},{name:"retry",from:"disconnected",to:"reconnecting"},{name:"fail",from:"reconnecting",to:"disconnected"},{name:"reconnect",from:"reconnecting",to:"connected"},{name:"pause",from:["connected","disconnected","reconnecting"],to:"offline"},{},{name:"resume",from:"offline",to:"disconnected"},{name:"close",from:["connected","disconnected","reconnecting","offline"],to:"closed"},{name:"throw",from:"*",to:"error"}]});var Fe=Object.freeze({1e3:{name:"CLOSE_NORMAL"},1006:{name:"CLOSE_ABNORMAL"},4100:{name:"APP_NOT_AVAILABLE",message:"App not exists or realtime message service is disabled."},4102:{name:"SIGNATURE_FAILED",message:"Login signature mismatch."},4103:{name:"INVALID_LOGIN",message:"Malformed clientId."},4105:{name:"SESSION_REQUIRED",message:"Message sent before session opened."},4107:{name:"READ_TIMEOUT"},4108:{name:"LOGIN_TIMEOUT"},4109:{name:"FRAME_TOO_LONG"},4110:{name:"INVALID_ORIGIN",message:"Access denied by domain whitelist."},4111:{name:"SESSION_CONFLICT"},4112:{name:"SESSION_TOKEN_EXPIRED"},4113:{name:"APP_QUOTA_EXCEEDED",message:"The daily active users limit exceeded."},4116:{name:"MESSAGE_SENT_QUOTA_EXCEEDED",message:"Command sent too fast."},4200:{name:"INTERNAL_ERROR",message:"Internal error, please contact LeanCloud for support."},4301:{name:"CONVERSATION_API_FAILED",message:"Upstream Conversatoin API failed, see error.detail for details."},4302:{name:"CONVERSATION_SIGNATURE_FAILED",message:"Conversation action signature mismatch."},4303:{name:"CONVERSATION_NOT_FOUND"},4304:{name:"CONVERSATION_FULL"},4305:{name:"CONVERSATION_REJECTED_BY_APP",message:"Conversation action rejected by hook."},4306:{name:"CONVERSATION_UPDATE_FAILED"},4307:{name:"CONVERSATION_READ_ONLY"},4308:{name:"CONVERSATION_NOT_ALLOWED"},4309:{name:"CONVERSATION_UPDATE_REJECTED",message:"Conversation update rejected because the client is not a member."},4310:{name:"CONVERSATION_QUERY_FAILED",message:"Conversation query failed because it is too expansive."},4311:{name:"CONVERSATION_LOG_FAILED"},4312:{name:"CONVERSATION_LOG_REJECTED",message:"Message query rejected because the client is not a member of the conversation."},4313:{name:"SYSTEM_CONVERSATION_REQUIRED"},4314:{name:"NORMAL_CONVERSATION_REQUIRED"},4315:{name:"CONVERSATION_BLACKLISTED",message:"Blacklisted in the conversation."},4316:{name:"TRANSIENT_CONVERSATION_REQUIRED"},4317:{name:"CONVERSATION_MEMBERSHIP_REQUIRED"},4318:{name:"CONVERSATION_API_QUOTA_EXCEEDED",message:"LeanCloud API quota exceeded. You may upgrade your plan."},4323:{name:"TEMPORARY_CONVERSATION_EXPIRED",message:"Temporary conversation expired or does not exist."},4401:{name:"INVALID_MESSAGING_TARGET",message:"Conversation does not exist or client is not a member."},4402:{name:"MESSAGE_REJECTED_BY_APP",message:"Message rejected by hook."},4403:{name:"MESSAGE_OWNERSHIP_REQUIRED"},4404:{name:"MESSAGE_NOT_FOUND"},4405:{name:"MESSAGE_UPDATE_REJECTED_BY_APP",message:"Message update rejected by hook."},4406:{name:"MESSAGE_EDIT_DISABLED"},4407:{name:"MESSAGE_RECALL_DISABLED"},5130:{name:"OWNER_PROMOTION_NOT_ALLOWED",message:"Updating a member's role to owner is not allowed."}}),qe=Object.freeze(Object.keys(Fe).reduce((function(e,t){return Object.assign(e,f({},Fe[t].name,Number(t)))}),{})),Ve=function(e){var t=e.code,n=e.reason,r=e.appCode,i=e.detail,o=e.error,s=n||i||o,a=n;!s&&Fe[t]&&(a=Fe[t].name,s=Fe[t].message||a),s||(s="Unknow Error: ".concat(t));var u=new Error(s);return Object.assign(u,{code:t,appCode:r,detail:i,name:a})},Ye=d("LC:Connection"),$e=2e4,We=Symbol("expire"),ze=function(e){return!(e.cmd===K.direct||e.cmd===K.session&&e.op===J.open||e.cmd===K.conv&&(e.op===J.start||e.op===J.update||e.op===J.members))},Ge=function(e){function t(t,n){var r,i=n.format,o=n.version;Ye("initializing Connection");var s="lc.".concat(i,".").concat(o);return r=e.call(this,t,s)||this,r._protocolFormat=i,r._commands={},r._serialId=0,r}p(t,e);var n=t.prototype;return n.send=function(){var t=u(a.mark((function t(n){var r,i,o,s,u,c,f=this,l=arguments;return a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!(l.length>1&&void 0!==l[1])||l[1],!r){t.next=11;break}if(!ze(n)){t.next=8;break}if(i=n.toArrayBuffer(),s=v(this._commands).find((function(e){var t=e.buffer,r=e.command;return r.cmd===n.cmd&&r.op===n.op&&Ee(t,i)})),!s){t.next=8;break}return console.warn("Duplicated command [cmd:".concat(n.cmd," op:").concat(n.op,"] is throttled.")),t.abrupt("return",s.promise);case 8:this._serialId+=1,o=this._serialId,n.i=o;case 11:if(Ye.enabled&&Ye("↑ %O sent",me(n)),"proto2base64"===this._protocolFormat?u=n.toBase64():n.toArrayBuffer&&(u=n.toArrayBuffer()),u){t.next=15;break}throw new TypeError("".concat(n," is not a GenericCommand"));case 15:if(e.prototype.send.call(this,u),r){t.next=18;break}return t.abrupt("return",void 0);case 18:return c=new Promise((function(e,t){f._commands[o]={command:n,buffer:i,resolve:e,reject:t,timeout:setTimeout((function(){f._commands[o]&&(Ye.enabled&&Ye("✗ %O timeout",me(n)),t(Ve({error:"Command Timeout [cmd:".concat(n.cmd," op:").concat(n.op,"]"),name:"COMMAND_TIMEOUT"})),delete f._commands[o])}),$e)}})),this._commands[o].promise=c,t.abrupt("return",c);case 21:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}(),n.handleMessage=function(e){var t;try{t=$.decode(e),Ye.enabled&&Ye("↓ %O received",me(t))}catch(r){return void console.warn("Decode message failed:",r.message,e)}var n=t.i;if(n)this._commands[n]?(clearTimeout(this._commands[n].timeout),t.cmd===K.error?this._commands[n].reject(Ve(t.errorMessage)):this._commands[n].resolve(t),delete this._commands[n]):console.warn("Unexpected command received with serialId [".concat(n,"],\n         which have timed out or never been requested."));else switch(t.cmd){case K.error:return void this.emit(je,Ve(t.errorMessage));case K.goaway:return void this.emit(We);default:this.emit(ke,t)}},n.ping=function(){return this.send(new $({cmd:K.echo}))["catch"]((function(e){return Ye("ping failed:",e)}))},t}(Ue),He=d("LC:request"),Ke=function(e){var t=e.method,n=void 0===t?"GET":t,r=e.url,i=e.query,o=e.headers,s=e.data,a=e.timeout,u=r;if(i){var c=Object.keys(i).map((function(e){var t=i[e];if(void 0!==t){var n=E(t)?JSON.stringify(t):t;return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n))}})).filter((function(e){return e})).join("&");u="".concat(u,"?").concat(c)}He("Req: %O %O %O",n,u,{headers:o,data:s});var f=ee("request"),l=f(u,{method:n,headers:o,data:s}).then((function(e){if(!1===e.ok){var t=Ve(e.data);throw t.response=e,t}return He("Res: %O %O %O",u,e.status,e.data),e.data}))["catch"]((function(e){throw e.response&&He("Error: %O %O %O",u,e.response.status,e.response.data),e}));return a?O.timeout(l,a):l},Je=function(e,t){e&&e.forEach((function(e){try{e(t)}catch(Fe){throw e._pluginName&&(Fe.message+="[".concat(e._pluginName,"]")),Fe}}))},Qe=function(e,t){return _e(e).reduce((function(e,n){return e.then((function(e){return!1!==e&&n.apply(void 0,c(t))}))["catch"]((function(e){throw n._pluginName&&(e.message+="[".concat(n._pluginName,"]")),e}))}),Promise.resolve(!0))},Xe="5.0.0-rc.5";function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=d("LC:Realtime"),nt=new ae("push-router"),rt={},it=function(e){function t(n){var i,o=n.plugins,s=l(n,["plugins"]);tt("initializing Realtime %s %O",Xe,s),i=e.call(this)||this;var a=s.appId;if("string"!==typeof a)throw new TypeError("appId [".concat(a,"] is not a string"));if(rt[a])throw new Error("App [".concat(a,"] is aleady initialized."));if(rt[a]=!0,"string"!==typeof s.appKey)throw new TypeError("appKey [".concat(s.appKey,"] is not a string"));if(we(a)&&!s.server)throw new TypeError("server option is required for apps from CN region");i._options=et({appId:void 0,appKey:void 0,pushOfflineMessages:!1,noBinary:!1,ssl:!0,RTMServerName:"undefined"!==typeof r?Object({NODE_ENV:"production",BASE_URL:""}).RTM_SERVER_NAME:void 0},s),i._cache=new ae("endpoints");var u=ye(h(i));u.clients=new Set,u.pendingClients=new Set;var f=[].concat(c(_e(t.__preRegisteredPlugins)),c(_e(o)));return tt("Using plugins %o",f.map((function(e){return e.name}))),i._plugins=f.reduce((function(e,t){return Object.keys(t).forEach((function(n){({}).hasOwnProperty.call(t,n)&&"name"!==n&&(t.name&&_e(t[n]).forEach((function(e){e._pluginName=t.name})),e[n]=_e(e[n]).concat(t[n]))})),e}),{}),Je(i._plugins.onRealtimeCreate,h(i)),i}p(t,e);var n=t.prototype;return n._request=function(){var e=u(a.mark((function e(t){var n,r,i,o,s,u,c,f,l,h,p,d,y,v;return a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.method,r=t.url,i=t.version,o=void 0===i?"1.1":i,s=t.path,u=t.query,c=t.headers,f=t.data,l=r,l){e.next=9;break}return h=this._options,p=h.appId,d=h.server,e.next=6,this.constructor._getServerUrls({appId:p,server:d});case 6:y=e.sent,v=y.api,l="".concat(v,"/").concat(o).concat(s);case 9:return e.abrupt("return",Ke({url:l,method:n,query:u,headers:et({"X-LC-Id":this._options.appId,"X-LC-Key":this._options.appKey},c),data:f}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n._open=function(){var e=this;if(this._openPromise)return this._openPromise;var t="protobuf2";this._options.noBinary&&(t="proto2base64");var n=3;this._options.pushOfflineMessages&&(n=1);var r={format:t,version:n};return this._openPromise=new Promise((function(t,n){tt("No connection established, create a new one.");var i=new Ge((function(){return e._getRTMServers(e._options)}),r);i.on(Ae,(function(){return t(i)})).on(je,n).on(We,u(a.mark((function t(){return a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return tt("Connection expired. Refresh endpoints."),e._cache.set("endpoints",null,0),t.next=4,e._getRTMServers(e._options);case 4:i.urls=t.sent,i.disconnect();case 6:case"end":return t.stop()}}),t)})))).on(ke,e._dispatchCommand.bind(e)),[Ie,Ne,Ce,xe,Re,Pe].forEach((function(t){return i.on(t,(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];tt("".concat(t," event emitted. %o"),r),e.emit.apply(e,[t].concat(r)),t!==Ne&&ye(e).clients.forEach((function(e){e.emit.apply(e,[t].concat(r))}))}))})),i.handleClose=function(e){var t=[qe.APP_NOT_AVAILABLE,qe.INVALID_LOGIN,qe.INVALID_ORIGIN].some((function(t){return t===e.code}));t?this["throw"](Ve(e)):this.disconnect()},ye(e).connection=i})),this._openPromise},n._getRTMServers=function(){var e=u(a.mark((function e(t){var n,r,i,o,s,u;return a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.RTMServers){e.next=2;break}return e.abrupt("return",y(_e(t.RTMServers)));case 2:if(r=this._cache.get("endpoints"),!r){e.next=7;break}n=r,e.next=14;break;case 7:return e.next=9,this.constructor._fetchRTMServers(t);case 9:if(n=e.sent,i=n,o=i.server,s=i.secondary,u=i.ttl,"string"===typeof o||"string"===typeof s||"number"===typeof u){e.next=13;break}throw new Error("malformed RTM route response: ".concat(JSON.stringify(n)));case 13:this._cache.set("endpoints",n,1e3*n.ttl);case 14:return tt("endpoint info: %O",n),e.abrupt("return",[n.server,n.secondary]);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t._getServerUrls=function(){var e=u(a.mark((function e(t){var n,r,i,o;return a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.appId,r=t.server,tt("fetch server urls"),!r){e.next=6;break}if("string"===typeof r){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",{RTMRouter:r,api:r});case 6:if(i=nt.get(n),!i){e.next=9;break}return e.abrupt("return",i);case 9:return o="https://",e.abrupt("return",Ke({url:"https://app-router.com/2/route",query:{appId:n},timeout:2e4}).then(pe(tt)).then((function(e){var t=e.rtm_router_server,r=e.api_server,i=e.ttl,s=void 0===i?3600:i;if(!t)throw new Error("rtm router not exists");var a={RTMRouter:"".concat(o).concat(t),api:"".concat(o).concat(r)};return nt.set(n,a,1e3*s),a}))["catch"]((function(){var e=n.slice(0,8).toLowerCase(),t="lncldglobal.com";return{RTMRouter:"".concat(o).concat(e,".rtm.").concat(t),api:"".concat(o).concat(e,".api.").concat(t)}})));case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),t._fetchRTMServers=function(e){var t=e.appId,n=e.ssl,r=e.server,i=e.RTMServerName;return tt("fetch endpoint info"),this._getServerUrls({appId:t,server:r}).then(pe(tt)).then((function(e){var r=e.RTMRouter;return Ke({url:"".concat(r,"/v1/route"),query:{appId:t,secure:n,features:be?"wechat":void 0,server:i,_t:Date.now()},timeout:2e4}).then(pe(tt))}))},n._close=function(){this._openPromise&&this._openPromise.then((function(e){return e.close()})),delete this._openPromise},n.retry=function(){var e=ye(this),t=e.connection;if(!t)throw new Error("no connection established");if(t.cannot("retry"))throw new Error("retrying not allowed when not disconnected. the connection is now ".concat(t.current));return t.retry()},n.pause=function(){var e=ye(this),t=e.connection;t&&t.can("pause")&&t.pause()},n.resume=function(){var e=ye(this),t=e.connection;t&&t.can("resume")&&t.resume()},n._registerPending=function(e){ye(this).pendingClients.add(e)},n._deregisterPending=function(e){ye(this).pendingClients["delete"](e)},n._register=function(e){ye(this).clients.add(e)},n._deregister=function(e){var t=ye(this);t.clients["delete"](e),t.clients.size+t.pendingClients.size===0&&this._close()},n._dispatchCommand=function(e){return Qe(this._plugins.beforeCommandDispatch,[e,this]).then((function(t){return!!t&&tt("[WARN] Unexpected message received: %O",me(e))}))},t}(s),ot=Promise;t.EventEmitter=s,t.Promise=ot,t.Protocals=X,t.Protocols=X,t.Realtime=it,t.debug=le,t.getAdapter=ee,t.setAdapters=te}).call(this,n("c8ba"),n("4362"))},ed53:function(e,t,n){(function(t,r,i){e.exports=r(n("21bf"),n("94f8"),n("5980"))})(0,(function(e){return e.HmacSHA256}))},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f0e4:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n("c975"),n("b64b"),e.exports=r},f10f:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"StorageType",(function(){return r})),n.d(t,"AbstractSDKRequest",(function(){return i})),n.d(t,"AbstractStorage",(function(){return o})),n.d(t,"formatUrl",(function(){return s})),function(e){e["local"]="local",e["none"]="none",e["session"]="session"}(r||(r={}));var i=function(){function e(){}return e}(),o=function(){function e(){}return e}();function s(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),i="";for(var o in n)""===i?!r&&(t+="?"):i+="&",i+=o+"="+encodeURIComponent(n[o]);return t+=i,/^http(s)?\:\/\//.test(t)?t:""+e+t}},f12e:function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return h}));var r=n("364b"),i=r["constants"].setSdkName,o=r["constants"].setProtocol,s="",a="@cloudbase/js-sdk";function u(e){s=e}function c(){return s}function f(e){a=e,i(e)}function l(){return a}var h,p="2020-01-10",d="undefined"!==typeof location&&"http:"===location.protocol?"http:":"https:",y="//tcb-api.tencentcloudapi.com/web";function v(e,t){y=e,t&&(d=t,o(t))}function g(e,t,n){var r=t?"//"+e+"."+t+".tcb-api.tencentcloudapi.com/web":"//"+e+".ap-shanghai.tcb-api.tencentcloudapi.com/web";v(r,n)}function m(){return{BASE_URL:y,PROTOCOL:d}}(function(e){e["ANONYMOUS"]="ANONYMOUS",e["WECHAT"]="WECHAT",e["CUSTOM"]="CUSTOM",e["NULL"]="NULL"})(h||(h={}))}).call(this,n("4362"))},f338:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return null!==e&&"object"===r(e)}e.exports=i},f4c4:function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,o=9007199254740991,s="[object Function]",a="[object GeneratorFunction]",u="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,l=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,d=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,g="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,_=g||m||Function("return this")();function b(e,t){return null==e?void 0:e[t]}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var E=Array.prototype,O=Function.prototype,S=Object.prototype,T=_["__core-js_shared__"],A=function(){var e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),I=O.toString,N=S.hasOwnProperty,C=S.toString,x=RegExp("^"+I.call(N).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=_.Symbol,P=E.splice,j=ue(_,"Map"),k=ue(Object,"create"),L=R?R.prototype:void 0,M=L?L.toString:void 0;function D(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function B(){this.__data__=k?k(null):{}}function U(e){return this.has(e)&&delete this.__data__[e]}function F(e){var t=this.__data__;if(k){var n=t[e];return n===r?void 0:n}return N.call(t,e)?t[e]:void 0}function q(e){var t=this.__data__;return k?void 0!==t[e]:N.call(t,e)}function V(e,t){var n=this.__data__;return n[e]=k&&void 0===t?r:t,this}function Y(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function $(){this.__data__=[]}function W(e){var t=this.__data__,n=ne(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():P.call(t,n,1),!0}function z(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]}function G(e){return ne(this.__data__,e)>-1}function H(e,t){var n=this.__data__,r=ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function K(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function J(){this.__data__={hash:new D,map:new(j||Y),string:new D}}function Q(e){return ae(this,e)["delete"](e)}function X(e){return ae(this,e).get(e)}function Z(e){return ae(this,e).has(e)}function ee(e,t){return ae(this,e).set(e,t),this}function te(e,t,n){var r=e[t];N.call(e,t)&&ge(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ne(e,t){var n=e.length;while(n--)if(ge(e[n][0],t))return n;return-1}function re(e){if(!be(e)||he(e))return!1;var t=_e(e)||w(e)?x:y;return t.test(ye(e))}function ie(e,t,n,r){if(!be(e))return e;t=fe(t,e)?[t]:se(t);var i=-1,o=t.length,s=o-1,a=e;while(null!=a&&++i<o){var u=de(t[i]),c=n;if(i!=s){var f=a[u];c=r?r(f,u,a):void 0,void 0===c&&(c=be(f)?f:ce(t[i+1])?[]:{})}te(a,u,c),a=a[u]}return e}function oe(e){if("string"==typeof e)return e;if(Ee(e))return M?M.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function se(e){return me(e)?e:pe(e)}function ae(e,t){var n=e.__data__;return le(t)?n["string"==typeof t?"string":"hash"]:n.map}function ue(e,t){var n=b(e,t);return re(n)?n:void 0}function ce(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||v.test(e))&&e>-1&&e%1==0&&e<t}function fe(e,t){if(me(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ee(e))||(f.test(e)||!c.test(e)||null!=t&&e in Object(t))}function le(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function he(e){return!!A&&A in e}D.prototype.clear=B,D.prototype["delete"]=U,D.prototype.get=F,D.prototype.has=q,D.prototype.set=V,Y.prototype.clear=$,Y.prototype["delete"]=W,Y.prototype.get=z,Y.prototype.has=G,Y.prototype.set=H,K.prototype.clear=J,K.prototype["delete"]=Q,K.prototype.get=X,K.prototype.has=Z,K.prototype.set=ee;var pe=ve((function(e){e=Oe(e);var t=[];return l.test(e)&&t.push(""),e.replace(h,(function(e,n,r,i){t.push(r?i.replace(d,"$1"):n||e)})),t}));function de(e){if("string"==typeof e||Ee(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function ye(e){if(null!=e){try{return I.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ve(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(ve.Cache||K),r}function ge(e,t){return e===t||e!==e&&t!==t}ve.Cache=K;var me=Array.isArray;function _e(e){var t=be(e)?C.call(e):"";return t==s||t==a}function be(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function we(e){return!!e&&"object"==typeof e}function Ee(e){return"symbol"==typeof e||we(e)&&C.call(e)==u}function Oe(e){return null==e?"":oe(e)}function Se(e,t,n){return null==e?e:ie(e,t,n)}e.exports=Se}).call(this,n("c8ba"))},f560:function(e,t,n){var r=n("225e"),i=n("3956"),o=n("6747");function s(e){var t=o(e)?r:i;return t(e)}e.exports=s},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f5e5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},f8d5:function(e,t,n){(function(t,r){e.exports=r(n("21bf"))})(0,(function(e){return e.enc.Utf8}))},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),s=n("23cb"),a=n("50c4"),u=n("fc6a"),c=n("8418"),f=n("b622"),l=n("1dde"),h=n("ae40"),p=l("slice"),d=h("slice",{ACCESSORS:!0,0:0,1:2}),y=f("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!d},{slice:function(e,t){var n,r,f,l=u(this),h=a(l.length),p=s(e,h),d=s(void 0===t?h:t,h);if(o(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[y],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(l,p,d);for(r=new(void 0===n?Array:n)(g(d-p,0)),f=0;p<d;p++,f++)p in l&&c(r,f,l[p]);return r.length=f,r}})},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdf7:function(e,t,n){"use strict";var r=n("c72e"),i=n("e73f"),o=n("1bcd");e.exports=o(i(r))},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise},ff21:function(e,t,n){"use strict";var r=n("a079");function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,t)&&(e[t]=i.prototype[t]);return e}e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(this[i]=n[i]);this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(o){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e}}}]);
//# sourceMappingURL=chunk-vendors.55c2602a.js.map